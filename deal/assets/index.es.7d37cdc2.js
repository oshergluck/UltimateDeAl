import{gx as no,c1 as c0,cD as U8,gy as Yt,cl as zr,gz as tm,gA as em,gB as q8,gC as q0,gD as un,gE as Gi,gF as rm,gG as im,gH as z8,gI as nm,gJ as T1,gK as Pu,gL as L8,gM as H8,gN as $8,gO as sm,gP as Zs,gQ as Bs,gR as $i,gS as th,gT as j8,gU as ei,gV as Ei,gW as Qu,gX as K8,gY as Q8,gZ as O1,g_ as G8,g$ as J8,h0 as f0,h1 as om,h2 as z0,h3 as Y8,h4 as L0,h5 as Gu,h6 as H0,h7 as rs,h8 as V8,h9 as _o,cu as W8,ha as F1,hb as X8,y as Z8}from"./index.a890a1de.js";const t4=Object.freeze(Object.defineProperty({__proto__:null,IEvents:no},Symbol.toStringTag,{value:"Module"}));function D1(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const n=e[i];r.push(...n.accounts)}),r}var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e4(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var hm={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;f?n=am:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],C=[1,256,65536,16777216],P=[6,1536,393216,100663296],O=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],W=[128,256],ht=["hex","buffer","arrayBuffer","array","digest"],ut={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var nt=function(l,x,R){return function(T){return new m(l,x,l).update(T)[R]()}},et=function(l,x,R){return function(T,$){return new m(l,x,$).update(T)[R]()}},rt=function(l,x,R){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[R]()}},ft=function(l,x,R){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[R]()}},tt=function(l,x,R,T){for(var $=0;$<ht.length;++$){var U=ht[$];l[U]=x(R,T,U)}return l},Gt=function(l,x){var R=nt(l,x,"hex");return R.create=function(){return new m(l,x,l)},R.update=function(T){return R.create().update(T)},tt(R,nt,l,x)},V=function(l,x){var R=et(l,x,"hex");return R.create=function(T){return new m(l,x,T)},R.update=function(T,$){return R.create($).update(T)},tt(R,et,l,x)},j=function(l,x){var R=ut[l],T=rt(l,x,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,x,$).bytepad([U,z],R)},T.update=function($,U,z,J){return T.create(U,z,J).update($)},tt(T,rt,l,x)},Z=function(l,x){var R=ut[l],T=ft(l,x,"hex");return T.create=function($,U,z){return new Y(l,x,U).bytepad(["KMAC",z],R).bytepad([$],R)},T.update=function($,U,z,J){return T.create($,z,J).update(U)},tt(T,ft,l,x)},s=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:P,bits:k,createMethod:Gt},{name:"shake",padding:_,bits:W,createMethod:V},{name:"cshake",padding:S,bits:W,createMethod:j},{name:"kmac",padding:S,bits:W,createMethod:Z}],c={},d=[],g=0;g<s.length;++g)for(var w=s[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,x,R){this.blocks=[],this.s=[],this.padding=x,this.outputBits=R,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=R>>5,this.extraBytes=(R&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,J=0,it=this.s,q,pt;J<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(x)for(q=this.start;J<U&&q<$;++J)T[q>>2]|=l[J]<<O[q++&3];else for(q=this.start;J<U&&q<$;++J)pt=l.charCodeAt(J),pt<128?T[q>>2]|=pt<<O[q++&3]:pt<2048?(T[q>>2]|=(192|pt>>6)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):pt<55296||pt>=57344?(T[q>>2]|=(224|pt>>12)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):(pt=65536+((pt&1023)<<10|l.charCodeAt(++J)&1023),T[q>>2]|=(240|pt>>18)<<O[q++&3],T[q>>2]|=(128|pt>>12&63)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)it[q]^=T[q];Q(it),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,x){var R=l&255,T=1,$=[R];for(l=l>>8,R=l&255;R>0;)$.unshift(R),l=l>>8,R=l&255,++T;return x?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}var T=0,$=l.length;if(x)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,x){for(var R=this.encode(x),T=0;T<l.length;++T)R+=this.encodeString(l[T]);var $=x-R%x,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,x=this.lastByteIndex,R=this.blockCount,T=this.s;if(l[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(l[0]=l[R],x=1;x<R+1;++x)l[x]=0;for(l[R-1]|=2147483648,x=0;x<R;++x)T[x]^=l[x];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",J;U<R;){for($=0;$<l&&U<R;++$,++U)J=x[$],z+=A[J>>4&15]+A[J&15]+A[J>>12&15]+A[J>>8&15]+A[J>>20&15]+A[J>>16&15]+A[J>>28&15]+A[J>>24&15];U%l===0&&(Q(x),$=0)}return T&&(J=x[$],z+=A[J>>4&15]+A[J&15],T>1&&(z+=A[J>>12&15]+A[J>>8&15]),T>2&&(z+=A[J>>20&15]+A[J>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,J;T?J=new ArrayBuffer(R+1<<2):J=new ArrayBuffer(z);for(var it=new Uint32Array(J);U<R;){for($=0;$<l&&U<R;++$,++U)it[U]=x[$];U%l===0&&Q(x)}return T&&(it[$]=x[$],J=J.slice(0,z)),J},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],J,it;U<R;){for($=0;$<l&&U<R;++$,++U)J=U<<2,it=x[$],z[J]=it&255,z[J+1]=it>>8&255,z[J+2]=it>>16&255,z[J+3]=it>>24&255;U%l===0&&Q(x)}return T&&(J=U<<2,it=x[$],z[J]=it&255,T>1&&(z[J+1]=it>>8&255),T>2&&(z[J+2]=it>>16&255)),z};function Y(l,x,R){m.call(this,l,x,R)}Y.prototype=new m,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var x,R,T,$,U,z,J,it,q,pt,Pt,lt,ke,xt,gt,Ae,mt,yt,je,vt,Bt,Ie,dt,wt,Be,At,bt,Te,Et,Mt,Oe,It,Tt,Ke,Ot,Nt,Ue,Ft,Dt,Qe,kt,Ct,Ge,Ut,qt,Fe,zt,_t,Je,Lt,Ht,Ye,$t,jt,Ve,Kt,Rt,Se,Ne,Ce,Re,Pe,xe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],J=l[3]^l[13]^l[23]^l[33]^l[43],it=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],pt=l[6]^l[16]^l[26]^l[36]^l[46],Pt=l[7]^l[17]^l[27]^l[37]^l[47],lt=l[8]^l[18]^l[28]^l[38]^l[48],ke=l[9]^l[19]^l[29]^l[39]^l[49],x=lt^(z<<1|J>>>31),R=ke^(J<<1|z>>>31),l[0]^=x,l[1]^=R,l[10]^=x,l[11]^=R,l[20]^=x,l[21]^=R,l[30]^=x,l[31]^=R,l[40]^=x,l[41]^=R,x=$^(it<<1|q>>>31),R=U^(q<<1|it>>>31),l[2]^=x,l[3]^=R,l[12]^=x,l[13]^=R,l[22]^=x,l[23]^=R,l[32]^=x,l[33]^=R,l[42]^=x,l[43]^=R,x=z^(pt<<1|Pt>>>31),R=J^(Pt<<1|pt>>>31),l[4]^=x,l[5]^=R,l[14]^=x,l[15]^=R,l[24]^=x,l[25]^=R,l[34]^=x,l[35]^=R,l[44]^=x,l[45]^=R,x=it^(lt<<1|ke>>>31),R=q^(ke<<1|lt>>>31),l[6]^=x,l[7]^=R,l[16]^=x,l[17]^=R,l[26]^=x,l[27]^=R,l[36]^=x,l[37]^=R,l[46]^=x,l[47]^=R,x=pt^($<<1|U>>>31),R=Pt^(U<<1|$>>>31),l[8]^=x,l[9]^=R,l[18]^=x,l[19]^=R,l[28]^=x,l[29]^=R,l[38]^=x,l[39]^=R,l[48]^=x,l[49]^=R,xt=l[0],gt=l[1],Fe=l[11]<<4|l[10]>>>28,zt=l[10]<<4|l[11]>>>28,Te=l[20]<<3|l[21]>>>29,Et=l[21]<<3|l[20]>>>29,Ce=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,Ct=l[40]<<18|l[41]>>>14,Ge=l[41]<<18|l[40]>>>14,Ke=l[2]<<1|l[3]>>>31,Ot=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,mt=l[12]<<12|l[13]>>>20,_t=l[22]<<10|l[23]>>>22,Je=l[23]<<10|l[22]>>>22,Mt=l[33]<<13|l[32]>>>19,Oe=l[32]<<13|l[33]>>>19,Pe=l[42]<<2|l[43]>>>30,xe=l[43]<<2|l[42]>>>30,jt=l[5]<<30|l[4]>>>2,Ve=l[4]<<30|l[5]>>>2,Nt=l[14]<<6|l[15]>>>26,Ue=l[15]<<6|l[14]>>>26,yt=l[25]<<11|l[24]>>>21,je=l[24]<<11|l[25]>>>21,Lt=l[34]<<15|l[35]>>>17,Ht=l[35]<<15|l[34]>>>17,It=l[45]<<29|l[44]>>>3,Tt=l[44]<<29|l[45]>>>3,wt=l[6]<<28|l[7]>>>4,Be=l[7]<<28|l[6]>>>4,Kt=l[17]<<23|l[16]>>>9,Rt=l[16]<<23|l[17]>>>9,Ft=l[26]<<25|l[27]>>>7,Dt=l[27]<<25|l[26]>>>7,vt=l[36]<<21|l[37]>>>11,Bt=l[37]<<21|l[36]>>>11,Ye=l[47]<<24|l[46]>>>8,$t=l[46]<<24|l[47]>>>8,Ut=l[8]<<27|l[9]>>>5,qt=l[9]<<27|l[8]>>>5,At=l[18]<<20|l[19]>>>12,bt=l[19]<<20|l[18]>>>12,Se=l[29]<<7|l[28]>>>25,Ne=l[28]<<7|l[29]>>>25,Qe=l[38]<<8|l[39]>>>24,kt=l[39]<<8|l[38]>>>24,Ie=l[48]<<14|l[49]>>>18,dt=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&yt,l[1]=gt^~mt&je,l[10]=wt^~At&Te,l[11]=Be^~bt&Et,l[20]=Ke^~Nt&Ft,l[21]=Ot^~Ue&Dt,l[30]=Ut^~Fe&_t,l[31]=qt^~zt&Je,l[40]=jt^~Kt&Se,l[41]=Ve^~Rt&Ne,l[2]=Ae^~yt&vt,l[3]=mt^~je&Bt,l[12]=At^~Te&Mt,l[13]=bt^~Et&Oe,l[22]=Nt^~Ft&Qe,l[23]=Ue^~Dt&kt,l[32]=Fe^~_t&Lt,l[33]=zt^~Je&Ht,l[42]=Kt^~Se&Ce,l[43]=Rt^~Ne&Re,l[4]=yt^~vt&Ie,l[5]=je^~Bt&dt,l[14]=Te^~Mt&It,l[15]=Et^~Oe&Tt,l[24]=Ft^~Qe&Ct,l[25]=Dt^~kt&Ge,l[34]=_t^~Lt&Ye,l[35]=Je^~Ht&$t,l[44]=Se^~Ce&Pe,l[45]=Ne^~Re&xe,l[6]=vt^~Ie&xt,l[7]=Bt^~dt&gt,l[16]=Mt^~It&wt,l[17]=Oe^~Tt&Be,l[26]=Qe^~Ct&Ke,l[27]=kt^~Ge&Ot,l[36]=Lt^~Ye&Ut,l[37]=Ht^~$t&qt,l[46]=Ce^~Pe&jt,l[47]=Re^~xe&Ve,l[8]=Ie^~xt&Ae,l[9]=dt^~gt&mt,l[18]=It^~wt&At,l[19]=Tt^~Be&bt,l[28]=Ct^~Ke&Nt,l[29]=Ge^~Ot&Ue,l[38]=Ye^~Ut&Fe,l[39]=$t^~qt&zt,l[48]=Pe^~jt&Kt,l[49]=xe^~Ve&Rt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(hm);hm.exports;const r4="logger/5.7.0";let k1=!1,U1=!1;const gu={debug:1,default:2,info:2,warning:3,error:4,off:5};let q1=gu.default,cf=null;function i4(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const z1=i4();var l0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(l0||(l0={}));var rn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(rn||(rn={}));const L1="0123456789abcdef";class oe{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();gu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(q1>gu[i])&&console.log.apply(console,r)}debug(...t){this._log(oe.levels.DEBUG,t)}info(...t){this._log(oe.levels.INFO,t)}warn(...t){this._log(oe.levels.WARNING,t)}makeError(t,r,i){if(U1)return this.makeError("censored error",r,{});r||(r=oe.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let _="";for(let S=0;S<A.length;S++)_+=L1[A[S]>>4],_+=L1[A[S]&15];n.push(b+"=Uint8Array(0x"+_+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case rn.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case rn.CALL_EXCEPTION:case rn.INSUFFICIENT_FUNDS:case rn.MISSING_NEW:case rn.NONCE_EXPIRED:case rn.REPLACEMENT_UNDERPRICED:case rn.TRANSACTION_REPLACED:case rn.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,oe.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){z1&&this.throwError("platform missing String.prototype.normalize",oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:z1})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,oe.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,oe.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",oe.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cf||(cf=new oe(r4)),cf}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),k1){if(!t)return;this.globalLogger().throwError("error censorship permanent",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}U1=!!t,k1=!!r}static setLogLevel(t){const r=gu[t.toLowerCase()];if(r==null){oe.globalLogger().warn("invalid log level - "+t);return}q1=r}static from(t){return new oe(t)}}oe.errors=rn,oe.levels=l0;const n4="bytes/5.7.0",Ts=new oe(n4);function um(e){return!!e.toHexString}function mu(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return mu(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function H1(e){return typeof e=="number"&&e==e&&e%1===0}function eh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!H1(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!H1(r)||r<0||r>=256)return!1}return!0}function cm(e,t){if(t||(t={}),typeof e=="number"){Ts.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),mu(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),um(e)&&(e=e.toHexString()),jo(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Ts.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return mu(new Uint8Array(i))}return eh(e)?mu(new Uint8Array(e)):Ts.throwArgumentError("invalid arrayify value","value",e)}function jo(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const ff="0123456789abcdef";function fm(e,t){if(t||(t={}),typeof e=="number"){Ts.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=ff[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),um(e))return e.toHexString();if(jo(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Ts.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(eh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=ff[(n&240)>>4]+ff[n&15]}return r}return Ts.throwArgumentError("invalid hexlify value","value",e)}function xu(e,t){for(typeof e!="string"?e=fm(e):jo(e)||Ts.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Ts.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var lm={exports:{}},s4={},o4=Object.freeze({__proto__:null,default:s4}),a4=e4(o4);(function(e){(function(t,r){function i(s,c){if(!s)throw new Error(c||"Assertion failed")}function n(s,c){s.super_=c;var d=function(){};d.prototype=c.prototype,s.prototype=new d,s.prototype.constructor=s}function a(s,c,d){if(a.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(s||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=a4.Buffer}catch{}a.isBN=function(s){return s instanceof a?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===a.wordSize&&Array.isArray(s.words)},a.max=function(s,c){return s.cmp(c)>0?s:c},a.min=function(s,c){return s.cmp(c)<0?s:c},a.prototype._init=function(s,c,d){if(typeof s=="number")return this._initNumber(s,c,d);if(typeof s=="object")return this._initArray(s,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\s+/g,"");var g=0;s[0]==="-"&&(g++,this.negative=1),g<s.length&&(c===16?this._parseHex(s,g,d):(this._parseBase(s,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(s,c,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(s,c,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=s.length-1,w=0;g>=0;g-=3)E=s[g]|s[g-1]<<8|s[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<s.length;g+=3)E=s[g]|s[g+1]<<8|s[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(s,c){var d=s.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function b(s,c,d){var g=v(s,d);return d-1>=c&&(g|=v(s,d-1)<<4),g}a.prototype._parseHex=function(s,c,d){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=s.length-1;g>=c;g-=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=s.length-c;for(g=y%2===0?c+1:c;g<s.length;g+=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(s,c,d,g){for(var w=0,E=0,I=Math.min(s.length,d),y=c;y<I;y++){var h=s.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(s,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=s.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(s,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var Y=1;for(h=A(s,m,s.length,c),m=0;m<I;m++)Y*=c;this.imuln(Y),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,c){s.words=c.words,s.length=c.length,s.negative=c.negative,s.red=c.red}if(a.prototype._move=function(s){_(s,this)},a.prototype.clone=function(){var s=new a(null);return this.copy(s),s},a.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{a.prototype.inspect=S}else a.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(s,c){s=s||10,c=c|0||1;var d;if(s===16||s==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var h=P[s],m=O[s];d="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modrn(m).toString(s);Y=Y.idivn(m),Y.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(s,c){return this.toArrayLike(f,s,c)}),a.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var H=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};a.prototype.toArrayLike=function(s,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(s,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(s,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d++]=I&255,d<s.length&&(s[d++]=I>>8&255),d<s.length&&(s[d++]=I>>16&255),E===6?(d<s.length&&(s[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<s.length)for(s[d++]=g;d<s.length;)s[d++]=0},a.prototype._toArrayLikeBE=function(s,c){for(var d=s.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d--]=I&255,d>=0&&(s[d--]=I>>8&255),d>=0&&(s[d--]=I>>16&255),E===6?(d>=0&&(s[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(s[d--]=g;d>=0;)s[d--]=0},Math.clz32?a.prototype._countBits=function(s){return 32-Math.clz32(s)}:a.prototype._countBits=function(s){var c=s,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function k(s){for(var c=new Array(s.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=s.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(s+=d,d!==26)break}return s},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},a.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},a.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},a.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},a.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},a.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},a.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},a.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},a.prototype.iuxor=function(s){var c,d;this.length>s.length?(c=this,d=s):(c=s,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},a.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},a.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},a.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,d=s%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(s){return this.clone().inotn(s)},a.prototype.setn=function(s,c){i(typeof s=="number"&&s>=0);var d=s/26|0,g=s%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var d,g;this.length>s.length?(d=this,g=s):(d=s,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},a.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=s):(g=s,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(s){return this.clone().isub(s)};function W(s,c,d){d.negative=c.negative^s.negative;var g=s.length+c.length|0;d.length=g,g=g-1|0;var w=s.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var Y=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),x=Math.max(0,m-s.length+1);x<=l;x++){var R=m-x|0;w=s.words[R]|0,E=c.words[x]|0,I=w*E+Q,Y+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=Y|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ht=function(s,c,d){var g=s.words,w=c.words,E=d.words,I=0,y,h,m,Y=g[0]|0,Q=Y&8191,l=Y>>>13,x=g[1]|0,R=x&8191,T=x>>>13,$=g[2]|0,U=$&8191,z=$>>>13,J=g[3]|0,it=J&8191,q=J>>>13,pt=g[4]|0,Pt=pt&8191,lt=pt>>>13,ke=g[5]|0,xt=ke&8191,gt=ke>>>13,Ae=g[6]|0,mt=Ae&8191,yt=Ae>>>13,je=g[7]|0,vt=je&8191,Bt=je>>>13,Ie=g[8]|0,dt=Ie&8191,wt=Ie>>>13,Be=g[9]|0,At=Be&8191,bt=Be>>>13,Te=w[0]|0,Et=Te&8191,Mt=Te>>>13,Oe=w[1]|0,It=Oe&8191,Tt=Oe>>>13,Ke=w[2]|0,Ot=Ke&8191,Nt=Ke>>>13,Ue=w[3]|0,Ft=Ue&8191,Dt=Ue>>>13,Qe=w[4]|0,kt=Qe&8191,Ct=Qe>>>13,Ge=w[5]|0,Ut=Ge&8191,qt=Ge>>>13,Fe=w[6]|0,zt=Fe&8191,_t=Fe>>>13,Je=w[7]|0,Lt=Je&8191,Ht=Je>>>13,Ye=w[8]|0,$t=Ye&8191,jt=Ye>>>13,Ve=w[9]|0,Kt=Ve&8191,Rt=Ve>>>13;d.negative=s.negative^c.negative,d.length=19,y=Math.imul(Q,Et),h=Math.imul(Q,Mt),h=h+Math.imul(l,Et)|0,m=Math.imul(l,Mt);var Se=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,y=Math.imul(R,Et),h=Math.imul(R,Mt),h=h+Math.imul(T,Et)|0,m=Math.imul(T,Mt),y=y+Math.imul(Q,It)|0,h=h+Math.imul(Q,Tt)|0,h=h+Math.imul(l,It)|0,m=m+Math.imul(l,Tt)|0;var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(U,Et),h=Math.imul(U,Mt),h=h+Math.imul(z,Et)|0,m=Math.imul(z,Mt),y=y+Math.imul(R,It)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(T,It)|0,m=m+Math.imul(T,Tt)|0,y=y+Math.imul(Q,Ot)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,Ot)|0,m=m+Math.imul(l,Nt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(it,Et),h=Math.imul(it,Mt),h=h+Math.imul(q,Et)|0,m=Math.imul(q,Mt),y=y+Math.imul(U,It)|0,h=h+Math.imul(U,Tt)|0,h=h+Math.imul(z,It)|0,m=m+Math.imul(z,Tt)|0,y=y+Math.imul(R,Ot)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(T,Ot)|0,m=m+Math.imul(T,Nt)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,Dt)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,Dt)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Pt,Et),h=Math.imul(Pt,Mt),h=h+Math.imul(lt,Et)|0,m=Math.imul(lt,Mt),y=y+Math.imul(it,It)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(q,It)|0,m=m+Math.imul(q,Tt)|0,y=y+Math.imul(U,Ot)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,Ot)|0,m=m+Math.imul(z,Nt)|0,y=y+Math.imul(R,Ft)|0,h=h+Math.imul(R,Dt)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,Dt)|0,y=y+Math.imul(Q,kt)|0,h=h+Math.imul(Q,Ct)|0,h=h+Math.imul(l,kt)|0,m=m+Math.imul(l,Ct)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(xt,Et),h=Math.imul(xt,Mt),h=h+Math.imul(gt,Et)|0,m=Math.imul(gt,Mt),y=y+Math.imul(Pt,It)|0,h=h+Math.imul(Pt,Tt)|0,h=h+Math.imul(lt,It)|0,m=m+Math.imul(lt,Tt)|0,y=y+Math.imul(it,Ot)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(q,Ot)|0,m=m+Math.imul(q,Nt)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,Dt)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,Dt)|0,y=y+Math.imul(R,kt)|0,h=h+Math.imul(R,Ct)|0,h=h+Math.imul(T,kt)|0,m=m+Math.imul(T,Ct)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,qt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,qt)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(mt,Et),h=Math.imul(mt,Mt),h=h+Math.imul(yt,Et)|0,m=Math.imul(yt,Mt),y=y+Math.imul(xt,It)|0,h=h+Math.imul(xt,Tt)|0,h=h+Math.imul(gt,It)|0,m=m+Math.imul(gt,Tt)|0,y=y+Math.imul(Pt,Ot)|0,h=h+Math.imul(Pt,Nt)|0,h=h+Math.imul(lt,Ot)|0,m=m+Math.imul(lt,Nt)|0,y=y+Math.imul(it,Ft)|0,h=h+Math.imul(it,Dt)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,Dt)|0,y=y+Math.imul(U,kt)|0,h=h+Math.imul(U,Ct)|0,h=h+Math.imul(z,kt)|0,m=m+Math.imul(z,Ct)|0,y=y+Math.imul(R,Ut)|0,h=h+Math.imul(R,qt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,qt)|0,y=y+Math.imul(Q,zt)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,zt)|0,m=m+Math.imul(l,_t)|0;var Mr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(vt,Et),h=Math.imul(vt,Mt),h=h+Math.imul(Bt,Et)|0,m=Math.imul(Bt,Mt),y=y+Math.imul(mt,It)|0,h=h+Math.imul(mt,Tt)|0,h=h+Math.imul(yt,It)|0,m=m+Math.imul(yt,Tt)|0,y=y+Math.imul(xt,Ot)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(gt,Ot)|0,m=m+Math.imul(gt,Nt)|0,y=y+Math.imul(Pt,Ft)|0,h=h+Math.imul(Pt,Dt)|0,h=h+Math.imul(lt,Ft)|0,m=m+Math.imul(lt,Dt)|0,y=y+Math.imul(it,kt)|0,h=h+Math.imul(it,Ct)|0,h=h+Math.imul(q,kt)|0,m=m+Math.imul(q,Ct)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,qt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,qt)|0,y=y+Math.imul(R,zt)|0,h=h+Math.imul(R,_t)|0,h=h+Math.imul(T,zt)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var ri=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ri>>>26)|0,ri&=67108863,y=Math.imul(dt,Et),h=Math.imul(dt,Mt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Mt),y=y+Math.imul(vt,It)|0,h=h+Math.imul(vt,Tt)|0,h=h+Math.imul(Bt,It)|0,m=m+Math.imul(Bt,Tt)|0,y=y+Math.imul(mt,Ot)|0,h=h+Math.imul(mt,Nt)|0,h=h+Math.imul(yt,Ot)|0,m=m+Math.imul(yt,Nt)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,Dt)|0,h=h+Math.imul(gt,Ft)|0,m=m+Math.imul(gt,Dt)|0,y=y+Math.imul(Pt,kt)|0,h=h+Math.imul(Pt,Ct)|0,h=h+Math.imul(lt,kt)|0,m=m+Math.imul(lt,Ct)|0,y=y+Math.imul(it,Ut)|0,h=h+Math.imul(it,qt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,qt)|0,y=y+Math.imul(U,zt)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,zt)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(R,Lt)|0,h=h+Math.imul(R,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,jt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,jt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(At,Et),h=Math.imul(At,Mt),h=h+Math.imul(bt,Et)|0,m=Math.imul(bt,Mt),y=y+Math.imul(dt,It)|0,h=h+Math.imul(dt,Tt)|0,h=h+Math.imul(wt,It)|0,m=m+Math.imul(wt,Tt)|0,y=y+Math.imul(vt,Ot)|0,h=h+Math.imul(vt,Nt)|0,h=h+Math.imul(Bt,Ot)|0,m=m+Math.imul(Bt,Nt)|0,y=y+Math.imul(mt,Ft)|0,h=h+Math.imul(mt,Dt)|0,h=h+Math.imul(yt,Ft)|0,m=m+Math.imul(yt,Dt)|0,y=y+Math.imul(xt,kt)|0,h=h+Math.imul(xt,Ct)|0,h=h+Math.imul(gt,kt)|0,m=m+Math.imul(gt,Ct)|0,y=y+Math.imul(Pt,Ut)|0,h=h+Math.imul(Pt,qt)|0,h=h+Math.imul(lt,Ut)|0,m=m+Math.imul(lt,qt)|0,y=y+Math.imul(it,zt)|0,h=h+Math.imul(it,_t)|0,h=h+Math.imul(q,zt)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(R,$t)|0,h=h+Math.imul(R,jt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,jt)|0,y=y+Math.imul(Q,Kt)|0,h=h+Math.imul(Q,Rt)|0,h=h+Math.imul(l,Kt)|0,m=m+Math.imul(l,Rt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(At,It),h=Math.imul(At,Tt),h=h+Math.imul(bt,It)|0,m=Math.imul(bt,Tt),y=y+Math.imul(dt,Ot)|0,h=h+Math.imul(dt,Nt)|0,h=h+Math.imul(wt,Ot)|0,m=m+Math.imul(wt,Nt)|0,y=y+Math.imul(vt,Ft)|0,h=h+Math.imul(vt,Dt)|0,h=h+Math.imul(Bt,Ft)|0,m=m+Math.imul(Bt,Dt)|0,y=y+Math.imul(mt,kt)|0,h=h+Math.imul(mt,Ct)|0,h=h+Math.imul(yt,kt)|0,m=m+Math.imul(yt,Ct)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,qt)|0,h=h+Math.imul(gt,Ut)|0,m=m+Math.imul(gt,qt)|0,y=y+Math.imul(Pt,zt)|0,h=h+Math.imul(Pt,_t)|0,h=h+Math.imul(lt,zt)|0,m=m+Math.imul(lt,_t)|0,y=y+Math.imul(it,Lt)|0,h=h+Math.imul(it,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,jt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,jt)|0,y=y+Math.imul(R,Kt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(T,Kt)|0,m=m+Math.imul(T,Rt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(At,Ot),h=Math.imul(At,Nt),h=h+Math.imul(bt,Ot)|0,m=Math.imul(bt,Nt),y=y+Math.imul(dt,Ft)|0,h=h+Math.imul(dt,Dt)|0,h=h+Math.imul(wt,Ft)|0,m=m+Math.imul(wt,Dt)|0,y=y+Math.imul(vt,kt)|0,h=h+Math.imul(vt,Ct)|0,h=h+Math.imul(Bt,kt)|0,m=m+Math.imul(Bt,Ct)|0,y=y+Math.imul(mt,Ut)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(yt,Ut)|0,m=m+Math.imul(yt,qt)|0,y=y+Math.imul(xt,zt)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(gt,zt)|0,m=m+Math.imul(gt,_t)|0,y=y+Math.imul(Pt,Lt)|0,h=h+Math.imul(Pt,Ht)|0,h=h+Math.imul(lt,Lt)|0,m=m+Math.imul(lt,Ht)|0,y=y+Math.imul(it,$t)|0,h=h+Math.imul(it,jt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,jt)|0,y=y+Math.imul(U,Kt)|0,h=h+Math.imul(U,Rt)|0,h=h+Math.imul(z,Kt)|0,m=m+Math.imul(z,Rt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(At,Ft),h=Math.imul(At,Dt),h=h+Math.imul(bt,Ft)|0,m=Math.imul(bt,Dt),y=y+Math.imul(dt,kt)|0,h=h+Math.imul(dt,Ct)|0,h=h+Math.imul(wt,kt)|0,m=m+Math.imul(wt,Ct)|0,y=y+Math.imul(vt,Ut)|0,h=h+Math.imul(vt,qt)|0,h=h+Math.imul(Bt,Ut)|0,m=m+Math.imul(Bt,qt)|0,y=y+Math.imul(mt,zt)|0,h=h+Math.imul(mt,_t)|0,h=h+Math.imul(yt,zt)|0,m=m+Math.imul(yt,_t)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(gt,Lt)|0,m=m+Math.imul(gt,Ht)|0,y=y+Math.imul(Pt,$t)|0,h=h+Math.imul(Pt,jt)|0,h=h+Math.imul(lt,$t)|0,m=m+Math.imul(lt,jt)|0,y=y+Math.imul(it,Kt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(q,Kt)|0,m=m+Math.imul(q,Rt)|0;var Lr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(At,kt),h=Math.imul(At,Ct),h=h+Math.imul(bt,kt)|0,m=Math.imul(bt,Ct),y=y+Math.imul(dt,Ut)|0,h=h+Math.imul(dt,qt)|0,h=h+Math.imul(wt,Ut)|0,m=m+Math.imul(wt,qt)|0,y=y+Math.imul(vt,zt)|0,h=h+Math.imul(vt,_t)|0,h=h+Math.imul(Bt,zt)|0,m=m+Math.imul(Bt,_t)|0,y=y+Math.imul(mt,Lt)|0,h=h+Math.imul(mt,Ht)|0,h=h+Math.imul(yt,Lt)|0,m=m+Math.imul(yt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,jt)|0,h=h+Math.imul(gt,$t)|0,m=m+Math.imul(gt,jt)|0,y=y+Math.imul(Pt,Kt)|0,h=h+Math.imul(Pt,Rt)|0,h=h+Math.imul(lt,Kt)|0,m=m+Math.imul(lt,Rt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(At,Ut),h=Math.imul(At,qt),h=h+Math.imul(bt,Ut)|0,m=Math.imul(bt,qt),y=y+Math.imul(dt,zt)|0,h=h+Math.imul(dt,_t)|0,h=h+Math.imul(wt,zt)|0,m=m+Math.imul(wt,_t)|0,y=y+Math.imul(vt,Lt)|0,h=h+Math.imul(vt,Ht)|0,h=h+Math.imul(Bt,Lt)|0,m=m+Math.imul(Bt,Ht)|0,y=y+Math.imul(mt,$t)|0,h=h+Math.imul(mt,jt)|0,h=h+Math.imul(yt,$t)|0,m=m+Math.imul(yt,jt)|0,y=y+Math.imul(xt,Kt)|0,h=h+Math.imul(xt,Rt)|0,h=h+Math.imul(gt,Kt)|0,m=m+Math.imul(gt,Rt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(At,zt),h=Math.imul(At,_t),h=h+Math.imul(bt,zt)|0,m=Math.imul(bt,_t),y=y+Math.imul(dt,Lt)|0,h=h+Math.imul(dt,Ht)|0,h=h+Math.imul(wt,Lt)|0,m=m+Math.imul(wt,Ht)|0,y=y+Math.imul(vt,$t)|0,h=h+Math.imul(vt,jt)|0,h=h+Math.imul(Bt,$t)|0,m=m+Math.imul(Bt,jt)|0,y=y+Math.imul(mt,Kt)|0,h=h+Math.imul(mt,Rt)|0,h=h+Math.imul(yt,Kt)|0,m=m+Math.imul(yt,Rt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(At,Lt),h=Math.imul(At,Ht),h=h+Math.imul(bt,Lt)|0,m=Math.imul(bt,Ht),y=y+Math.imul(dt,$t)|0,h=h+Math.imul(dt,jt)|0,h=h+Math.imul(wt,$t)|0,m=m+Math.imul(wt,jt)|0,y=y+Math.imul(vt,Kt)|0,h=h+Math.imul(vt,Rt)|0,h=h+Math.imul(Bt,Kt)|0,m=m+Math.imul(Bt,Rt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(At,$t),h=Math.imul(At,jt),h=h+Math.imul(bt,$t)|0,m=Math.imul(bt,jt),y=y+Math.imul(dt,Kt)|0,h=h+Math.imul(dt,Rt)|0,h=h+Math.imul(wt,Kt)|0,m=m+Math.imul(wt,Rt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(At,Kt),h=Math.imul(At,Rt),h=h+Math.imul(bt,Kt)|0,m=Math.imul(bt,Rt);var ui=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,E[0]=Se,E[1]=Ne,E[2]=Ce,E[3]=Re,E[4]=Pe,E[5]=xe,E[6]=Mr,E[7]=ri,E[8]=Ir,E[9]=ii,E[10]=ni,E[11]=si,E[12]=Lr,E[13]=Hr,E[14]=$r,E[15]=oi,E[16]=ai,E[17]=hi,E[18]=ui,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ht=W);function ut(s,c,d){d.negative=c.negative^s.negative,d.length=s.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-s.length+1);m<=h;m++){var Y=E-m,Q=s.words[Y]|0,l=c.words[m]|0,x=Q*l,R=x&67108863;I=I+(x/67108864|0)|0,R=R+y|0,y=R&67108863,I=I+(R>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function nt(s,c,d){return ut(s,c,d)}a.prototype.mulTo=function(s,c){var d,g=this.length+s.length;return this.length===10&&s.length===10?d=ht(this,s,c):g<63?d=W(this,s,c):g<1024?d=ut(this,s,c):d=nt(this,s,c),d},a.prototype.mul=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},a.prototype.mulf=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),nt(this,s,c)},a.prototype.imul=function(s){return this.clone().mulTo(s,this)},a.prototype.imuln=function(s){var c=s<0;c&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*s,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(s){return this.clone().imuln(s)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(s){var c=k(s);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},a.prototype.iushrn=function(s,c,d){i(typeof s=="number"&&s>=0);var g;c?g=(c-c%26)/26:g=0;var w=s%26,E=Math.min((s-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var Y=this.words[h]|0;this.words[h]=m<<26-w|Y>>>w,m=Y&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(s,c,d){return i(this.negative===0),this.iushrn(s,c,d)},a.prototype.shln=function(s){return this.clone().ishln(s)},a.prototype.ushln=function(s){return this.clone().iushln(s)},a.prototype.shrn=function(s){return this.clone().ishrn(s)},a.prototype.ushrn=function(s){return this.clone().iushrn(s)},a.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(s){return this.clone().imaskn(s)},a.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},a.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(s){return this.clone().iaddn(s)},a.prototype.subn=function(s){return this.clone().isubn(s)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(s,c,d){var g=s.length+d,w;this._expand(g);var E,I=0;for(w=0;w<s.length;w++){E=(this.words[w+d]|0)+I;var y=(s.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(s,c){var d=this.length-s.length,g=this.clone(),w=s,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var Y=g.clone()._ishlnsubmul(w,1,y);Y.negative===0&&(g=Y,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(s,c,d){if(i(!s.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&s.negative===0?(E=this.neg().divmod(s,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(s)),{div:g,mod:w}):this.negative===0&&s.negative!==0?(E=this.divmod(s.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&s.negative?(E=this.neg().divmod(s.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(s)),{div:E.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new a(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new a(this.modrn(s.words[0]))}:this._wordDiv(s,c)},a.prototype.div=function(s){return this.divmod(s,"div",!1).div},a.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},a.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},a.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(s):c.mod,g=s.ushrn(1),w=s.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%s;return c?-g:g},a.prototype.modn=function(s){return this.modrn(s)},a.prototype.idivn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/s|0,d=w%s}return this._strip(),c?this.ineg():this},a.prototype.divn=function(s){return this.clone().idivn(s)},a.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var Y=0,Q=1;!(c.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(c.iushrn(Y);Y-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,x=1;!(d.words[0]&x)&&l<26;++l,x<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var Y;return c.cmpn(1)===0?Y=g:Y=w,Y.cmpn(0)<0&&Y.iadd(s),Y},a.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),d=s.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(s){return this.egcd(s).a.umod(s)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(s){return this.words[0]&s},a.prototype.bincn=function(s){i(typeof s=="number");var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(s=-s),i(s<=67108863,"Number is too big");var g=this.words[0]|0;d=g===s?0:g<s?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=s.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(s){return this.cmpn(s)===1},a.prototype.gt=function(s){return this.cmp(s)===1},a.prototype.gten=function(s){return this.cmpn(s)>=0},a.prototype.gte=function(s){return this.cmp(s)>=0},a.prototype.ltn=function(s){return this.cmpn(s)===-1},a.prototype.lt=function(s){return this.cmp(s)===-1},a.prototype.lten=function(s){return this.cmpn(s)<=0},a.prototype.lte=function(s){return this.cmp(s)<=0},a.prototype.eqn=function(s){return this.cmpn(s)===0},a.prototype.eq=function(s){return this.cmp(s)===0},a.red=function(s){return new j(s)},a.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(s){return this.red=s,this},a.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},a.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},a.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},a.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},a.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},a.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},a.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},a.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var et={k256:null,p224:null,p192:null,p25519:null};function rt(s,c){this.name=s,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}rt.prototype._tmp=function(){var s=new a(null);return s.words=new Array(Math.ceil(this.n/13)),s},rt.prototype.ireduce=function(s){var c=s,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},rt.prototype.split=function(s,c){s.iushrn(this.n,0,c)},rt.prototype.imulK=function(s){return s.imul(this.k)};function ft(){rt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ft,rt),ft.prototype.split=function(s,c){for(var d=4194303,g=Math.min(s.length,9),w=0;w<g;w++)c.words[w]=s.words[w];if(c.length=g,s.length<=9){s.words[0]=0,s.length=1;return}var E=s.words[9];for(c.words[c.length++]=E&d,w=10;w<s.length;w++){var I=s.words[w]|0;s.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,s.words[w-10]=E,E===0&&s.length>10?s.length-=10:s.length-=9},ft.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,d=0;d<s.length;d++){var g=s.words[d]|0;c+=g*977,s.words[d]=c&67108863,c=g*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function tt(){rt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(tt,rt);function Gt(){rt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,rt);function V(){rt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,rt),V.prototype.imulK=function(s){for(var c=0,d=0;d<s.length;d++){var g=(s.words[d]|0)*19+c,w=g&67108863;g>>>=26,s.words[d]=w,c=g}return c!==0&&(s.words[s.length++]=c),s},a._prime=function(s){if(et[s])return et[s];var c;if(s==="k256")c=new ft;else if(s==="p224")c=new tt;else if(s==="p192")c=new Gt;else if(s==="p25519")c=new V;else throw new Error("Unknown prime "+s);return et[s]=c,c};function j(s){if(typeof s=="string"){var c=a._prime(s);this.m=c.p,this.prime=c}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}j.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,c){i((s.negative|c.negative)===0,"red works only with positives"),i(s.red&&s.red===c.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,c){this._verify2(s,c);var d=s.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},j.prototype.iadd=function(s,c){this._verify2(s,c);var d=s.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},j.prototype.sub=function(s,c){this._verify2(s,c);var d=s.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},j.prototype.isub=function(s,c){this._verify2(s,c);var d=s.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},j.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},j.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},j.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(s,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),Y=this.pow(s,g.addn(1).iushrn(1)),Q=this.pow(s,g),l=w;Q.cmp(E)!==0;){for(var x=Q,R=0;x.cmp(E)!==0;R++)x=x.redSqr();i(R<l);var T=this.pow(m,new a(1).iushln(l-R-1));Y=Y.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=R}return Y},j.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},j.prototype.pow=function(s,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=s;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],s);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],Y=h-1;Y>=0;Y--){var Q=m>>Y&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||Y!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},j.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},j.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},a.mont=function(s){return new Z(s)};function Z(s){j.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},Z.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new a(0)._forceRed(this);var d=s.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,am)})(lm);var re=lm.exports;const dm="bignumber/5.7.0";var d0=re.BN;const is=new oe(dm),lf={},$1=9007199254740991;function h4(e){return e!=null&&(Le.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||jo(e)||typeof e=="bigint"||eh(e))}let j1=!1;class Le{constructor(t,r){t!==lf&&is.throwError("cannot call constructor directly; use BigNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Jr(pe(this).fromTwos(t))}toTwos(t){return Jr(pe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Le.from(this._hex.substring(1)):this}add(t){return Jr(pe(this).add(pe(t)))}sub(t){return Jr(pe(this).sub(pe(t)))}div(t){return Le.from(t).isZero()&&xi("division-by-zero","div"),Jr(pe(this).div(pe(t)))}mul(t){return Jr(pe(this).mul(pe(t)))}mod(t){const r=pe(t);return r.isNeg()&&xi("division-by-zero","mod"),Jr(pe(this).umod(r))}pow(t){const r=pe(t);return r.isNeg()&&xi("negative-power","pow"),Jr(pe(this).pow(r))}and(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&xi("unbound-bitwise-result","and"),Jr(pe(this).and(r))}or(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&xi("unbound-bitwise-result","or"),Jr(pe(this).or(r))}xor(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&xi("unbound-bitwise-result","xor"),Jr(pe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&xi("negative-width","mask"),Jr(pe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&xi("negative-width","shl"),Jr(pe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&xi("negative-width","shr"),Jr(pe(this).shrn(t))}eq(t){return pe(this).eq(pe(t))}lt(t){return pe(this).lt(pe(t))}lte(t){return pe(this).lte(pe(t))}gt(t){return pe(this).gt(pe(t))}gte(t){return pe(this).gte(pe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return pe(this).isZero()}toNumber(){try{return pe(this).toNumber()}catch{xi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return is.throwError("this platform does not support BigInt",oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?j1||(j1=!0,is.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?is.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oe.errors.UNEXPECTED_ARGUMENT,{}):is.throwError("BigNumber.toString does not accept parameters",oe.errors.UNEXPECTED_ARGUMENT,{})),pe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Le)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Le(lf,Ja(t)):t.match(/^-?[0-9]+$/)?new Le(lf,Ja(new d0(t))):is.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&xi("underflow","BigNumber.from",t),(t>=$1||t<=-$1)&&xi("overflow","BigNumber.from",t),Le.from(String(t));const r=t;if(typeof r=="bigint")return Le.from(r.toString());if(eh(r))return Le.from(fm(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Le.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(jo(i)||i[0]==="-"&&jo(i.substring(1))))return Le.from(i)}return is.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Ja(e){if(typeof e!="string")return Ja(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&is.throwArgumentError("invalid hex","value",e),e=Ja(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Jr(e){return Le.from(Ja(e))}function pe(e){const t=Le.from(e).toHexString();return t[0]==="-"?new d0("-"+t.substring(3),16):new d0(t.substring(2),16)}function xi(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),is.throwError(e,oe.errors.NUMERIC_FAULT,i)}const Fr=new oe(dm),Ha={},pm=Le.from(0),gm=Le.from(-1);function mm(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Fr.throwError(e,oe.errors.NUMERIC_FAULT,n)}let $a="0";for(;$a.length<256;)$a+=$a;function $0(e){if(typeof e!="number")try{e=Le.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+$a.substring(0,e):Fr.throwArgumentError("invalid decimal size","decimals",e)}function df(e,t){t==null&&(t=0);const r=$0(t);e=Le.from(e);const i=e.lt(pm);i&&(e=e.mul(gm));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function Xn(e,t){t==null&&(t=0);const r=$0(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Fr.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Fr.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Fr.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&mm("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=Le.from(a),b=Le.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(gm)),A}class Oo{constructor(t,r,i,n){t!==Ha&&Fr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=$0(n),Object.freeze(this)}static from(t){if(t instanceof Oo)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Fr.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&Fr.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&Fr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Fr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Oo(Ha,r,i,n)}}class wr{constructor(t,r,i,n){t!==Ha&&Fr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Fr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Xn(this._value,this.format.decimals),i=Xn(t._value,t.format.decimals);return wr.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Xn(this._value,this.format.decimals),i=Xn(t._value,t.format.decimals);return wr.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Xn(this._value,this.format.decimals),i=Xn(t._value,t.format.decimals);return wr.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Xn(this._value,this.format.decimals),i=Xn(t._value,t.format.decimals);return wr.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=wr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(K1.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=wr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(K1.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Fr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=wr.from("1"+$a.substring(0,t),this.format),n=u4.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Fr.throwArgumentError("invalid byte width","width",t);const r=Le.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return xu(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return wr.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!h4(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),wr.fromString(df(t,r),Oo.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Oo.from(r),n=Xn(t,i.decimals);!i.signed&&n.lt(pm)&&mm("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=xu(a,i.width/8));const f=df(n,i.decimals);return new wr(Ha,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Oo.from(r);if(cm(t).length>i.width/8)throw new Error("overflow");let n=Le.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=df(n,i.decimals);return new wr(Ha,a,f,i)}static from(t,r){if(typeof t=="string")return wr.fromString(t,r);if(eh(t))return wr.fromBytes(t,r);try{return wr.fromValue(t,0,r)}catch(i){if(i.code!==oe.errors.INVALID_ARGUMENT)throw i}return Fr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const K1=wr.from(1),u4=wr.from("0.5"),c4="strings/5.7.0",f4=new oe(c4);var Q1;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Q1||(Q1={}));var Fo;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Fo||(Fo={}));function l4(e,t,r,i,n){return f4.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function vm(e,t,r,i,n){if(e===Fo.BAD_PREFIX||e===Fo.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===Fo.OVERRUN?r.length-t-1:0}function d4(e,t,r,i,n){return e===Fo.OVERLONG?(i.push(n),0):(i.push(65533),vm(e,t,r))}Object.freeze({error:l4,ignore:vm,replace:d4});function p4(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function pf(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function G1(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}G1("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),pf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),pf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),pf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",p4),G1("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const ym="hash/5.7.0";function g4(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return cm(t)}function wm(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function m4(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function v4(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let et=1;et<i;et++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function _(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const S=31,C=Math.pow(2,S),P=C>>>1,O=P>>1,H=C-1;let k=0;for(let et=0;et<S;et++)k=k<<1|_();let W=[],ht=0,ut=C;for(;;){let et=Math.floor(((k-ht+1)*n-1)/ut),rt=0,ft=i;for(;ft-rt>1;){let V=rt+ft>>>1;et<a[V]?ft=V:rt=V}if(rt==0)break;W.push(rt);let tt=ht+Math.floor(ut*a[rt]/n),Gt=ht+Math.floor(ut*a[rt+1]/n)-1;for(;!((tt^Gt)&P);)k=k<<1&H|_(),tt=tt<<1&H,Gt=Gt<<1&H|1;for(;tt&~Gt&O;)k=k&P|k<<1&H>>>1|_(),tt=tt<<1^P,Gt=(Gt^P)<<1|P|1;ht=tt,ut=1+Gt-tt}let nt=i-4;return W.map(et=>{switch(et-nt){case 3:return nt+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return nt+256+(e[v++]<<8|e[v++]);case 1:return nt+e[v++];default:return et-1}})}function y4(e){let t=0;return()=>e[t++]}function w4(e){return y4(v4(e))}function A4(e){return e&1?~e>>1:e>>1}function b4(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function J1(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function E4(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=A4(t());return r}function Bu(e,t){let r=J1(e(),e),i=e(),n=J1(i,e),a=b4(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function M4(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(_4(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(S4(r,e))}return m4(wm(t))}function I4(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function Am(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)E4(e,r).forEach((a,f)=>i[f].push(a));return i}function _4(e,t){let r=1+t(),i=t(),n=I4(t),a=Am(n.length,1+e,t);return wm(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((_,S)=>{let C=S*i;return[b+S*r,A.map(P=>P+C)]})}))}function S4(e,t){let r=1+t();return Am(r,1+e,t).map(i=>[i[0],i.slice(1)])}function N4(e){let t=Bu(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=Bu(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,_)=>_.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function C4(){return w4(g4("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"))}const Wh=C4();new Set(Bu(Wh)),new Set(Bu(Wh)),M4(Wh),N4(Wh),new oe(ym);const R4=new Uint8Array(32);R4.fill(0);const P4="rlp/5.7.0";new oe(P4);const x4="address/5.7.0";new oe(x4);const B4="properties/5.7.0";new oe(B4);new oe(ym);const T4=new Uint8Array(32);T4.fill(0),Le.from(-1);const O4=Le.from(0),F4=Le.from(1);Le.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),xu(F4.toHexString(),32),xu(O4.toHexString(),32);var mn={},ve={},rh=bm;function bm(e,t){if(!e)throw new Error(t||"Assertion failed")}bm.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var p0={exports:{}};typeof Object.create=="function"?p0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:p0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var D4=rh,k4=p0.exports;ve.inherits=k4;function U4(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function q4(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):U4(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}ve.toArray=q4;function z4(e){for(var t="",r=0;r<e.length;r++)t+=Mm(e[r].toString(16));return t}ve.toHex=z4;function Em(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ve.htonl=Em;function L4(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=Em(n)),r+=Im(n.toString(16))}return r}ve.toHex32=L4;function Mm(e){return e.length===1?"0"+e:e}ve.zero2=Mm;function Im(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ve.zero8=Im;function H4(e,t,r,i){var n=r-t;D4(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}ve.join32=H4;function $4(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}ve.split32=$4;function j4(e,t){return e>>>t|e<<32-t}ve.rotr32=j4;function K4(e,t){return e<<t|e>>>32-t}ve.rotl32=K4;function Q4(e,t){return e+t>>>0}ve.sum32=Q4;function G4(e,t,r){return e+t+r>>>0}ve.sum32_3=G4;function J4(e,t,r,i){return e+t+r+i>>>0}ve.sum32_4=J4;function Y4(e,t,r,i,n){return e+t+r+i+n>>>0}ve.sum32_5=Y4;function V4(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}ve.sum64=V4;function W4(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}ve.sum64_hi=W4;function X4(e,t,r,i){var n=t+i;return n>>>0}ve.sum64_lo=X4;function Z4(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var _=e+r+n+f+b;return _>>>0}ve.sum64_4_hi=Z4;function t5(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}ve.sum64_4_lo=t5;function e5(e,t,r,i,n,a,f,v,b,A){var _=0,S=t;S=S+i>>>0,_+=S<t?1:0,S=S+a>>>0,_+=S<a?1:0,S=S+v>>>0,_+=S<v?1:0,S=S+A>>>0,_+=S<A?1:0;var C=e+r+n+f+b+_;return C>>>0}ve.sum64_5_hi=e5;function r5(e,t,r,i,n,a,f,v,b,A){var _=t+i+a+v+A;return _>>>0}ve.sum64_5_lo=r5;function i5(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}ve.rotr64_hi=i5;function n5(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ve.rotr64_lo=n5;function s5(e,t,r){return e>>>r}ve.shr64_hi=s5;function o5(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ve.shr64_lo=o5;var Xo={},Y1=ve,a5=rh;function Xh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xo.BlockHash=Xh,Xh.prototype.update=function(e,t){if(e=Y1.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Y1.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},Xh.prototype.digest=function(e){return this.update(this._pad()),a5(this.pending===null),this._digest(e)},Xh.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Co={},zn={},h5=ve,Pn=h5.rotr32;function u5(e,t,r,i){if(e===0)return _m(t,r,i);if(e===1||e===3)return Nm(t,r,i);if(e===2)return Sm(t,r,i)}zn.ft_1=u5;function _m(e,t,r){return e&t^~e&r}zn.ch32=_m;function Sm(e,t,r){return e&t^e&r^t&r}zn.maj32=Sm;function Nm(e,t,r){return e^t^r}zn.p32=Nm;function c5(e){return Pn(e,2)^Pn(e,13)^Pn(e,22)}zn.s0_256=c5;function f5(e){return Pn(e,6)^Pn(e,11)^Pn(e,25)}zn.s1_256=f5;function l5(e){return Pn(e,7)^Pn(e,18)^e>>>3}zn.g0_256=l5;function d5(e){return Pn(e,17)^Pn(e,19)^e>>>10}zn.g1_256=d5;var Ko=ve,p5=Xo,g5=zn,gf=Ko.rotl32,Na=Ko.sum32,m5=Ko.sum32_5,v5=g5.ft_1,Cm=p5.BlockHash,y5=[1518500249,1859775393,2400959708,3395469782];function Mn(){if(!(this instanceof Mn))return new Mn;Cm.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ko.inherits(Mn,Cm);var w5=Mn;Mn.blockSize=512,Mn.outSize=160,Mn.hmacStrength=80,Mn.padLength=64,Mn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=gf(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),_=m5(gf(n,5),v5(A,a,f,v),b,r[i],y5[A]);b=v,v=f,f=gf(a,30),a=n,n=_}this.h[0]=Na(this.h[0],n),this.h[1]=Na(this.h[1],a),this.h[2]=Na(this.h[2],f),this.h[3]=Na(this.h[3],v),this.h[4]=Na(this.h[4],b)},Mn.prototype._digest=function(e){return e==="hex"?Ko.toHex32(this.h,"big"):Ko.split32(this.h,"big")};var Qo=ve,A5=Xo,Zo=zn,b5=rh,Xi=Qo.sum32,E5=Qo.sum32_4,M5=Qo.sum32_5,I5=Zo.ch32,_5=Zo.maj32,S5=Zo.s0_256,N5=Zo.s1_256,C5=Zo.g0_256,R5=Zo.g1_256,Rm=A5.BlockHash,P5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function In(){if(!(this instanceof In))return new In;Rm.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=P5,this.W=new Array(64)}Qo.inherits(In,Rm);var Pm=In;In.blockSize=512,In.outSize=256,In.hmacStrength=192,In.padLength=64,In.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=E5(R5(r[i-2]),r[i-7],C5(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],_=this.h[6],S=this.h[7];for(b5(this.k.length===r.length),i=0;i<r.length;i++){var C=M5(S,N5(b),I5(b,A,_),this.k[i],r[i]),P=Xi(S5(n),_5(n,a,f));S=_,_=A,A=b,b=Xi(v,C),v=f,f=a,a=n,n=Xi(C,P)}this.h[0]=Xi(this.h[0],n),this.h[1]=Xi(this.h[1],a),this.h[2]=Xi(this.h[2],f),this.h[3]=Xi(this.h[3],v),this.h[4]=Xi(this.h[4],b),this.h[5]=Xi(this.h[5],A),this.h[6]=Xi(this.h[6],_),this.h[7]=Xi(this.h[7],S)},In.prototype._digest=function(e){return e==="hex"?Qo.toHex32(this.h,"big"):Qo.split32(this.h,"big")};var g0=ve,xm=Pm;function os(){if(!(this instanceof os))return new os;xm.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g0.inherits(os,xm);var x5=os;os.blockSize=512,os.outSize=224,os.hmacStrength=192,os.padLength=64,os.prototype._digest=function(e){return e==="hex"?g0.toHex32(this.h.slice(0,7),"big"):g0.split32(this.h.slice(0,7),"big")};var Xr=ve,B5=Xo,T5=rh,xn=Xr.rotr64_hi,Bn=Xr.rotr64_lo,Bm=Xr.shr64_hi,Tm=Xr.shr64_lo,Es=Xr.sum64,mf=Xr.sum64_hi,vf=Xr.sum64_lo,O5=Xr.sum64_4_hi,F5=Xr.sum64_4_lo,D5=Xr.sum64_5_hi,k5=Xr.sum64_5_lo,Om=B5.BlockHash,U5=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function on(){if(!(this instanceof on))return new on;Om.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=U5,this.W=new Array(160)}Xr.inherits(on,Om);var Fm=on;on.blockSize=1024,on.outSize=512,on.hmacStrength=192,on.padLength=128,on.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=Y5(r[i-4],r[i-3]),a=V5(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=G5(r[i-30],r[i-29]),A=J5(r[i-30],r[i-29]),_=r[i-32],S=r[i-31];r[i]=O5(n,a,f,v,b,A,_,S),r[i+1]=F5(n,a,f,v,b,A,_,S)}},on.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],_=this.h[7],S=this.h[8],C=this.h[9],P=this.h[10],O=this.h[11],H=this.h[12],k=this.h[13],W=this.h[14],ht=this.h[15];T5(this.k.length===r.length);for(var ut=0;ut<r.length;ut+=2){var nt=W,et=ht,rt=K5(S,C),ft=Q5(S,C),tt=q5(S,C,P,O,H),Gt=z5(S,C,P,O,H,k),V=this.k[ut],j=this.k[ut+1],Z=r[ut],s=r[ut+1],c=D5(nt,et,rt,ft,tt,Gt,V,j,Z,s),d=k5(nt,et,rt,ft,tt,Gt,V,j,Z,s);nt=$5(i,n),et=j5(i,n),rt=L5(i,n,a,f,v),ft=H5(i,n,a,f,v,b);var g=mf(nt,et,rt,ft),w=vf(nt,et,rt,ft);W=H,ht=k,H=P,k=O,P=S,O=C,S=mf(A,_,c,d),C=vf(_,_,c,d),A=v,_=b,v=a,b=f,a=i,f=n,i=mf(c,d,g,w),n=vf(c,d,g,w)}Es(this.h,0,i,n),Es(this.h,2,a,f),Es(this.h,4,v,b),Es(this.h,6,A,_),Es(this.h,8,S,C),Es(this.h,10,P,O),Es(this.h,12,H,k),Es(this.h,14,W,ht)},on.prototype._digest=function(e){return e==="hex"?Xr.toHex32(this.h,"big"):Xr.split32(this.h,"big")};function q5(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function z5(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function L5(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function H5(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function $5(e,t){var r=xn(e,t,28),i=xn(t,e,2),n=xn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function j5(e,t){var r=Bn(e,t,28),i=Bn(t,e,2),n=Bn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function K5(e,t){var r=xn(e,t,14),i=xn(e,t,18),n=xn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function Q5(e,t){var r=Bn(e,t,14),i=Bn(e,t,18),n=Bn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function G5(e,t){var r=xn(e,t,1),i=xn(e,t,8),n=Bm(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function J5(e,t){var r=Bn(e,t,1),i=Bn(e,t,8),n=Tm(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function Y5(e,t){var r=xn(e,t,19),i=xn(t,e,29),n=Bm(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function V5(e,t){var r=Bn(e,t,19),i=Bn(t,e,29),n=Tm(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var m0=ve,Dm=Fm;function as(){if(!(this instanceof as))return new as;Dm.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}m0.inherits(as,Dm);var W5=as;as.blockSize=1024,as.outSize=384,as.hmacStrength=192,as.padLength=128,as.prototype._digest=function(e){return e==="hex"?m0.toHex32(this.h.slice(0,12),"big"):m0.split32(this.h.slice(0,12),"big")},Co.sha1=w5,Co.sha224=x5,Co.sha256=Pm,Co.sha384=W5,Co.sha512=Fm;var km={},to=ve,X5=Xo,Zh=to.rotl32,V1=to.sum32,Ca=to.sum32_3,W1=to.sum32_4,Um=X5.BlockHash;function vn(){if(!(this instanceof vn))return new vn;Um.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}to.inherits(vn,Um),km.ripemd160=vn,vn.blockSize=512,vn.outSize=160,vn.hmacStrength=192,vn.padLength=64,vn.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,_=a,S=f,C=0;C<80;C++){var P=V1(Zh(W1(r,X1(C,i,n,a),e[e7[C]+t],Z5(C)),i7[C]),f);r=f,f=a,a=Zh(n,10),n=i,i=P,P=V1(Zh(W1(v,X1(79-C,b,A,_),e[r7[C]+t],t7(C)),n7[C]),S),v=S,S=_,_=Zh(A,10),A=b,b=P}P=Ca(this.h[1],n,_),this.h[1]=Ca(this.h[2],a,S),this.h[2]=Ca(this.h[3],f,v),this.h[3]=Ca(this.h[4],r,b),this.h[4]=Ca(this.h[0],i,A),this.h[0]=P},vn.prototype._digest=function(e){return e==="hex"?to.toHex32(this.h,"little"):to.split32(this.h,"little")};function X1(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function Z5(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function t7(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var e7=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r7=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],i7=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n7=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s7=ve,o7=rh;function Do(e,t,r){if(!(this instanceof Do))return new Do(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(s7.toArray(t,r))}var a7=Do;Do.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),o7(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Do.prototype.update=function(e,t){return this.inner.update(e,t),this},Do.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ve,t.common=Xo,t.sha=Co,t.ripemd=km,t.hmac=a7,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(mn);function ta(e,t,r){return r={path:t,exports:{},require:function(i,n){return h7(i,n??r.path)}},e(r,r.exports),r.exports}function h7(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var j0=qm;function qm(e,t){if(!e)throw new Error(t||"Assertion failed")}qm.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var cn=ta(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var _=f.charCodeAt(A),S=_>>8,C=_&255;S?b.push(S,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),wi=ta(function(e,t){var r=t;r.assert=j0,r.toArray=cn.toArray,r.zero2=cn.zero2,r.toHex=cn.toHex,r.encode=cn.encode;function i(b,A,_){var S=new Array(Math.max(b.bitLength(),_)+1);S.fill(0);for(var C=1<<A+1,P=b.clone(),O=0;O<S.length;O++){var H,k=P.andln(C-1);P.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,P.isubn(H)):H=0,S[O]=H,P.iushrn(1)}return S}r.getNAF=i;function n(b,A){var _=[[],[]];b=b.clone(),A=A.clone();for(var S=0,C=0,P;b.cmpn(-S)>0||A.cmpn(-C)>0;){var O=b.andln(3)+S&3,H=A.andln(3)+C&3;O===3&&(O=-1),H===3&&(H=-1);var k;O&1?(P=b.andln(7)+S&7,(P===3||P===5)&&H===2?k=-O:k=O):k=0,_[0].push(k);var W;H&1?(P=A.andln(7)+C&7,(P===3||P===5)&&O===2?W=-H:W=H):W=0,_[1].push(W),2*S===k+1&&(S=1-S),2*C===W+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return _}r.getJSF=n;function a(b,A,_){var S="_"+A;b.prototype[A]=function(){return this[S]!==void 0?this[S]:this[S]=_.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new re(b,"hex","le")}r.intFromLE=v}),tu=wi.getNAF,u7=wi.getJSF,Tu=wi.assert;function Ss(e,t){this.type=e,this.p=new re(t.p,16),this.red=t.prime?re.red(t.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=t.n&&new re(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var so=Ss;Ss.prototype.point=function(){throw new Error("Not implemented")},Ss.prototype.validate=function(){throw new Error("Not implemented")},Ss.prototype._fixedNafMul=function(e,t){Tu(e.precomputed);var r=e._getDoubles(),i=tu(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),_=this.jpoint(null,null,null),S=n;S>0;S--){for(f=0;f<a.length;f++)v=a[f],v===S?_=_.mixedAdd(r.points[f]):v===-S&&(_=_.mixedAdd(r.points[f].neg()));A=A.add(_)}return A.toP()},Ss.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=tu(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];Tu(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Ss.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,_,S;for(A=0;A<i;A++){S=t[A];var C=S._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var P=A-1,O=A;if(a[P]!==1||a[O]!==1){v[P]=tu(r[P],a[P],this._bitLength),v[O]=tu(r[O],a[O],this._bitLength),b=Math.max(v[P].length,b),b=Math.max(v[O].length,b);continue}var H=[t[P],null,null,t[O]];t[P].y.cmp(t[O].y)===0?(H[1]=t[P].add(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg())):t[P].y.cmp(t[O].y.redNeg())===0?(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].add(t[O].neg())):(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],W=u7(r[P],r[O]);for(b=Math.max(W[0].length,b),v[P]=new Array(b),v[O]=new Array(b),_=0;_<b;_++){var ht=W[0][_]|0,ut=W[1][_]|0;v[P][_]=k[(ht+1)*3+(ut+1)],v[O][_]=0,f[P]=H}}var nt=this.jpoint(null,null,null),et=this._wnafT4;for(A=b;A>=0;A--){for(var rt=0;A>=0;){var ft=!0;for(_=0;_<i;_++)et[_]=v[_][A]|0,et[_]!==0&&(ft=!1);if(!ft)break;rt++,A--}if(A>=0&&rt++,nt=nt.dblp(rt),A<0)break;for(_=0;_<i;_++){var tt=et[_];tt!==0&&(tt>0?S=f[_][tt-1>>1]:tt<0&&(S=f[_][-tt-1>>1].neg()),S.type==="affine"?nt=nt.mixedAdd(S):nt=nt.add(S))}}for(A=0;A<i;A++)f[A]=null;return n?nt:nt.toP()};function Bi(e,t){this.curve=e,this.type=t,this.precomputed=null}Ss.BasePoint=Bi,Bi.prototype.eq=function(){throw new Error("Not implemented")},Bi.prototype.validate=function(){return this.curve.validate(this)},Ss.prototype.decodePoint=function(e,t){e=wi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Tu(e[e.length-1]%2===0):e[0]===7&&Tu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Bi.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Bi.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Bi.prototype.encode=function(e,t){return wi.encode(this._encode(t),e)},Bi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Bi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Bi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},Bi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},Bi.prototype._getBeta=function(){return null},Bi.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var K0=ta(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),c7=wi.assert;function ji(e){so.call(this,"short",e),this.a=new re(e.a,16).toRed(this.red),this.b=new re(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}K0(ji,so);var f7=ji;ji.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new re(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],c7(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new re(f.a,16),b:new re(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},ji.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:re.mont(e),r=new re(2).toRed(t).redInvm(),i=r.redNeg(),n=new re(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},ji.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new re(1),a=new re(0),f=new re(0),v=new re(1),b,A,_,S,C,P,O,H=0,k,W;r.cmpn(0)!==0;){var ht=i.div(r);k=i.sub(ht.mul(r)),W=f.sub(ht.mul(n));var ut=v.sub(ht.mul(a));if(!_&&k.cmp(t)<0)b=O.neg(),A=n,_=k.neg(),S=W;else if(_&&++H===2)break;O=k,i=r,r=k,f=n,n=W,v=a,a=ut}C=k.neg(),P=W;var nt=_.sqr().add(S.sqr()),et=C.sqr().add(P.sqr());return et.cmp(nt)>=0&&(C=b,P=A),_.negative&&(_=_.neg(),S=S.neg()),C.negative&&(C=C.neg(),P=P.neg()),[{a:_,b:S},{a:C,b:P}]},ji.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),_=e.sub(f).sub(v),S=b.add(A).neg();return{k1:_,k2:S}},ji.prototype.pointFromX=function(e,t){e=new re(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},ji.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},ji.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),_=0;_<a*2;_++)i[_]=null,n[_]=null;return A};function cr(e,t,r,i){so.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(t,16),this.y=new re(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}K0(cr,so.BasePoint),ji.prototype.point=function(e,t,r){return new cr(this,e,t,r)},ji.prototype.pointFromJSON=function(e,t){return cr.fromJSON(this,e,t)},cr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},cr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},cr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},cr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},cr.prototype.isInfinity=function(){return this.inf},cr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},cr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},cr.prototype.getX=function(){return this.x.fromRed()},cr.prototype.getY=function(){return this.y.fromRed()},cr.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},cr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},cr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},cr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},cr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},cr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mr(e,t,r,i){so.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(t,16),this.y=new re(r,16),this.z=new re(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}K0(mr,so.BasePoint),ji.prototype.jpoint=function(e,t,r){return new mr(this,e,t,r)},mr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},mr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},mr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),_=A.redMul(v),S=i.redMul(A),C=b.redSqr().redIAdd(_).redISub(S).redISub(S),P=b.redMul(S.redISub(C)).redISub(a.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,P,O)},mr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),_=r.redMul(b),S=v.redSqr().redIAdd(A).redISub(_).redISub(_),C=v.redMul(_.redISub(S)).redISub(n.redMul(A)),P=this.z.redMul(f);return this.curve.jpoint(S,C,P)},mr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var _=a.redSqr(),S=A.redSqr(),C=S.redSqr(),P=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(b)),O=a.redMul(S),H=P.redSqr().redISub(O.redAdd(O)),k=O.redISub(H),W=P.redMul(k);W=W.redIAdd(W).redISub(C);var ht=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ht,A=W}return this.curve.jpoint(a,A.redMul(n),v)},mr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},mr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),S=this.y.redSqr(),C=S.redSqr(),P=this.x.redAdd(S).redSqr().redISub(_).redISub(C);P=P.redIAdd(P);var O=_.redAdd(_).redIAdd(_),H=O.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(P).redISub(P),t=O.redMul(P.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},mr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),S=this.y.redSqr(),C=this.x.redMul(S),P=this.x.redSub(_).redMul(this.x.redAdd(_));P=P.redAdd(P).redIAdd(P);var O=C.redIAdd(C);O=O.redIAdd(O);var H=O.redAdd(O);e=P.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(_);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=P.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},mr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),_=v.redSqr().redISub(A.redAdd(A)),S=A.redISub(_),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=v.redMul(S).redISub(C),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,P,O)},mr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),_=t.redMul(A);_=_.redIAdd(_),_=_.redIAdd(_);var S=this.x.redMul(v).redISub(_);S=S.redIAdd(S),S=S.redIAdd(S);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(S,C,P)},mr.prototype.mul=function(e,t){return e=new re(e,t),this.curve._wnafMul(this,e)},mr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},mr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},mr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},mr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var vu=ta(function(e,t){var r=t;r.base=so,r.short=f7,r.mont=null,r.edwards=null}),yu=ta(function(e,t){var r=t,i=wi.assert;function n(v){v.type==="short"?this.curve=new vu.short(v):v.type==="edwards"?this.curve=new vu.edwards(v):this.curve=new vu.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function Ns(e){if(!(this instanceof Ns))return new Ns(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=cn.toArray(e.entropy,e.entropyEnc||"hex"),r=cn.toArray(e.nonce,e.nonceEnc||"hex"),i=cn.toArray(e.pers,e.persEnc||"hex");j0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Z1=Ns;Ns.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Ns.prototype._hmac=function(){return new mn.hmac(this.hash,this.K)},Ns.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ns.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=cn.toArray(e,t),r=cn.toArray(r,i),j0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Ns.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=cn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,cn.encode(a,t)};var yf=wi.assert;function Nr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var wf=Nr;Nr.fromPublic=function(e,t,r){return t instanceof Nr?t:new Nr(e,{pub:t,pubEnc:r})},Nr.fromPrivate=function(e,t,r){return t instanceof Nr?t:new Nr(e,{priv:t,privEnc:r})},Nr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Nr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Nr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Nr.prototype._importPrivate=function(e,t){this.priv=new re(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Nr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?yf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Nr.prototype.derive=function(e){return e.validate()||yf(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Nr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Nr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Nr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var l7=wi.assert;function Ju(e,t){if(e instanceof Ju)return e;this._importDER(e,t)||(l7(e.r&&e.s,"Signature without r or s"),this.r=new re(e.r,16),this.s=new re(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var eu=Ju;function d7(){this.place=0}function Af(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function tp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Ju.prototype._importDER=function(e,t){e=wi.toArray(e,t);var r=new d7;if(e[r.place++]!==48)return!1;var i=Af(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Af(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=Af(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new re(a),this.s=new re(v),this.recoveryParam=null,!0};function bf(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Ju.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=tp(t),r=tp(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];bf(i,t.length),i=i.concat(t),i.push(2),bf(i,r.length);var n=i.concat(r),a=[48];return bf(a,n.length),a=a.concat(n),wi.encode(a,e)};var p7=function(){throw new Error("unsupported")},zm=wi.assert;function zi(e){if(!(this instanceof zi))return new zi(e);typeof e=="string"&&(zm(Object.prototype.hasOwnProperty.call(yu,e),"Unknown curve "+e),e=yu[e]),e instanceof yu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var g7=zi;zi.prototype.keyPair=function(e){return new wf(this,e)},zi.prototype.keyFromPrivate=function(e,t){return wf.fromPrivate(this,e,t)},zi.prototype.keyFromPublic=function(e,t){return wf.fromPublic(this,e,t)},zi.prototype.genKeyPair=function(e){e||(e={});for(var t=new Z1({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||p7(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new re(2));;){var n=new re(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},zi.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},zi.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new re(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new Z1({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new re(1)),A=0;;A++){var _=i.k?i.k(A):new re(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(b)>=0)){var S=this.g.mul(_);if(!S.isInfinity()){var C=S.getX(),P=C.umod(this.n);if(P.cmpn(0)!==0){var O=_.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var H=(S.getY().isOdd()?1:0)|(C.cmp(P)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),H^=1),new eu({r:P,s:O,recoveryParam:H})}}}}}},zi.prototype.verify=function(e,t,r,i){e=this._truncateToN(new re(e,16)),r=this.keyFromPublic(r,i),t=new eu(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},zi.prototype.recoverPubKey=function(e,t,r,i){zm((3&r)===r,"The recovery param is more than two bits"),t=new eu(t,i);var n=this.n,a=new re(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var _=t.r.invm(n),S=n.sub(a).mul(_).umod(n),C=v.mul(_).umod(n);return this.g.mulAdd(S,f,C)},zi.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new eu(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var m7=ta(function(e,t){var r=t;r.version="6.5.4",r.utils=wi,r.rand=function(){throw new Error("unsupported")},r.curve=vu,r.curves=yu,r.ec=g7,r.eddsa=null});m7.ec;const v7="signing-key/5.7.0";new oe(v7);const y7="transactions/5.7.0";new oe(y7);var ep;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(ep||(ep={}));const w7={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function A7(e,t){const{message:r,code:i}=w7[e];return{message:t?`${r} ${t}`:r,code:i}}function v0(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}var ea={},ih={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,i,n,a,f,v,b,A,_,S,C,P,O,H,k,W,ht,ut,nt,et,rt,ft;(function(tt){var Gt=typeof c0=="object"?c0:typeof self=="object"?self:typeof this=="object"?this:{};tt(V(Gt,V(e.exports)));function V(j,Z){return j!==Gt&&(typeof Object.create=="function"?Object.defineProperty(j,"__esModule",{value:!0}):j.__esModule=!0),function(s,c){return j[s]=Z?Z(s,c):c}}})(function(tt){var Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,j){V.__proto__=j}||function(V,j){for(var Z in j)j.hasOwnProperty(Z)&&(V[Z]=j[Z])};t=function(V,j){Gt(V,j);function Z(){this.constructor=V}V.prototype=j===null?Object.create(j):(Z.prototype=j.prototype,new Z)},r=Object.assign||function(V){for(var j,Z=1,s=arguments.length;Z<s;Z++){j=arguments[Z];for(var c in j)Object.prototype.hasOwnProperty.call(j,c)&&(V[c]=j[c])}return V},i=function(V,j){var Z={};for(var s in V)Object.prototype.hasOwnProperty.call(V,s)&&j.indexOf(s)<0&&(Z[s]=V[s]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(V);c<s.length;c++)j.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(V,s[c])&&(Z[s[c]]=V[s[c]]);return Z},n=function(V,j,Z,s){var c=arguments.length,d=c<3?j:s===null?s=Object.getOwnPropertyDescriptor(j,Z):s,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(V,j,Z,s);else for(var w=V.length-1;w>=0;w--)(g=V[w])&&(d=(c<3?g(d):c>3?g(j,Z,d):g(j,Z))||d);return c>3&&d&&Object.defineProperty(j,Z,d),d},a=function(V,j){return function(Z,s){j(Z,s,V)}},f=function(V,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,j)},v=function(V,j,Z,s){function c(d){return d instanceof Z?d:new Z(function(g){g(d)})}return new(Z||(Z=Promise))(function(d,g){function w(y){try{I(s.next(y))}catch(h){g(h)}}function E(y){try{I(s.throw(y))}catch(h){g(h)}}function I(y){y.done?d(y.value):c(y.value).then(w,E)}I((s=s.apply(V,j||[])).next())})},b=function(V,j){var Z={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,c,d,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(I){return function(y){return E([I,y])}}function E(I){if(s)throw new TypeError("Generator is already executing.");for(;Z;)try{if(s=1,c&&(d=I[0]&2?c.return:I[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,I[1])).done)return d;switch(c=0,d&&(I=[I[0]&2,d.value]),I[0]){case 0:case 1:d=I;break;case 4:return Z.label++,{value:I[1],done:!1};case 5:Z.label++,c=I[1],I=[0];continue;case 7:I=Z.ops.pop(),Z.trys.pop();continue;default:if(d=Z.trys,!(d=d.length>0&&d[d.length-1])&&(I[0]===6||I[0]===2)){Z=0;continue}if(I[0]===3&&(!d||I[1]>d[0]&&I[1]<d[3])){Z.label=I[1];break}if(I[0]===6&&Z.label<d[1]){Z.label=d[1],d=I;break}if(d&&Z.label<d[2]){Z.label=d[2],Z.ops.push(I);break}d[2]&&Z.ops.pop(),Z.trys.pop();continue}I=j.call(V,Z)}catch(y){I=[6,y],c=0}finally{s=d=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},ft=function(V,j,Z,s){s===void 0&&(s=Z),V[s]=j[Z]},A=function(V,j){for(var Z in V)Z!=="default"&&!j.hasOwnProperty(Z)&&(j[Z]=V[Z])},_=function(V){var j=typeof Symbol=="function"&&Symbol.iterator,Z=j&&V[j],s=0;if(Z)return Z.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&s>=V.length&&(V=void 0),{value:V&&V[s++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(V,j){var Z=typeof Symbol=="function"&&V[Symbol.iterator];if(!Z)return V;var s=Z.call(V),c,d=[],g;try{for(;(j===void 0||j-- >0)&&!(c=s.next()).done;)d.push(c.value)}catch(w){g={error:w}}finally{try{c&&!c.done&&(Z=s.return)&&Z.call(s)}finally{if(g)throw g.error}}return d},C=function(){for(var V=[],j=0;j<arguments.length;j++)V=V.concat(S(arguments[j]));return V},P=function(){for(var V=0,j=0,Z=arguments.length;j<Z;j++)V+=arguments[j].length;for(var s=Array(V),c=0,j=0;j<Z;j++)for(var d=arguments[j],g=0,w=d.length;g<w;g++,c++)s[c]=d[g];return s},O=function(V){return this instanceof O?(this.v=V,this):new O(V)},H=function(V,j,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=Z.apply(V,j||[]),c,d=[];return c={},g("next"),g("throw"),g("return"),c[Symbol.asyncIterator]=function(){return this},c;function g(m){s[m]&&(c[m]=function(Y){return new Promise(function(Q,l){d.push([m,Y,Q,l])>1||w(m,Y)})})}function w(m,Y){try{E(s[m](Y))}catch(Q){h(d[0][3],Q)}}function E(m){m.value instanceof O?Promise.resolve(m.value.v).then(I,y):h(d[0][2],m)}function I(m){w("next",m)}function y(m){w("throw",m)}function h(m,Y){m(Y),d.shift(),d.length&&w(d[0][0],d[0][1])}},k=function(V){var j,Z;return j={},s("next"),s("throw",function(c){throw c}),s("return"),j[Symbol.iterator]=function(){return this},j;function s(c,d){j[c]=V[c]?function(g){return(Z=!Z)?{value:O(V[c](g)),done:c==="return"}:d?d(g):g}:d}},W=function(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=V[Symbol.asyncIterator],Z;return j?j.call(V):(V=typeof _=="function"?_(V):V[Symbol.iterator](),Z={},s("next"),s("throw"),s("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function s(d){Z[d]=V[d]&&function(g){return new Promise(function(w,E){g=V[d](g),c(w,E,g.done,g.value)})}}function c(d,g,w,E){Promise.resolve(E).then(function(I){d({value:I,done:w})},g)}},ht=function(V,j){return Object.defineProperty?Object.defineProperty(V,"raw",{value:j}):V.raw=j,V},ut=function(V){if(V&&V.__esModule)return V;var j={};if(V!=null)for(var Z in V)Object.hasOwnProperty.call(V,Z)&&(j[Z]=V[Z]);return j.default=V,j},nt=function(V){return V&&V.__esModule?V:{default:V}},et=function(V,j){if(!j.has(V))throw new TypeError("attempted to get private field on non-instance");return j.get(V)},rt=function(V,j,Z){if(!j.has(V))throw new TypeError("attempted to set private field on non-instance");return j.set(V,Z),Z},tt("__extends",t),tt("__assign",r),tt("__rest",i),tt("__decorate",n),tt("__param",a),tt("__metadata",f),tt("__awaiter",v),tt("__generator",b),tt("__exportStar",A),tt("__createBinding",ft),tt("__values",_),tt("__read",S),tt("__spread",C),tt("__spreadArrays",P),tt("__await",O),tt("__asyncGenerator",H),tt("__asyncDelegator",k),tt("__asyncValues",W),tt("__makeTemplateObject",ht),tt("__importStar",ut),tt("__importDefault",nt),tt("__classPrivateFieldGet",et),tt("__classPrivateFieldSet",rt)})})(ih);var Ra={},Ef={},Pa={};const b7=U8(t4);var rp;function E7(){if(rp)return Pa;rp=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.IHeartBeat=void 0;const e=b7;class t extends e.IEvents{constructor(i){super()}}return Pa.IHeartBeat=t,Pa}var ip;function Lm(){return ip||(ip=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ih.exports.__exportStar(E7(),e)}(Ef)),Ef}var Mf={},Ys={},np;function M7(){if(np)return Ys;np=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.HEARTBEAT_EVENTS=Ys.HEARTBEAT_INTERVAL=void 0;const e=Yt;return Ys.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Ys.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Ys}var sp;function Hm(){return sp||(sp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ih.exports.__exportStar(M7(),e)}(Mf)),Mf}var op;function I7(){if(op)return Ra;op=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.HeartBeat=void 0;const e=ih.exports,t=zr.exports,r=Yt,i=Lm(),n=Hm();class a extends i.IHeartBeat{constructor(v){super(v),this.events=new t.EventEmitter,this.interval=n.HEARTBEAT_INTERVAL,this.interval=v?.interval||n.HEARTBEAT_INTERVAL}static init(v){return e.__awaiter(this,void 0,void 0,function*(){const b=new a(v);return yield b.init(),b})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(v,b){this.events.on(v,b)}once(v,b){this.events.once(v,b)}off(v,b){this.events.off(v,b)}removeListener(v,b){this.events.removeListener(v,b)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(n.HEARTBEAT_EVENTS.pulse)}}return Ra.HeartBeat=a,Ra}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ih.exports;t.__exportStar(I7(),e),t.__exportStar(Lm(),e),t.__exportStar(Hm(),e)})(ea);class _7 extends no{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class S7 extends no{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class N7{constructor(t,r){this.logger=t,this.core=r}}class C7 extends no{constructor(t,r){super(),this.relayer=t,this.logger=r}}class R7 extends no{constructor(t){super()}}class P7{constructor(t,r,i,n){this.core=t,this.logger=r,this.name=i}}class x7 extends no{constructor(t,r){super(),this.relayer=t,this.logger=r}}class B7 extends no{constructor(t,r){super(),this.core=t,this.logger=r}}class T7{constructor(t,r){this.projectId=t,this.logger=r}}class O7{constructor(t,r){this.projectId=t,this.logger=r}}class F7{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}class D7{constructor(t){this.client=t}}const k7=":";function If(e){const[t,r]=e.split(k7);return{namespace:t,reference:r}}function $m(e,t){return e.includes(":")?[e]:t.chains||[]}var U7=Object.defineProperty,ap=Object.getOwnPropertySymbols,q7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,hp=(e,t,r)=>t in e?U7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,up=(e,t)=>{for(var r in t||(t={}))q7.call(t,r)&&hp(e,r,t[r]);if(ap)for(var r of ap(t))z7.call(t,r)&&hp(e,r,t[r]);return e};const L7="ReactNative",vi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},H7="js";function Ya(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ra(){return!em()&&!!tm()&&navigator.product===L7}function ia(){return!Ya()&&!!tm()&&!!em()}function nh(){return ra()?vi.reactNative:Ya()?vi.node:ia()?vi.browser:vi.unknown}function $7(){var e;try{return ra()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function j7(e,t){let r=Pu.parse(e);return r=up(up({},r),t),e=Pu.stringify(r),e}function K7(){return q8()||{name:"",description:"",url:"",icons:[""]}}function Q7(){if(nh()===vi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:i}=global.Platform;return[r,i].join("-")}const e=L8();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function G7(){var e;const t=nh();return t===vi.browser?[t,((e=H8())==null?void 0:e.host)||"unknown"].join(":"):t}function J7(e,t,r){const i=Q7(),n=G7();return[[e,t].join("-"),[H7,r].join("-"),i,n].join("/")}function Y7({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:a,useOnCloseEvent:f,bundleId:v}){const b=r.split("?"),A=J7(e,t,i),_={auth:n,ua:A,projectId:a,useOnCloseEvent:f||void 0,origin:v||void 0},S=j7(b[1]||"",_);return b[0]+"?"+S}function Ws(e,t){return e.filter(r=>t.includes(r)).length===e.length}function jm(e){return Object.fromEntries(e.entries())}function Km(e){return new Map(Object.entries(e))}function Vs(e=Yt.FIVE_MINUTES,t){const r=Yt.toMiliseconds(e||Yt.FIVE_MINUTES);let i,n,a;return{resolve:f=>{a&&i&&(clearTimeout(a),i(f))},reject:f=>{a&&n&&(clearTimeout(a),n(f))},done:()=>new Promise((f,v)=>{a=setTimeout(()=>{v(new Error(t))},r),i=f,n=v})}}function Va(e,t,r){return new Promise(async(i,n)=>{const a=setTimeout(()=>n(new Error(r)),t);try{const f=await e;i(f)}catch(f){n(f)}clearTimeout(a)})}function Qm(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function V7(e){return Qm("topic",e)}function W7(e){return Qm("id",e)}function Gm(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Pr(e,t){return Yt.fromMiliseconds((t||Date.now())+Yt.toMiliseconds(e))}function _s(e){return Date.now()>=Yt.toMiliseconds(e)}function le(e,t){return`${e}${t?`:${t}`:""}`}function X7(e=[],t=[]){return[...new Set([...e,...t])]}async function Z7({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;let n=(typeof r=="string"?JSON.parse(r):r)?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));const a=`${n}/wc?requestId=${e}&sessionTopic=${t}`,f=nh();f===vi.browser?a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):f===vi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}async function t9(e,t){try{return await e.getItem(t)||(ia()?localStorage.getItem(t):void 0)}catch(r){console.error(r)}}var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e9(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Ym={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;f?n=Jm:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],C=[1,256,65536,16777216],P=[6,1536,393216,100663296],O=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],W=[128,256],ht=["hex","buffer","arrayBuffer","array","digest"],ut={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var nt=function(l,x,R){return function(T){return new m(l,x,l).update(T)[R]()}},et=function(l,x,R){return function(T,$){return new m(l,x,$).update(T)[R]()}},rt=function(l,x,R){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[R]()}},ft=function(l,x,R){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[R]()}},tt=function(l,x,R,T){for(var $=0;$<ht.length;++$){var U=ht[$];l[U]=x(R,T,U)}return l},Gt=function(l,x){var R=nt(l,x,"hex");return R.create=function(){return new m(l,x,l)},R.update=function(T){return R.create().update(T)},tt(R,nt,l,x)},V=function(l,x){var R=et(l,x,"hex");return R.create=function(T){return new m(l,x,T)},R.update=function(T,$){return R.create($).update(T)},tt(R,et,l,x)},j=function(l,x){var R=ut[l],T=rt(l,x,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,x,$).bytepad([U,z],R)},T.update=function($,U,z,J){return T.create(U,z,J).update($)},tt(T,rt,l,x)},Z=function(l,x){var R=ut[l],T=ft(l,x,"hex");return T.create=function($,U,z){return new Y(l,x,U).bytepad(["KMAC",z],R).bytepad([$],R)},T.update=function($,U,z,J){return T.create($,z,J).update(U)},tt(T,ft,l,x)},s=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:P,bits:k,createMethod:Gt},{name:"shake",padding:_,bits:W,createMethod:V},{name:"cshake",padding:S,bits:W,createMethod:j},{name:"kmac",padding:S,bits:W,createMethod:Z}],c={},d=[],g=0;g<s.length;++g)for(var w=s[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,x,R){this.blocks=[],this.s=[],this.padding=x,this.outputBits=R,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=R>>5,this.extraBytes=(R&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,J=0,it=this.s,q,pt;J<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(x)for(q=this.start;J<U&&q<$;++J)T[q>>2]|=l[J]<<O[q++&3];else for(q=this.start;J<U&&q<$;++J)pt=l.charCodeAt(J),pt<128?T[q>>2]|=pt<<O[q++&3]:pt<2048?(T[q>>2]|=(192|pt>>6)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):pt<55296||pt>=57344?(T[q>>2]|=(224|pt>>12)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):(pt=65536+((pt&1023)<<10|l.charCodeAt(++J)&1023),T[q>>2]|=(240|pt>>18)<<O[q++&3],T[q>>2]|=(128|pt>>12&63)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)it[q]^=T[q];Q(it),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,x){var R=l&255,T=1,$=[R];for(l=l>>8,R=l&255;R>0;)$.unshift(R),l=l>>8,R=l&255,++T;return x?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}var T=0,$=l.length;if(x)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,x){for(var R=this.encode(x),T=0;T<l.length;++T)R+=this.encodeString(l[T]);var $=x-R%x,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,x=this.lastByteIndex,R=this.blockCount,T=this.s;if(l[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(l[0]=l[R],x=1;x<R+1;++x)l[x]=0;for(l[R-1]|=2147483648,x=0;x<R;++x)T[x]^=l[x];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",J;U<R;){for($=0;$<l&&U<R;++$,++U)J=x[$],z+=A[J>>4&15]+A[J&15]+A[J>>12&15]+A[J>>8&15]+A[J>>20&15]+A[J>>16&15]+A[J>>28&15]+A[J>>24&15];U%l===0&&(Q(x),$=0)}return T&&(J=x[$],z+=A[J>>4&15]+A[J&15],T>1&&(z+=A[J>>12&15]+A[J>>8&15]),T>2&&(z+=A[J>>20&15]+A[J>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,J;T?J=new ArrayBuffer(R+1<<2):J=new ArrayBuffer(z);for(var it=new Uint32Array(J);U<R;){for($=0;$<l&&U<R;++$,++U)it[U]=x[$];U%l===0&&Q(x)}return T&&(it[$]=x[$],J=J.slice(0,z)),J},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],J,it;U<R;){for($=0;$<l&&U<R;++$,++U)J=U<<2,it=x[$],z[J]=it&255,z[J+1]=it>>8&255,z[J+2]=it>>16&255,z[J+3]=it>>24&255;U%l===0&&Q(x)}return T&&(J=U<<2,it=x[$],z[J]=it&255,T>1&&(z[J+1]=it>>8&255),T>2&&(z[J+2]=it>>16&255)),z};function Y(l,x,R){m.call(this,l,x,R)}Y.prototype=new m,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var x,R,T,$,U,z,J,it,q,pt,Pt,lt,ke,xt,gt,Ae,mt,yt,je,vt,Bt,Ie,dt,wt,Be,At,bt,Te,Et,Mt,Oe,It,Tt,Ke,Ot,Nt,Ue,Ft,Dt,Qe,kt,Ct,Ge,Ut,qt,Fe,zt,_t,Je,Lt,Ht,Ye,$t,jt,Ve,Kt,Rt,Se,Ne,Ce,Re,Pe,xe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],J=l[3]^l[13]^l[23]^l[33]^l[43],it=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],pt=l[6]^l[16]^l[26]^l[36]^l[46],Pt=l[7]^l[17]^l[27]^l[37]^l[47],lt=l[8]^l[18]^l[28]^l[38]^l[48],ke=l[9]^l[19]^l[29]^l[39]^l[49],x=lt^(z<<1|J>>>31),R=ke^(J<<1|z>>>31),l[0]^=x,l[1]^=R,l[10]^=x,l[11]^=R,l[20]^=x,l[21]^=R,l[30]^=x,l[31]^=R,l[40]^=x,l[41]^=R,x=$^(it<<1|q>>>31),R=U^(q<<1|it>>>31),l[2]^=x,l[3]^=R,l[12]^=x,l[13]^=R,l[22]^=x,l[23]^=R,l[32]^=x,l[33]^=R,l[42]^=x,l[43]^=R,x=z^(pt<<1|Pt>>>31),R=J^(Pt<<1|pt>>>31),l[4]^=x,l[5]^=R,l[14]^=x,l[15]^=R,l[24]^=x,l[25]^=R,l[34]^=x,l[35]^=R,l[44]^=x,l[45]^=R,x=it^(lt<<1|ke>>>31),R=q^(ke<<1|lt>>>31),l[6]^=x,l[7]^=R,l[16]^=x,l[17]^=R,l[26]^=x,l[27]^=R,l[36]^=x,l[37]^=R,l[46]^=x,l[47]^=R,x=pt^($<<1|U>>>31),R=Pt^(U<<1|$>>>31),l[8]^=x,l[9]^=R,l[18]^=x,l[19]^=R,l[28]^=x,l[29]^=R,l[38]^=x,l[39]^=R,l[48]^=x,l[49]^=R,xt=l[0],gt=l[1],Fe=l[11]<<4|l[10]>>>28,zt=l[10]<<4|l[11]>>>28,Te=l[20]<<3|l[21]>>>29,Et=l[21]<<3|l[20]>>>29,Ce=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,Ct=l[40]<<18|l[41]>>>14,Ge=l[41]<<18|l[40]>>>14,Ke=l[2]<<1|l[3]>>>31,Ot=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,mt=l[12]<<12|l[13]>>>20,_t=l[22]<<10|l[23]>>>22,Je=l[23]<<10|l[22]>>>22,Mt=l[33]<<13|l[32]>>>19,Oe=l[32]<<13|l[33]>>>19,Pe=l[42]<<2|l[43]>>>30,xe=l[43]<<2|l[42]>>>30,jt=l[5]<<30|l[4]>>>2,Ve=l[4]<<30|l[5]>>>2,Nt=l[14]<<6|l[15]>>>26,Ue=l[15]<<6|l[14]>>>26,yt=l[25]<<11|l[24]>>>21,je=l[24]<<11|l[25]>>>21,Lt=l[34]<<15|l[35]>>>17,Ht=l[35]<<15|l[34]>>>17,It=l[45]<<29|l[44]>>>3,Tt=l[44]<<29|l[45]>>>3,wt=l[6]<<28|l[7]>>>4,Be=l[7]<<28|l[6]>>>4,Kt=l[17]<<23|l[16]>>>9,Rt=l[16]<<23|l[17]>>>9,Ft=l[26]<<25|l[27]>>>7,Dt=l[27]<<25|l[26]>>>7,vt=l[36]<<21|l[37]>>>11,Bt=l[37]<<21|l[36]>>>11,Ye=l[47]<<24|l[46]>>>8,$t=l[46]<<24|l[47]>>>8,Ut=l[8]<<27|l[9]>>>5,qt=l[9]<<27|l[8]>>>5,At=l[18]<<20|l[19]>>>12,bt=l[19]<<20|l[18]>>>12,Se=l[29]<<7|l[28]>>>25,Ne=l[28]<<7|l[29]>>>25,Qe=l[38]<<8|l[39]>>>24,kt=l[39]<<8|l[38]>>>24,Ie=l[48]<<14|l[49]>>>18,dt=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&yt,l[1]=gt^~mt&je,l[10]=wt^~At&Te,l[11]=Be^~bt&Et,l[20]=Ke^~Nt&Ft,l[21]=Ot^~Ue&Dt,l[30]=Ut^~Fe&_t,l[31]=qt^~zt&Je,l[40]=jt^~Kt&Se,l[41]=Ve^~Rt&Ne,l[2]=Ae^~yt&vt,l[3]=mt^~je&Bt,l[12]=At^~Te&Mt,l[13]=bt^~Et&Oe,l[22]=Nt^~Ft&Qe,l[23]=Ue^~Dt&kt,l[32]=Fe^~_t&Lt,l[33]=zt^~Je&Ht,l[42]=Kt^~Se&Ce,l[43]=Rt^~Ne&Re,l[4]=yt^~vt&Ie,l[5]=je^~Bt&dt,l[14]=Te^~Mt&It,l[15]=Et^~Oe&Tt,l[24]=Ft^~Qe&Ct,l[25]=Dt^~kt&Ge,l[34]=_t^~Lt&Ye,l[35]=Je^~Ht&$t,l[44]=Se^~Ce&Pe,l[45]=Ne^~Re&xe,l[6]=vt^~Ie&xt,l[7]=Bt^~dt&gt,l[16]=Mt^~It&wt,l[17]=Oe^~Tt&Be,l[26]=Qe^~Ct&Ke,l[27]=kt^~Ge&Ot,l[36]=Lt^~Ye&Ut,l[37]=Ht^~$t&qt,l[46]=Ce^~Pe&jt,l[47]=Re^~xe&Ve,l[8]=Ie^~xt&Ae,l[9]=dt^~gt&mt,l[18]=It^~wt&At,l[19]=Tt^~Be&bt,l[28]=Ct^~Ke&Nt,l[29]=Ge^~Ot&Ue,l[38]=Ye^~Ut&Fe,l[39]=$t^~qt&zt,l[48]=Pe^~jt&Kt,l[49]=xe^~Ve&Rt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(Ym);var r9=Ym.exports;const i9="logger/5.7.0";let cp=!1,fp=!1;const wu={debug:1,default:2,info:2,warning:3,error:4,off:5};let lp=wu.default,_f=null;function n9(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const dp=n9();var y0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(y0||(y0={}));var nn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(nn||(nn={}));const pp="0123456789abcdef";class ae{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();wu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(lp>wu[i])&&console.log.apply(console,r)}debug(...t){this._log(ae.levels.DEBUG,t)}info(...t){this._log(ae.levels.INFO,t)}warn(...t){this._log(ae.levels.WARNING,t)}makeError(t,r,i){if(fp)return this.makeError("censored error",r,{});r||(r=ae.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let _="";for(let S=0;S<A.length;S++)_+=pp[A[S]>>4],_+=pp[A[S]&15];n.push(b+"=Uint8Array(0x"+_+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case nn.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case nn.CALL_EXCEPTION:case nn.INSUFFICIENT_FUNDS:case nn.MISSING_NEW:case nn.NONCE_EXPIRED:case nn.REPLACEMENT_UNDERPRICED:case nn.TRANSACTION_REPLACED:case nn.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,ae.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){dp&&this.throwError("platform missing String.prototype.normalize",ae.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:dp})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,ae.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,ae.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ae.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return _f||(_f=new ae(i9)),_f}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),cp){if(!t)return;this.globalLogger().throwError("error censorship permanent",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fp=!!t,cp=!!r}static setLogLevel(t){const r=wu[t.toLowerCase()];if(r==null){ae.globalLogger().warn("invalid log level - "+t);return}lp=r}static from(t){return new ae(t)}}ae.errors=nn,ae.levels=y0;const s9="bytes/5.7.0",sr=new ae(s9);function Vm(e){return!!e.toHexString}function ko(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return ko(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function o9(e){return yi(e)&&!(e.length%2)||na(e)}function gp(e){return typeof e=="number"&&e==e&&e%1===0}function na(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!gp(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!gp(r)||r<0||r>=256)return!1}return!0}function rr(e,t){if(t||(t={}),typeof e=="number"){sr.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),ko(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Vm(e)&&(e=e.toHexString()),yi(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":sr.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return ko(new Uint8Array(i))}return na(e)?ko(new Uint8Array(e)):sr.throwArgumentError("invalid arrayify value","value",e)}function a9(e){const t=e.map(n=>rr(n)),r=t.reduce((n,a)=>n+a.length,0),i=new Uint8Array(r);return t.reduce((n,a)=>(i.set(a,n),n+a.length),0),ko(i)}function h9(e,t){e=rr(e),e.length>t&&sr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),ko(r)}function yi(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Sf="0123456789abcdef";function Or(e,t){if(t||(t={}),typeof e=="number"){sr.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Sf[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Vm(e))return e.toHexString();if(yi(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":sr.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(na(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=Sf[(n&240)>>4]+Sf[n&15]}return r}return sr.throwArgumentError("invalid hexlify value","value",e)}function u9(e){if(typeof e!="string")e=Or(e);else if(!yi(e)||e.length%2)return null;return(e.length-2)/2}function mp(e,t,r){return typeof e!="string"?e=Or(e):(!yi(e)||e.length%2)&&sr.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Tn(e,t){for(typeof e!="string"?e=Or(e):yi(e)||sr.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&sr.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Wm(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(o9(e)){let r=rr(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Or(r.slice(0,32)),t.s=Or(r.slice(32,64))):r.length===65?(t.r=Or(r.slice(0,32)),t.s=Or(r.slice(32,64)),t.v=r[64]):sr.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:sr.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Or(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const n=h9(rr(t._vs),32);t._vs=Or(n);const a=n[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=a:t.recoveryParam!==a&&sr.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const f=Or(n);t.s==null?t.s=f:t.s!==f&&sr.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?sr.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const n=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==n&&sr.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!yi(t.r)?sr.throwArgumentError("signature missing or invalid r","signature",e):t.r=Tn(t.r,32),t.s==null||!yi(t.s)?sr.throwArgumentError("signature missing or invalid s","signature",e):t.s=Tn(t.s,32);const r=rr(t.s);r[0]>=128&&sr.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=Or(r);t._vs&&(yi(t._vs)||sr.throwArgumentError("signature invalid _vs","signature",e),t._vs=Tn(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&sr.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function Q0(e){return"0x"+r9.keccak_256(rr(e))}var Xm={exports:{}},c9={},f9=Object.freeze({__proto__:null,default:c9}),l9=e9(f9);(function(e){(function(t,r){function i(s,c){if(!s)throw new Error(c||"Assertion failed")}function n(s,c){s.super_=c;var d=function(){};d.prototype=c.prototype,s.prototype=new d,s.prototype.constructor=s}function a(s,c,d){if(a.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(s||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=l9.Buffer}catch{}a.isBN=function(s){return s instanceof a?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===a.wordSize&&Array.isArray(s.words)},a.max=function(s,c){return s.cmp(c)>0?s:c},a.min=function(s,c){return s.cmp(c)<0?s:c},a.prototype._init=function(s,c,d){if(typeof s=="number")return this._initNumber(s,c,d);if(typeof s=="object")return this._initArray(s,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\s+/g,"");var g=0;s[0]==="-"&&(g++,this.negative=1),g<s.length&&(c===16?this._parseHex(s,g,d):(this._parseBase(s,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(s,c,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(s,c,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=s.length-1,w=0;g>=0;g-=3)E=s[g]|s[g-1]<<8|s[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<s.length;g+=3)E=s[g]|s[g+1]<<8|s[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(s,c){var d=s.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function b(s,c,d){var g=v(s,d);return d-1>=c&&(g|=v(s,d-1)<<4),g}a.prototype._parseHex=function(s,c,d){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=s.length-1;g>=c;g-=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=s.length-c;for(g=y%2===0?c+1:c;g<s.length;g+=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(s,c,d,g){for(var w=0,E=0,I=Math.min(s.length,d),y=c;y<I;y++){var h=s.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(s,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=s.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(s,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var Y=1;for(h=A(s,m,s.length,c),m=0;m<I;m++)Y*=c;this.imuln(Y),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,c){s.words=c.words,s.length=c.length,s.negative=c.negative,s.red=c.red}if(a.prototype._move=function(s){_(s,this)},a.prototype.clone=function(){var s=new a(null);return this.copy(s),s},a.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{a.prototype.inspect=S}else a.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(s,c){s=s||10,c=c|0||1;var d;if(s===16||s==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var h=P[s],m=O[s];d="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modrn(m).toString(s);Y=Y.idivn(m),Y.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(s,c){return this.toArrayLike(f,s,c)}),a.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var H=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};a.prototype.toArrayLike=function(s,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(s,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(s,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d++]=I&255,d<s.length&&(s[d++]=I>>8&255),d<s.length&&(s[d++]=I>>16&255),E===6?(d<s.length&&(s[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<s.length)for(s[d++]=g;d<s.length;)s[d++]=0},a.prototype._toArrayLikeBE=function(s,c){for(var d=s.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d--]=I&255,d>=0&&(s[d--]=I>>8&255),d>=0&&(s[d--]=I>>16&255),E===6?(d>=0&&(s[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(s[d--]=g;d>=0;)s[d--]=0},Math.clz32?a.prototype._countBits=function(s){return 32-Math.clz32(s)}:a.prototype._countBits=function(s){var c=s,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function k(s){for(var c=new Array(s.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=s.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(s+=d,d!==26)break}return s},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},a.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},a.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},a.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},a.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},a.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},a.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},a.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},a.prototype.iuxor=function(s){var c,d;this.length>s.length?(c=this,d=s):(c=s,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},a.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},a.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},a.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,d=s%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(s){return this.clone().inotn(s)},a.prototype.setn=function(s,c){i(typeof s=="number"&&s>=0);var d=s/26|0,g=s%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var d,g;this.length>s.length?(d=this,g=s):(d=s,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},a.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=s):(g=s,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(s){return this.clone().isub(s)};function W(s,c,d){d.negative=c.negative^s.negative;var g=s.length+c.length|0;d.length=g,g=g-1|0;var w=s.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var Y=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),x=Math.max(0,m-s.length+1);x<=l;x++){var R=m-x|0;w=s.words[R]|0,E=c.words[x]|0,I=w*E+Q,Y+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=Y|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ht=function(s,c,d){var g=s.words,w=c.words,E=d.words,I=0,y,h,m,Y=g[0]|0,Q=Y&8191,l=Y>>>13,x=g[1]|0,R=x&8191,T=x>>>13,$=g[2]|0,U=$&8191,z=$>>>13,J=g[3]|0,it=J&8191,q=J>>>13,pt=g[4]|0,Pt=pt&8191,lt=pt>>>13,ke=g[5]|0,xt=ke&8191,gt=ke>>>13,Ae=g[6]|0,mt=Ae&8191,yt=Ae>>>13,je=g[7]|0,vt=je&8191,Bt=je>>>13,Ie=g[8]|0,dt=Ie&8191,wt=Ie>>>13,Be=g[9]|0,At=Be&8191,bt=Be>>>13,Te=w[0]|0,Et=Te&8191,Mt=Te>>>13,Oe=w[1]|0,It=Oe&8191,Tt=Oe>>>13,Ke=w[2]|0,Ot=Ke&8191,Nt=Ke>>>13,Ue=w[3]|0,Ft=Ue&8191,Dt=Ue>>>13,Qe=w[4]|0,kt=Qe&8191,Ct=Qe>>>13,Ge=w[5]|0,Ut=Ge&8191,qt=Ge>>>13,Fe=w[6]|0,zt=Fe&8191,_t=Fe>>>13,Je=w[7]|0,Lt=Je&8191,Ht=Je>>>13,Ye=w[8]|0,$t=Ye&8191,jt=Ye>>>13,Ve=w[9]|0,Kt=Ve&8191,Rt=Ve>>>13;d.negative=s.negative^c.negative,d.length=19,y=Math.imul(Q,Et),h=Math.imul(Q,Mt),h=h+Math.imul(l,Et)|0,m=Math.imul(l,Mt);var Se=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,y=Math.imul(R,Et),h=Math.imul(R,Mt),h=h+Math.imul(T,Et)|0,m=Math.imul(T,Mt),y=y+Math.imul(Q,It)|0,h=h+Math.imul(Q,Tt)|0,h=h+Math.imul(l,It)|0,m=m+Math.imul(l,Tt)|0;var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(U,Et),h=Math.imul(U,Mt),h=h+Math.imul(z,Et)|0,m=Math.imul(z,Mt),y=y+Math.imul(R,It)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(T,It)|0,m=m+Math.imul(T,Tt)|0,y=y+Math.imul(Q,Ot)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,Ot)|0,m=m+Math.imul(l,Nt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(it,Et),h=Math.imul(it,Mt),h=h+Math.imul(q,Et)|0,m=Math.imul(q,Mt),y=y+Math.imul(U,It)|0,h=h+Math.imul(U,Tt)|0,h=h+Math.imul(z,It)|0,m=m+Math.imul(z,Tt)|0,y=y+Math.imul(R,Ot)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(T,Ot)|0,m=m+Math.imul(T,Nt)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,Dt)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,Dt)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Pt,Et),h=Math.imul(Pt,Mt),h=h+Math.imul(lt,Et)|0,m=Math.imul(lt,Mt),y=y+Math.imul(it,It)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(q,It)|0,m=m+Math.imul(q,Tt)|0,y=y+Math.imul(U,Ot)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,Ot)|0,m=m+Math.imul(z,Nt)|0,y=y+Math.imul(R,Ft)|0,h=h+Math.imul(R,Dt)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,Dt)|0,y=y+Math.imul(Q,kt)|0,h=h+Math.imul(Q,Ct)|0,h=h+Math.imul(l,kt)|0,m=m+Math.imul(l,Ct)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(xt,Et),h=Math.imul(xt,Mt),h=h+Math.imul(gt,Et)|0,m=Math.imul(gt,Mt),y=y+Math.imul(Pt,It)|0,h=h+Math.imul(Pt,Tt)|0,h=h+Math.imul(lt,It)|0,m=m+Math.imul(lt,Tt)|0,y=y+Math.imul(it,Ot)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(q,Ot)|0,m=m+Math.imul(q,Nt)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,Dt)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,Dt)|0,y=y+Math.imul(R,kt)|0,h=h+Math.imul(R,Ct)|0,h=h+Math.imul(T,kt)|0,m=m+Math.imul(T,Ct)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,qt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,qt)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(mt,Et),h=Math.imul(mt,Mt),h=h+Math.imul(yt,Et)|0,m=Math.imul(yt,Mt),y=y+Math.imul(xt,It)|0,h=h+Math.imul(xt,Tt)|0,h=h+Math.imul(gt,It)|0,m=m+Math.imul(gt,Tt)|0,y=y+Math.imul(Pt,Ot)|0,h=h+Math.imul(Pt,Nt)|0,h=h+Math.imul(lt,Ot)|0,m=m+Math.imul(lt,Nt)|0,y=y+Math.imul(it,Ft)|0,h=h+Math.imul(it,Dt)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,Dt)|0,y=y+Math.imul(U,kt)|0,h=h+Math.imul(U,Ct)|0,h=h+Math.imul(z,kt)|0,m=m+Math.imul(z,Ct)|0,y=y+Math.imul(R,Ut)|0,h=h+Math.imul(R,qt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,qt)|0,y=y+Math.imul(Q,zt)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,zt)|0,m=m+Math.imul(l,_t)|0;var Mr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(vt,Et),h=Math.imul(vt,Mt),h=h+Math.imul(Bt,Et)|0,m=Math.imul(Bt,Mt),y=y+Math.imul(mt,It)|0,h=h+Math.imul(mt,Tt)|0,h=h+Math.imul(yt,It)|0,m=m+Math.imul(yt,Tt)|0,y=y+Math.imul(xt,Ot)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(gt,Ot)|0,m=m+Math.imul(gt,Nt)|0,y=y+Math.imul(Pt,Ft)|0,h=h+Math.imul(Pt,Dt)|0,h=h+Math.imul(lt,Ft)|0,m=m+Math.imul(lt,Dt)|0,y=y+Math.imul(it,kt)|0,h=h+Math.imul(it,Ct)|0,h=h+Math.imul(q,kt)|0,m=m+Math.imul(q,Ct)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,qt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,qt)|0,y=y+Math.imul(R,zt)|0,h=h+Math.imul(R,_t)|0,h=h+Math.imul(T,zt)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var ri=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ri>>>26)|0,ri&=67108863,y=Math.imul(dt,Et),h=Math.imul(dt,Mt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Mt),y=y+Math.imul(vt,It)|0,h=h+Math.imul(vt,Tt)|0,h=h+Math.imul(Bt,It)|0,m=m+Math.imul(Bt,Tt)|0,y=y+Math.imul(mt,Ot)|0,h=h+Math.imul(mt,Nt)|0,h=h+Math.imul(yt,Ot)|0,m=m+Math.imul(yt,Nt)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,Dt)|0,h=h+Math.imul(gt,Ft)|0,m=m+Math.imul(gt,Dt)|0,y=y+Math.imul(Pt,kt)|0,h=h+Math.imul(Pt,Ct)|0,h=h+Math.imul(lt,kt)|0,m=m+Math.imul(lt,Ct)|0,y=y+Math.imul(it,Ut)|0,h=h+Math.imul(it,qt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,qt)|0,y=y+Math.imul(U,zt)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,zt)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(R,Lt)|0,h=h+Math.imul(R,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,jt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,jt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(At,Et),h=Math.imul(At,Mt),h=h+Math.imul(bt,Et)|0,m=Math.imul(bt,Mt),y=y+Math.imul(dt,It)|0,h=h+Math.imul(dt,Tt)|0,h=h+Math.imul(wt,It)|0,m=m+Math.imul(wt,Tt)|0,y=y+Math.imul(vt,Ot)|0,h=h+Math.imul(vt,Nt)|0,h=h+Math.imul(Bt,Ot)|0,m=m+Math.imul(Bt,Nt)|0,y=y+Math.imul(mt,Ft)|0,h=h+Math.imul(mt,Dt)|0,h=h+Math.imul(yt,Ft)|0,m=m+Math.imul(yt,Dt)|0,y=y+Math.imul(xt,kt)|0,h=h+Math.imul(xt,Ct)|0,h=h+Math.imul(gt,kt)|0,m=m+Math.imul(gt,Ct)|0,y=y+Math.imul(Pt,Ut)|0,h=h+Math.imul(Pt,qt)|0,h=h+Math.imul(lt,Ut)|0,m=m+Math.imul(lt,qt)|0,y=y+Math.imul(it,zt)|0,h=h+Math.imul(it,_t)|0,h=h+Math.imul(q,zt)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(R,$t)|0,h=h+Math.imul(R,jt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,jt)|0,y=y+Math.imul(Q,Kt)|0,h=h+Math.imul(Q,Rt)|0,h=h+Math.imul(l,Kt)|0,m=m+Math.imul(l,Rt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(At,It),h=Math.imul(At,Tt),h=h+Math.imul(bt,It)|0,m=Math.imul(bt,Tt),y=y+Math.imul(dt,Ot)|0,h=h+Math.imul(dt,Nt)|0,h=h+Math.imul(wt,Ot)|0,m=m+Math.imul(wt,Nt)|0,y=y+Math.imul(vt,Ft)|0,h=h+Math.imul(vt,Dt)|0,h=h+Math.imul(Bt,Ft)|0,m=m+Math.imul(Bt,Dt)|0,y=y+Math.imul(mt,kt)|0,h=h+Math.imul(mt,Ct)|0,h=h+Math.imul(yt,kt)|0,m=m+Math.imul(yt,Ct)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,qt)|0,h=h+Math.imul(gt,Ut)|0,m=m+Math.imul(gt,qt)|0,y=y+Math.imul(Pt,zt)|0,h=h+Math.imul(Pt,_t)|0,h=h+Math.imul(lt,zt)|0,m=m+Math.imul(lt,_t)|0,y=y+Math.imul(it,Lt)|0,h=h+Math.imul(it,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,jt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,jt)|0,y=y+Math.imul(R,Kt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(T,Kt)|0,m=m+Math.imul(T,Rt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(At,Ot),h=Math.imul(At,Nt),h=h+Math.imul(bt,Ot)|0,m=Math.imul(bt,Nt),y=y+Math.imul(dt,Ft)|0,h=h+Math.imul(dt,Dt)|0,h=h+Math.imul(wt,Ft)|0,m=m+Math.imul(wt,Dt)|0,y=y+Math.imul(vt,kt)|0,h=h+Math.imul(vt,Ct)|0,h=h+Math.imul(Bt,kt)|0,m=m+Math.imul(Bt,Ct)|0,y=y+Math.imul(mt,Ut)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(yt,Ut)|0,m=m+Math.imul(yt,qt)|0,y=y+Math.imul(xt,zt)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(gt,zt)|0,m=m+Math.imul(gt,_t)|0,y=y+Math.imul(Pt,Lt)|0,h=h+Math.imul(Pt,Ht)|0,h=h+Math.imul(lt,Lt)|0,m=m+Math.imul(lt,Ht)|0,y=y+Math.imul(it,$t)|0,h=h+Math.imul(it,jt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,jt)|0,y=y+Math.imul(U,Kt)|0,h=h+Math.imul(U,Rt)|0,h=h+Math.imul(z,Kt)|0,m=m+Math.imul(z,Rt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(At,Ft),h=Math.imul(At,Dt),h=h+Math.imul(bt,Ft)|0,m=Math.imul(bt,Dt),y=y+Math.imul(dt,kt)|0,h=h+Math.imul(dt,Ct)|0,h=h+Math.imul(wt,kt)|0,m=m+Math.imul(wt,Ct)|0,y=y+Math.imul(vt,Ut)|0,h=h+Math.imul(vt,qt)|0,h=h+Math.imul(Bt,Ut)|0,m=m+Math.imul(Bt,qt)|0,y=y+Math.imul(mt,zt)|0,h=h+Math.imul(mt,_t)|0,h=h+Math.imul(yt,zt)|0,m=m+Math.imul(yt,_t)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(gt,Lt)|0,m=m+Math.imul(gt,Ht)|0,y=y+Math.imul(Pt,$t)|0,h=h+Math.imul(Pt,jt)|0,h=h+Math.imul(lt,$t)|0,m=m+Math.imul(lt,jt)|0,y=y+Math.imul(it,Kt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(q,Kt)|0,m=m+Math.imul(q,Rt)|0;var Lr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(At,kt),h=Math.imul(At,Ct),h=h+Math.imul(bt,kt)|0,m=Math.imul(bt,Ct),y=y+Math.imul(dt,Ut)|0,h=h+Math.imul(dt,qt)|0,h=h+Math.imul(wt,Ut)|0,m=m+Math.imul(wt,qt)|0,y=y+Math.imul(vt,zt)|0,h=h+Math.imul(vt,_t)|0,h=h+Math.imul(Bt,zt)|0,m=m+Math.imul(Bt,_t)|0,y=y+Math.imul(mt,Lt)|0,h=h+Math.imul(mt,Ht)|0,h=h+Math.imul(yt,Lt)|0,m=m+Math.imul(yt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,jt)|0,h=h+Math.imul(gt,$t)|0,m=m+Math.imul(gt,jt)|0,y=y+Math.imul(Pt,Kt)|0,h=h+Math.imul(Pt,Rt)|0,h=h+Math.imul(lt,Kt)|0,m=m+Math.imul(lt,Rt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(At,Ut),h=Math.imul(At,qt),h=h+Math.imul(bt,Ut)|0,m=Math.imul(bt,qt),y=y+Math.imul(dt,zt)|0,h=h+Math.imul(dt,_t)|0,h=h+Math.imul(wt,zt)|0,m=m+Math.imul(wt,_t)|0,y=y+Math.imul(vt,Lt)|0,h=h+Math.imul(vt,Ht)|0,h=h+Math.imul(Bt,Lt)|0,m=m+Math.imul(Bt,Ht)|0,y=y+Math.imul(mt,$t)|0,h=h+Math.imul(mt,jt)|0,h=h+Math.imul(yt,$t)|0,m=m+Math.imul(yt,jt)|0,y=y+Math.imul(xt,Kt)|0,h=h+Math.imul(xt,Rt)|0,h=h+Math.imul(gt,Kt)|0,m=m+Math.imul(gt,Rt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(At,zt),h=Math.imul(At,_t),h=h+Math.imul(bt,zt)|0,m=Math.imul(bt,_t),y=y+Math.imul(dt,Lt)|0,h=h+Math.imul(dt,Ht)|0,h=h+Math.imul(wt,Lt)|0,m=m+Math.imul(wt,Ht)|0,y=y+Math.imul(vt,$t)|0,h=h+Math.imul(vt,jt)|0,h=h+Math.imul(Bt,$t)|0,m=m+Math.imul(Bt,jt)|0,y=y+Math.imul(mt,Kt)|0,h=h+Math.imul(mt,Rt)|0,h=h+Math.imul(yt,Kt)|0,m=m+Math.imul(yt,Rt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(At,Lt),h=Math.imul(At,Ht),h=h+Math.imul(bt,Lt)|0,m=Math.imul(bt,Ht),y=y+Math.imul(dt,$t)|0,h=h+Math.imul(dt,jt)|0,h=h+Math.imul(wt,$t)|0,m=m+Math.imul(wt,jt)|0,y=y+Math.imul(vt,Kt)|0,h=h+Math.imul(vt,Rt)|0,h=h+Math.imul(Bt,Kt)|0,m=m+Math.imul(Bt,Rt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(At,$t),h=Math.imul(At,jt),h=h+Math.imul(bt,$t)|0,m=Math.imul(bt,jt),y=y+Math.imul(dt,Kt)|0,h=h+Math.imul(dt,Rt)|0,h=h+Math.imul(wt,Kt)|0,m=m+Math.imul(wt,Rt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(At,Kt),h=Math.imul(At,Rt),h=h+Math.imul(bt,Kt)|0,m=Math.imul(bt,Rt);var ui=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,E[0]=Se,E[1]=Ne,E[2]=Ce,E[3]=Re,E[4]=Pe,E[5]=xe,E[6]=Mr,E[7]=ri,E[8]=Ir,E[9]=ii,E[10]=ni,E[11]=si,E[12]=Lr,E[13]=Hr,E[14]=$r,E[15]=oi,E[16]=ai,E[17]=hi,E[18]=ui,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ht=W);function ut(s,c,d){d.negative=c.negative^s.negative,d.length=s.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-s.length+1);m<=h;m++){var Y=E-m,Q=s.words[Y]|0,l=c.words[m]|0,x=Q*l,R=x&67108863;I=I+(x/67108864|0)|0,R=R+y|0,y=R&67108863,I=I+(R>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function nt(s,c,d){return ut(s,c,d)}a.prototype.mulTo=function(s,c){var d,g=this.length+s.length;return this.length===10&&s.length===10?d=ht(this,s,c):g<63?d=W(this,s,c):g<1024?d=ut(this,s,c):d=nt(this,s,c),d},a.prototype.mul=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},a.prototype.mulf=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),nt(this,s,c)},a.prototype.imul=function(s){return this.clone().mulTo(s,this)},a.prototype.imuln=function(s){var c=s<0;c&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*s,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(s){return this.clone().imuln(s)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(s){var c=k(s);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},a.prototype.iushrn=function(s,c,d){i(typeof s=="number"&&s>=0);var g;c?g=(c-c%26)/26:g=0;var w=s%26,E=Math.min((s-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var Y=this.words[h]|0;this.words[h]=m<<26-w|Y>>>w,m=Y&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(s,c,d){return i(this.negative===0),this.iushrn(s,c,d)},a.prototype.shln=function(s){return this.clone().ishln(s)},a.prototype.ushln=function(s){return this.clone().iushln(s)},a.prototype.shrn=function(s){return this.clone().ishrn(s)},a.prototype.ushrn=function(s){return this.clone().iushrn(s)},a.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(s){return this.clone().imaskn(s)},a.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},a.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(s){return this.clone().iaddn(s)},a.prototype.subn=function(s){return this.clone().isubn(s)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(s,c,d){var g=s.length+d,w;this._expand(g);var E,I=0;for(w=0;w<s.length;w++){E=(this.words[w+d]|0)+I;var y=(s.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(s,c){var d=this.length-s.length,g=this.clone(),w=s,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var Y=g.clone()._ishlnsubmul(w,1,y);Y.negative===0&&(g=Y,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(s,c,d){if(i(!s.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&s.negative===0?(E=this.neg().divmod(s,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(s)),{div:g,mod:w}):this.negative===0&&s.negative!==0?(E=this.divmod(s.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&s.negative?(E=this.neg().divmod(s.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(s)),{div:E.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new a(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new a(this.modrn(s.words[0]))}:this._wordDiv(s,c)},a.prototype.div=function(s){return this.divmod(s,"div",!1).div},a.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},a.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},a.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(s):c.mod,g=s.ushrn(1),w=s.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%s;return c?-g:g},a.prototype.modn=function(s){return this.modrn(s)},a.prototype.idivn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/s|0,d=w%s}return this._strip(),c?this.ineg():this},a.prototype.divn=function(s){return this.clone().idivn(s)},a.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var Y=0,Q=1;!(c.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(c.iushrn(Y);Y-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,x=1;!(d.words[0]&x)&&l<26;++l,x<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var Y;return c.cmpn(1)===0?Y=g:Y=w,Y.cmpn(0)<0&&Y.iadd(s),Y},a.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),d=s.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(s){return this.egcd(s).a.umod(s)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(s){return this.words[0]&s},a.prototype.bincn=function(s){i(typeof s=="number");var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(s=-s),i(s<=67108863,"Number is too big");var g=this.words[0]|0;d=g===s?0:g<s?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=s.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(s){return this.cmpn(s)===1},a.prototype.gt=function(s){return this.cmp(s)===1},a.prototype.gten=function(s){return this.cmpn(s)>=0},a.prototype.gte=function(s){return this.cmp(s)>=0},a.prototype.ltn=function(s){return this.cmpn(s)===-1},a.prototype.lt=function(s){return this.cmp(s)===-1},a.prototype.lten=function(s){return this.cmpn(s)<=0},a.prototype.lte=function(s){return this.cmp(s)<=0},a.prototype.eqn=function(s){return this.cmpn(s)===0},a.prototype.eq=function(s){return this.cmp(s)===0},a.red=function(s){return new j(s)},a.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(s){return this.red=s,this},a.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},a.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},a.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},a.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},a.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},a.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},a.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},a.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var et={k256:null,p224:null,p192:null,p25519:null};function rt(s,c){this.name=s,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}rt.prototype._tmp=function(){var s=new a(null);return s.words=new Array(Math.ceil(this.n/13)),s},rt.prototype.ireduce=function(s){var c=s,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},rt.prototype.split=function(s,c){s.iushrn(this.n,0,c)},rt.prototype.imulK=function(s){return s.imul(this.k)};function ft(){rt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ft,rt),ft.prototype.split=function(s,c){for(var d=4194303,g=Math.min(s.length,9),w=0;w<g;w++)c.words[w]=s.words[w];if(c.length=g,s.length<=9){s.words[0]=0,s.length=1;return}var E=s.words[9];for(c.words[c.length++]=E&d,w=10;w<s.length;w++){var I=s.words[w]|0;s.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,s.words[w-10]=E,E===0&&s.length>10?s.length-=10:s.length-=9},ft.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,d=0;d<s.length;d++){var g=s.words[d]|0;c+=g*977,s.words[d]=c&67108863,c=g*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function tt(){rt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(tt,rt);function Gt(){rt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,rt);function V(){rt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,rt),V.prototype.imulK=function(s){for(var c=0,d=0;d<s.length;d++){var g=(s.words[d]|0)*19+c,w=g&67108863;g>>>=26,s.words[d]=w,c=g}return c!==0&&(s.words[s.length++]=c),s},a._prime=function(s){if(et[s])return et[s];var c;if(s==="k256")c=new ft;else if(s==="p224")c=new tt;else if(s==="p192")c=new Gt;else if(s==="p25519")c=new V;else throw new Error("Unknown prime "+s);return et[s]=c,c};function j(s){if(typeof s=="string"){var c=a._prime(s);this.m=c.p,this.prime=c}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}j.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,c){i((s.negative|c.negative)===0,"red works only with positives"),i(s.red&&s.red===c.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,c){this._verify2(s,c);var d=s.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},j.prototype.iadd=function(s,c){this._verify2(s,c);var d=s.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},j.prototype.sub=function(s,c){this._verify2(s,c);var d=s.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},j.prototype.isub=function(s,c){this._verify2(s,c);var d=s.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},j.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},j.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},j.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(s,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),Y=this.pow(s,g.addn(1).iushrn(1)),Q=this.pow(s,g),l=w;Q.cmp(E)!==0;){for(var x=Q,R=0;x.cmp(E)!==0;R++)x=x.redSqr();i(R<l);var T=this.pow(m,new a(1).iushln(l-R-1));Y=Y.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=R}return Y},j.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},j.prototype.pow=function(s,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=s;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],s);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],Y=h-1;Y>=0;Y--){var Q=m>>Y&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||Y!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},j.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},j.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},a.mont=function(s){return new Z(s)};function Z(s){j.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},Z.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new a(0)._forceRed(this);var d=s.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,Jm)})(Xm);var ie=Xm.exports;const Zm="bignumber/5.7.0";var Ou=ie.BN;const ns=new ae(Zm),Nf={},vp=9007199254740991;function d9(e){return e!=null&&(He.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||yi(e)||typeof e=="bigint"||na(e))}let yp=!1;class He{constructor(t,r){t!==Nf&&ns.throwError("cannot call constructor directly; use BigNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Yr(ge(this).fromTwos(t))}toTwos(t){return Yr(ge(this).toTwos(t))}abs(){return this._hex[0]==="-"?He.from(this._hex.substring(1)):this}add(t){return Yr(ge(this).add(ge(t)))}sub(t){return Yr(ge(this).sub(ge(t)))}div(t){return He.from(t).isZero()&&Ti("division-by-zero","div"),Yr(ge(this).div(ge(t)))}mul(t){return Yr(ge(this).mul(ge(t)))}mod(t){const r=ge(t);return r.isNeg()&&Ti("division-by-zero","mod"),Yr(ge(this).umod(r))}pow(t){const r=ge(t);return r.isNeg()&&Ti("negative-power","pow"),Yr(ge(this).pow(r))}and(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Ti("unbound-bitwise-result","and"),Yr(ge(this).and(r))}or(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Ti("unbound-bitwise-result","or"),Yr(ge(this).or(r))}xor(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Ti("unbound-bitwise-result","xor"),Yr(ge(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Ti("negative-width","mask"),Yr(ge(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ti("negative-width","shl"),Yr(ge(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ti("negative-width","shr"),Yr(ge(this).shrn(t))}eq(t){return ge(this).eq(ge(t))}lt(t){return ge(this).lt(ge(t))}lte(t){return ge(this).lte(ge(t))}gt(t){return ge(this).gt(ge(t))}gte(t){return ge(this).gte(ge(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ge(this).isZero()}toNumber(){try{return ge(this).toNumber()}catch{Ti("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ns.throwError("this platform does not support BigInt",ae.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?yp||(yp=!0,ns.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ns.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ae.errors.UNEXPECTED_ARGUMENT,{}):ns.throwError("BigNumber.toString does not accept parameters",ae.errors.UNEXPECTED_ARGUMENT,{})),ge(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof He)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new He(Nf,Wa(t)):t.match(/^-?[0-9]+$/)?new He(Nf,Wa(new Ou(t))):ns.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ti("underflow","BigNumber.from",t),(t>=vp||t<=-vp)&&Ti("overflow","BigNumber.from",t),He.from(String(t));const r=t;if(typeof r=="bigint")return He.from(r.toString());if(na(r))return He.from(Or(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return He.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(yi(i)||i[0]==="-"&&yi(i.substring(1))))return He.from(i)}return ns.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Wa(e){if(typeof e!="string")return Wa(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&ns.throwArgumentError("invalid hex","value",e),e=Wa(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Yr(e){return He.from(Wa(e))}function ge(e){const t=He.from(e).toHexString();return t[0]==="-"?new Ou("-"+t.substring(3),16):new Ou(t.substring(2),16)}function Ti(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),ns.throwError(e,ae.errors.NUMERIC_FAULT,i)}function p9(e){return new Ou(e,36).toString(16)}const Dr=new ae(Zm),ja={},t2=He.from(0),e2=He.from(-1);function r2(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Dr.throwError(e,ae.errors.NUMERIC_FAULT,n)}let Ka="0";for(;Ka.length<256;)Ka+=Ka;function G0(e){if(typeof e!="number")try{e=He.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Ka.substring(0,e):Dr.throwArgumentError("invalid decimal size","decimals",e)}function Cf(e,t){t==null&&(t=0);const r=G0(t);e=He.from(e);const i=e.lt(t2);i&&(e=e.mul(e2));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function Zn(e,t){t==null&&(t=0);const r=G0(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Dr.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Dr.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Dr.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&r2("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=He.from(a),b=He.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(e2)),A}class Uo{constructor(t,r,i,n){t!==ja&&Dr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=G0(n),Object.freeze(this)}static from(t){if(t instanceof Uo)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Dr.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&Dr.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&Dr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Dr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Uo(ja,r,i,n)}}class Ar{constructor(t,r,i,n){t!==ja&&Dr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Dr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Zn(this._value,this.format.decimals),i=Zn(t._value,t.format.decimals);return Ar.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Zn(this._value,this.format.decimals),i=Zn(t._value,t.format.decimals);return Ar.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Zn(this._value,this.format.decimals),i=Zn(t._value,t.format.decimals);return Ar.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Zn(this._value,this.format.decimals),i=Zn(t._value,t.format.decimals);return Ar.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Ar.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(wp.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Ar.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(wp.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Dr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Ar.from("1"+Ka.substring(0,t),this.format),n=g9.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Dr.throwArgumentError("invalid byte width","width",t);const r=He.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Tn(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ar.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!d9(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Ar.fromString(Cf(t,r),Uo.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Uo.from(r),n=Zn(t,i.decimals);!i.signed&&n.lt(t2)&&r2("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=Tn(a,i.width/8));const f=Cf(n,i.decimals);return new Ar(ja,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Uo.from(r);if(rr(t).length>i.width/8)throw new Error("overflow");let n=He.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=Cf(n,i.decimals);return new Ar(ja,a,f,i)}static from(t,r){if(typeof t=="string")return Ar.fromString(t,r);if(na(t))return Ar.fromBytes(t,r);try{return Ar.fromValue(t,0,r)}catch(i){if(i.code!==ae.errors.INVALID_ARGUMENT)throw i}return Dr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const wp=Ar.from(1),g9=Ar.from("0.5"),m9="strings/5.7.0",i2=new ae(m9);var Fu;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Fu||(Fu={}));var qo;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(qo||(qo={}));function v9(e,t,r,i,n){return i2.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function n2(e,t,r,i,n){if(e===qo.BAD_PREFIX||e===qo.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===qo.OVERRUN?r.length-t-1:0}function y9(e,t,r,i,n){return e===qo.OVERLONG?(i.push(n),0):(i.push(65533),n2(e,t,r))}Object.freeze({error:v9,ignore:n2,replace:y9});function Rf(e,t=Fu.current){t!=Fu.current&&(i2.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const a=e.charCodeAt(i);if(i>=e.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const f=65536+((n&1023)<<10)+(a&1023);r.push(f>>18|240),r.push(f>>12&63|128),r.push(f>>6&63|128),r.push(f&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return rr(r)}function w9(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Pf(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function Ap(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}Ap("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Pf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Pf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Pf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",w9),Ap("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const s2="hash/5.7.0";function A9(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return rr(t)}function o2(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function b9(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function E9(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let et=1;et<i;et++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function _(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const S=31,C=Math.pow(2,S),P=C>>>1,O=P>>1,H=C-1;let k=0;for(let et=0;et<S;et++)k=k<<1|_();let W=[],ht=0,ut=C;for(;;){let et=Math.floor(((k-ht+1)*n-1)/ut),rt=0,ft=i;for(;ft-rt>1;){let V=rt+ft>>>1;et<a[V]?ft=V:rt=V}if(rt==0)break;W.push(rt);let tt=ht+Math.floor(ut*a[rt]/n),Gt=ht+Math.floor(ut*a[rt+1]/n)-1;for(;!((tt^Gt)&P);)k=k<<1&H|_(),tt=tt<<1&H,Gt=Gt<<1&H|1;for(;tt&~Gt&O;)k=k&P|k<<1&H>>>1|_(),tt=tt<<1^P,Gt=(Gt^P)<<1|P|1;ht=tt,ut=1+Gt-tt}let nt=i-4;return W.map(et=>{switch(et-nt){case 3:return nt+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return nt+256+(e[v++]<<8|e[v++]);case 1:return nt+e[v++];default:return et-1}})}function M9(e){let t=0;return()=>e[t++]}function I9(e){return M9(E9(e))}function _9(e){return e&1?~e>>1:e>>1}function S9(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function bp(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function N9(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=_9(t());return r}function Du(e,t){let r=bp(e(),e),i=e(),n=bp(i,e),a=S9(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function C9(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(P9(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(x9(r,e))}return b9(o2(t))}function R9(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function a2(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)N9(e,r).forEach((a,f)=>i[f].push(a));return i}function P9(e,t){let r=1+t(),i=t(),n=R9(t),a=a2(n.length,1+e,t);return o2(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((_,S)=>{let C=S*i;return[b+S*r,A.map(P=>P+C)]})}))}function x9(e,t){let r=1+t();return a2(r,1+e,t).map(i=>[i[0],i.slice(1)])}function B9(e){let t=Du(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=Du(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,_)=>_.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function T9(){return I9(A9("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"))}const ru=T9();new Set(Du(ru)),new Set(Du(ru)),C9(ru),B9(ru),new ae(s2);const O9=new Uint8Array(32);O9.fill(0);const F9=`Ethereum Signed Message:
`;function h2(e){return typeof e=="string"&&(e=Rf(e)),Q0(a9([Rf(F9),Rf(String(e.length)),e]))}const D9="rlp/5.7.0";new ae(D9);const k9="address/5.7.0",za=new ae(k9);function Ep(e){yi(e,20)||za.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=rr(Q0(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(i[n>>1]&15)>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const U9=9007199254740991;function q9(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const J0={};for(let e=0;e<10;e++)J0[String(e)]=String(e);for(let e=0;e<26;e++)J0[String.fromCharCode(65+e)]=String(10+e);const Mp=Math.floor(q9(U9));function z9(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>J0[i]).join("");for(;t.length>=Mp;){let i=t.substring(0,Mp);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function L9(e){let t=null;if(typeof e!="string"&&za.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=Ep(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&za.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==z9(e)&&za.throwArgumentError("bad icap checksum","address",e),t=p9(e.substring(4));t.length<40;)t="0"+t;t=Ep("0x"+t)}else za.throwArgumentError("invalid address","address",e);return t}const H9="properties/5.7.0";new ae(H9);function xa(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new ae(s2);const $9=new Uint8Array(32);$9.fill(0),He.from(-1);const j9=He.from(0),K9=He.from(1);He.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Tn(K9.toHexString(),32),Tn(j9.toHexString(),32);var yn={},ye={},sh=u2;function u2(e,t){if(!e)throw new Error(t||"Assertion failed")}u2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var w0={exports:{}};typeof Object.create=="function"?w0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:w0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Q9=sh,G9=w0.exports;ye.inherits=G9;function J9(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function Y9(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):J9(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}ye.toArray=Y9;function V9(e){for(var t="",r=0;r<e.length;r++)t+=f2(e[r].toString(16));return t}ye.toHex=V9;function c2(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ye.htonl=c2;function W9(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=c2(n)),r+=l2(n.toString(16))}return r}ye.toHex32=W9;function f2(e){return e.length===1?"0"+e:e}ye.zero2=f2;function l2(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ye.zero8=l2;function X9(e,t,r,i){var n=r-t;Q9(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}ye.join32=X9;function Z9(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}ye.split32=Z9;function tE(e,t){return e>>>t|e<<32-t}ye.rotr32=tE;function eE(e,t){return e<<t|e>>>32-t}ye.rotl32=eE;function rE(e,t){return e+t>>>0}ye.sum32=rE;function iE(e,t,r){return e+t+r>>>0}ye.sum32_3=iE;function nE(e,t,r,i){return e+t+r+i>>>0}ye.sum32_4=nE;function sE(e,t,r,i,n){return e+t+r+i+n>>>0}ye.sum32_5=sE;function oE(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}ye.sum64=oE;function aE(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}ye.sum64_hi=aE;function hE(e,t,r,i){var n=t+i;return n>>>0}ye.sum64_lo=hE;function uE(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var _=e+r+n+f+b;return _>>>0}ye.sum64_4_hi=uE;function cE(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}ye.sum64_4_lo=cE;function fE(e,t,r,i,n,a,f,v,b,A){var _=0,S=t;S=S+i>>>0,_+=S<t?1:0,S=S+a>>>0,_+=S<a?1:0,S=S+v>>>0,_+=S<v?1:0,S=S+A>>>0,_+=S<A?1:0;var C=e+r+n+f+b+_;return C>>>0}ye.sum64_5_hi=fE;function lE(e,t,r,i,n,a,f,v,b,A){var _=t+i+a+v+A;return _>>>0}ye.sum64_5_lo=lE;function dE(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}ye.rotr64_hi=dE;function pE(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ye.rotr64_lo=pE;function gE(e,t,r){return e>>>r}ye.shr64_hi=gE;function mE(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ye.shr64_lo=mE;var sa={},Ip=ye,vE=sh;function iu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}sa.BlockHash=iu,iu.prototype.update=function(e,t){if(e=Ip.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Ip.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},iu.prototype.digest=function(e){return this.update(this._pad()),vE(this.pending===null),this._digest(e)},iu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Ro={},Ln={},yE=ye,On=yE.rotr32;function wE(e,t,r,i){if(e===0)return d2(t,r,i);if(e===1||e===3)return g2(t,r,i);if(e===2)return p2(t,r,i)}Ln.ft_1=wE;function d2(e,t,r){return e&t^~e&r}Ln.ch32=d2;function p2(e,t,r){return e&t^e&r^t&r}Ln.maj32=p2;function g2(e,t,r){return e^t^r}Ln.p32=g2;function AE(e){return On(e,2)^On(e,13)^On(e,22)}Ln.s0_256=AE;function bE(e){return On(e,6)^On(e,11)^On(e,25)}Ln.s1_256=bE;function EE(e){return On(e,7)^On(e,18)^e>>>3}Ln.g0_256=EE;function ME(e){return On(e,17)^On(e,19)^e>>>10}Ln.g1_256=ME;var Go=ye,IE=sa,_E=Ln,xf=Go.rotl32,Ba=Go.sum32,SE=Go.sum32_5,NE=_E.ft_1,m2=IE.BlockHash,CE=[1518500249,1859775393,2400959708,3395469782];function _n(){if(!(this instanceof _n))return new _n;m2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Go.inherits(_n,m2);var RE=_n;_n.blockSize=512,_n.outSize=160,_n.hmacStrength=80,_n.padLength=64,_n.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=xf(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),_=SE(xf(n,5),NE(A,a,f,v),b,r[i],CE[A]);b=v,v=f,f=xf(a,30),a=n,n=_}this.h[0]=Ba(this.h[0],n),this.h[1]=Ba(this.h[1],a),this.h[2]=Ba(this.h[2],f),this.h[3]=Ba(this.h[3],v),this.h[4]=Ba(this.h[4],b)},_n.prototype._digest=function(e){return e==="hex"?Go.toHex32(this.h,"big"):Go.split32(this.h,"big")};var Jo=ye,PE=sa,oa=Ln,xE=sh,Zi=Jo.sum32,BE=Jo.sum32_4,TE=Jo.sum32_5,OE=oa.ch32,FE=oa.maj32,DE=oa.s0_256,kE=oa.s1_256,UE=oa.g0_256,qE=oa.g1_256,v2=PE.BlockHash,zE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sn(){if(!(this instanceof Sn))return new Sn;v2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=zE,this.W=new Array(64)}Jo.inherits(Sn,v2);var y2=Sn;Sn.blockSize=512,Sn.outSize=256,Sn.hmacStrength=192,Sn.padLength=64,Sn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=BE(qE(r[i-2]),r[i-7],UE(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],_=this.h[6],S=this.h[7];for(xE(this.k.length===r.length),i=0;i<r.length;i++){var C=TE(S,kE(b),OE(b,A,_),this.k[i],r[i]),P=Zi(DE(n),FE(n,a,f));S=_,_=A,A=b,b=Zi(v,C),v=f,f=a,a=n,n=Zi(C,P)}this.h[0]=Zi(this.h[0],n),this.h[1]=Zi(this.h[1],a),this.h[2]=Zi(this.h[2],f),this.h[3]=Zi(this.h[3],v),this.h[4]=Zi(this.h[4],b),this.h[5]=Zi(this.h[5],A),this.h[6]=Zi(this.h[6],_),this.h[7]=Zi(this.h[7],S)},Sn.prototype._digest=function(e){return e==="hex"?Jo.toHex32(this.h,"big"):Jo.split32(this.h,"big")};var A0=ye,w2=y2;function hs(){if(!(this instanceof hs))return new hs;w2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}A0.inherits(hs,w2);var LE=hs;hs.blockSize=512,hs.outSize=224,hs.hmacStrength=192,hs.padLength=64,hs.prototype._digest=function(e){return e==="hex"?A0.toHex32(this.h.slice(0,7),"big"):A0.split32(this.h.slice(0,7),"big")};var Zr=ye,HE=sa,$E=sh,Fn=Zr.rotr64_hi,Dn=Zr.rotr64_lo,A2=Zr.shr64_hi,b2=Zr.shr64_lo,Ms=Zr.sum64,Bf=Zr.sum64_hi,Tf=Zr.sum64_lo,jE=Zr.sum64_4_hi,KE=Zr.sum64_4_lo,QE=Zr.sum64_5_hi,GE=Zr.sum64_5_lo,E2=HE.BlockHash,JE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function an(){if(!(this instanceof an))return new an;E2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=JE,this.W=new Array(160)}Zr.inherits(an,E2);var M2=an;an.blockSize=1024,an.outSize=512,an.hmacStrength=192,an.padLength=128,an.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=sM(r[i-4],r[i-3]),a=oM(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=iM(r[i-30],r[i-29]),A=nM(r[i-30],r[i-29]),_=r[i-32],S=r[i-31];r[i]=jE(n,a,f,v,b,A,_,S),r[i+1]=KE(n,a,f,v,b,A,_,S)}},an.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],_=this.h[7],S=this.h[8],C=this.h[9],P=this.h[10],O=this.h[11],H=this.h[12],k=this.h[13],W=this.h[14],ht=this.h[15];$E(this.k.length===r.length);for(var ut=0;ut<r.length;ut+=2){var nt=W,et=ht,rt=eM(S,C),ft=rM(S,C),tt=YE(S,C,P,O,H),Gt=VE(S,C,P,O,H,k),V=this.k[ut],j=this.k[ut+1],Z=r[ut],s=r[ut+1],c=QE(nt,et,rt,ft,tt,Gt,V,j,Z,s),d=GE(nt,et,rt,ft,tt,Gt,V,j,Z,s);nt=ZE(i,n),et=tM(i,n),rt=WE(i,n,a,f,v),ft=XE(i,n,a,f,v,b);var g=Bf(nt,et,rt,ft),w=Tf(nt,et,rt,ft);W=H,ht=k,H=P,k=O,P=S,O=C,S=Bf(A,_,c,d),C=Tf(_,_,c,d),A=v,_=b,v=a,b=f,a=i,f=n,i=Bf(c,d,g,w),n=Tf(c,d,g,w)}Ms(this.h,0,i,n),Ms(this.h,2,a,f),Ms(this.h,4,v,b),Ms(this.h,6,A,_),Ms(this.h,8,S,C),Ms(this.h,10,P,O),Ms(this.h,12,H,k),Ms(this.h,14,W,ht)},an.prototype._digest=function(e){return e==="hex"?Zr.toHex32(this.h,"big"):Zr.split32(this.h,"big")};function YE(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function VE(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function WE(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function XE(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function ZE(e,t){var r=Fn(e,t,28),i=Fn(t,e,2),n=Fn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function tM(e,t){var r=Dn(e,t,28),i=Dn(t,e,2),n=Dn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function eM(e,t){var r=Fn(e,t,14),i=Fn(e,t,18),n=Fn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function rM(e,t){var r=Dn(e,t,14),i=Dn(e,t,18),n=Dn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function iM(e,t){var r=Fn(e,t,1),i=Fn(e,t,8),n=A2(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function nM(e,t){var r=Dn(e,t,1),i=Dn(e,t,8),n=b2(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function sM(e,t){var r=Fn(e,t,19),i=Fn(t,e,29),n=A2(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function oM(e,t){var r=Dn(e,t,19),i=Dn(t,e,29),n=b2(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var b0=ye,I2=M2;function us(){if(!(this instanceof us))return new us;I2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}b0.inherits(us,I2);var aM=us;us.blockSize=1024,us.outSize=384,us.hmacStrength=192,us.padLength=128,us.prototype._digest=function(e){return e==="hex"?b0.toHex32(this.h.slice(0,12),"big"):b0.split32(this.h.slice(0,12),"big")},Ro.sha1=RE,Ro.sha224=LE,Ro.sha256=y2,Ro.sha384=aM,Ro.sha512=M2;var _2={},eo=ye,hM=sa,nu=eo.rotl32,_p=eo.sum32,Ta=eo.sum32_3,Sp=eo.sum32_4,S2=hM.BlockHash;function wn(){if(!(this instanceof wn))return new wn;S2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}eo.inherits(wn,S2),_2.ripemd160=wn,wn.blockSize=512,wn.outSize=160,wn.hmacStrength=192,wn.padLength=64,wn.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,_=a,S=f,C=0;C<80;C++){var P=_p(nu(Sp(r,Np(C,i,n,a),e[fM[C]+t],uM(C)),dM[C]),f);r=f,f=a,a=nu(n,10),n=i,i=P,P=_p(nu(Sp(v,Np(79-C,b,A,_),e[lM[C]+t],cM(C)),pM[C]),S),v=S,S=_,_=nu(A,10),A=b,b=P}P=Ta(this.h[1],n,_),this.h[1]=Ta(this.h[2],a,S),this.h[2]=Ta(this.h[3],f,v),this.h[3]=Ta(this.h[4],r,b),this.h[4]=Ta(this.h[0],i,A),this.h[0]=P},wn.prototype._digest=function(e){return e==="hex"?eo.toHex32(this.h,"little"):eo.split32(this.h,"little")};function Np(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function uM(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function cM(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var fM=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],lM=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dM=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],pM=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],gM=ye,mM=sh;function zo(e,t,r){if(!(this instanceof zo))return new zo(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(gM.toArray(t,r))}var vM=zo;zo.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),mM(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},zo.prototype.update=function(e,t){return this.inner.update(e,t),this},zo.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ye,t.common=sa,t.sha=Ro,t.ripemd=_2,t.hmac=vM,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(yn);function aa(e,t,r){return r={path:t,exports:{},require:function(i,n){return yM(i,n??r.path)}},e(r,r.exports),r.exports}function yM(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Y0=N2;function N2(e,t){if(!e)throw new Error(t||"Assertion failed")}N2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var fn=aa(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var _=f.charCodeAt(A),S=_>>8,C=_&255;S?b.push(S,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),Ai=aa(function(e,t){var r=t;r.assert=Y0,r.toArray=fn.toArray,r.zero2=fn.zero2,r.toHex=fn.toHex,r.encode=fn.encode;function i(b,A,_){var S=new Array(Math.max(b.bitLength(),_)+1);S.fill(0);for(var C=1<<A+1,P=b.clone(),O=0;O<S.length;O++){var H,k=P.andln(C-1);P.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,P.isubn(H)):H=0,S[O]=H,P.iushrn(1)}return S}r.getNAF=i;function n(b,A){var _=[[],[]];b=b.clone(),A=A.clone();for(var S=0,C=0,P;b.cmpn(-S)>0||A.cmpn(-C)>0;){var O=b.andln(3)+S&3,H=A.andln(3)+C&3;O===3&&(O=-1),H===3&&(H=-1);var k;O&1?(P=b.andln(7)+S&7,(P===3||P===5)&&H===2?k=-O:k=O):k=0,_[0].push(k);var W;H&1?(P=A.andln(7)+C&7,(P===3||P===5)&&O===2?W=-H:W=H):W=0,_[1].push(W),2*S===k+1&&(S=1-S),2*C===W+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return _}r.getJSF=n;function a(b,A,_){var S="_"+A;b.prototype[A]=function(){return this[S]!==void 0?this[S]:this[S]=_.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new ie(b,"hex","le")}r.intFromLE=v}),su=Ai.getNAF,wM=Ai.getJSF,ku=Ai.assert;function Cs(e,t){this.type=e,this.p=new ie(t.p,16),this.red=t.prime?ie.red(t.prime):ie.mont(this.p),this.zero=new ie(0).toRed(this.red),this.one=new ie(1).toRed(this.red),this.two=new ie(2).toRed(this.red),this.n=t.n&&new ie(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var oo=Cs;Cs.prototype.point=function(){throw new Error("Not implemented")},Cs.prototype.validate=function(){throw new Error("Not implemented")},Cs.prototype._fixedNafMul=function(e,t){ku(e.precomputed);var r=e._getDoubles(),i=su(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),_=this.jpoint(null,null,null),S=n;S>0;S--){for(f=0;f<a.length;f++)v=a[f],v===S?_=_.mixedAdd(r.points[f]):v===-S&&(_=_.mixedAdd(r.points[f].neg()));A=A.add(_)}return A.toP()},Cs.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=su(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];ku(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Cs.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,_,S;for(A=0;A<i;A++){S=t[A];var C=S._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var P=A-1,O=A;if(a[P]!==1||a[O]!==1){v[P]=su(r[P],a[P],this._bitLength),v[O]=su(r[O],a[O],this._bitLength),b=Math.max(v[P].length,b),b=Math.max(v[O].length,b);continue}var H=[t[P],null,null,t[O]];t[P].y.cmp(t[O].y)===0?(H[1]=t[P].add(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg())):t[P].y.cmp(t[O].y.redNeg())===0?(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].add(t[O].neg())):(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],W=wM(r[P],r[O]);for(b=Math.max(W[0].length,b),v[P]=new Array(b),v[O]=new Array(b),_=0;_<b;_++){var ht=W[0][_]|0,ut=W[1][_]|0;v[P][_]=k[(ht+1)*3+(ut+1)],v[O][_]=0,f[P]=H}}var nt=this.jpoint(null,null,null),et=this._wnafT4;for(A=b;A>=0;A--){for(var rt=0;A>=0;){var ft=!0;for(_=0;_<i;_++)et[_]=v[_][A]|0,et[_]!==0&&(ft=!1);if(!ft)break;rt++,A--}if(A>=0&&rt++,nt=nt.dblp(rt),A<0)break;for(_=0;_<i;_++){var tt=et[_];tt!==0&&(tt>0?S=f[_][tt-1>>1]:tt<0&&(S=f[_][-tt-1>>1].neg()),S.type==="affine"?nt=nt.mixedAdd(S):nt=nt.add(S))}}for(A=0;A<i;A++)f[A]=null;return n?nt:nt.toP()};function Oi(e,t){this.curve=e,this.type=t,this.precomputed=null}Cs.BasePoint=Oi,Oi.prototype.eq=function(){throw new Error("Not implemented")},Oi.prototype.validate=function(){return this.curve.validate(this)},Cs.prototype.decodePoint=function(e,t){e=Ai.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?ku(e[e.length-1]%2===0):e[0]===7&&ku(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Oi.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Oi.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Oi.prototype.encode=function(e,t){return Ai.encode(this._encode(t),e)},Oi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Oi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Oi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},Oi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},Oi.prototype._getBeta=function(){return null},Oi.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var V0=aa(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),AM=Ai.assert;function Ki(e){oo.call(this,"short",e),this.a=new ie(e.a,16).toRed(this.red),this.b=new ie(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}V0(Ki,oo);var bM=Ki;Ki.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new ie(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new ie(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],AM(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new ie(f.a,16),b:new ie(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},Ki.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ie.mont(e),r=new ie(2).toRed(t).redInvm(),i=r.redNeg(),n=new ie(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},Ki.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new ie(1),a=new ie(0),f=new ie(0),v=new ie(1),b,A,_,S,C,P,O,H=0,k,W;r.cmpn(0)!==0;){var ht=i.div(r);k=i.sub(ht.mul(r)),W=f.sub(ht.mul(n));var ut=v.sub(ht.mul(a));if(!_&&k.cmp(t)<0)b=O.neg(),A=n,_=k.neg(),S=W;else if(_&&++H===2)break;O=k,i=r,r=k,f=n,n=W,v=a,a=ut}C=k.neg(),P=W;var nt=_.sqr().add(S.sqr()),et=C.sqr().add(P.sqr());return et.cmp(nt)>=0&&(C=b,P=A),_.negative&&(_=_.neg(),S=S.neg()),C.negative&&(C=C.neg(),P=P.neg()),[{a:_,b:S},{a:C,b:P}]},Ki.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),_=e.sub(f).sub(v),S=b.add(A).neg();return{k1:_,k2:S}},Ki.prototype.pointFromX=function(e,t){e=new ie(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Ki.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Ki.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),_=0;_<a*2;_++)i[_]=null,n[_]=null;return A};function fr(e,t,r,i){oo.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ie(t,16),this.y=new ie(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}V0(fr,oo.BasePoint),Ki.prototype.point=function(e,t,r){return new fr(this,e,t,r)},Ki.prototype.pointFromJSON=function(e,t){return fr.fromJSON(this,e,t)},fr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},fr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},fr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},fr.prototype.isInfinity=function(){return this.inf},fr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},fr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},fr.prototype.getX=function(){return this.x.fromRed()},fr.prototype.getY=function(){return this.y.fromRed()},fr.prototype.mul=function(e){return e=new ie(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},fr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},fr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},fr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},fr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},fr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function vr(e,t,r,i){oo.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ie(0)):(this.x=new ie(t,16),this.y=new ie(r,16),this.z=new ie(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}V0(vr,oo.BasePoint),Ki.prototype.jpoint=function(e,t,r){return new vr(this,e,t,r)},vr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},vr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},vr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),_=A.redMul(v),S=i.redMul(A),C=b.redSqr().redIAdd(_).redISub(S).redISub(S),P=b.redMul(S.redISub(C)).redISub(a.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,P,O)},vr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),_=r.redMul(b),S=v.redSqr().redIAdd(A).redISub(_).redISub(_),C=v.redMul(_.redISub(S)).redISub(n.redMul(A)),P=this.z.redMul(f);return this.curve.jpoint(S,C,P)},vr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var _=a.redSqr(),S=A.redSqr(),C=S.redSqr(),P=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(b)),O=a.redMul(S),H=P.redSqr().redISub(O.redAdd(O)),k=O.redISub(H),W=P.redMul(k);W=W.redIAdd(W).redISub(C);var ht=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ht,A=W}return this.curve.jpoint(a,A.redMul(n),v)},vr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},vr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),S=this.y.redSqr(),C=S.redSqr(),P=this.x.redAdd(S).redSqr().redISub(_).redISub(C);P=P.redIAdd(P);var O=_.redAdd(_).redIAdd(_),H=O.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(P).redISub(P),t=O.redMul(P.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},vr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),S=this.y.redSqr(),C=this.x.redMul(S),P=this.x.redSub(_).redMul(this.x.redAdd(_));P=P.redAdd(P).redIAdd(P);var O=C.redIAdd(C);O=O.redIAdd(O);var H=O.redAdd(O);e=P.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(_);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=P.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},vr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),_=v.redSqr().redISub(A.redAdd(A)),S=A.redISub(_),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=v.redMul(S).redISub(C),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,P,O)},vr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),_=t.redMul(A);_=_.redIAdd(_),_=_.redIAdd(_);var S=this.x.redMul(v).redISub(_);S=S.redIAdd(S),S=S.redIAdd(S);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(S,C,P)},vr.prototype.mul=function(e,t){return e=new ie(e,t),this.curve._wnafMul(this,e)},vr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},vr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},vr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},vr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Au=aa(function(e,t){var r=t;r.base=oo,r.short=bM,r.mont=null,r.edwards=null}),bu=aa(function(e,t){var r=t,i=Ai.assert;function n(v){v.type==="short"?this.curve=new Au.short(v):v.type==="edwards"?this.curve=new Au.edwards(v):this.curve=new Au.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function Rs(e){if(!(this instanceof Rs))return new Rs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fn.toArray(e.entropy,e.entropyEnc||"hex"),r=fn.toArray(e.nonce,e.nonceEnc||"hex"),i=fn.toArray(e.pers,e.persEnc||"hex");Y0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Cp=Rs;Rs.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Rs.prototype._hmac=function(){return new yn.hmac(this.hash,this.K)},Rs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Rs.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=fn.toArray(e,t),r=fn.toArray(r,i),Y0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Rs.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=fn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,fn.encode(a,t)};var Of=Ai.assert;function Cr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Ff=Cr;Cr.fromPublic=function(e,t,r){return t instanceof Cr?t:new Cr(e,{pub:t,pubEnc:r})},Cr.fromPrivate=function(e,t,r){return t instanceof Cr?t:new Cr(e,{priv:t,privEnc:r})},Cr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Cr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Cr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Cr.prototype._importPrivate=function(e,t){this.priv=new ie(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Cr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Of(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Of(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Cr.prototype.derive=function(e){return e.validate()||Of(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Cr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Cr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var EM=Ai.assert;function Yu(e,t){if(e instanceof Yu)return e;this._importDER(e,t)||(EM(e.r&&e.s,"Signature without r or s"),this.r=new ie(e.r,16),this.s=new ie(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var ou=Yu;function MM(){this.place=0}function Df(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function Rp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Yu.prototype._importDER=function(e,t){e=Ai.toArray(e,t);var r=new MM;if(e[r.place++]!==48)return!1;var i=Df(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Df(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=Df(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new ie(a),this.s=new ie(v),this.recoveryParam=null,!0};function kf(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Yu.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Rp(t),r=Rp(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];kf(i,t.length),i=i.concat(t),i.push(2),kf(i,r.length);var n=i.concat(r),a=[48];return kf(a,n.length),a=a.concat(n),Ai.encode(a,e)};var IM=function(){throw new Error("unsupported")},C2=Ai.assert;function Li(e){if(!(this instanceof Li))return new Li(e);typeof e=="string"&&(C2(Object.prototype.hasOwnProperty.call(bu,e),"Unknown curve "+e),e=bu[e]),e instanceof bu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var _M=Li;Li.prototype.keyPair=function(e){return new Ff(this,e)},Li.prototype.keyFromPrivate=function(e,t){return Ff.fromPrivate(this,e,t)},Li.prototype.keyFromPublic=function(e,t){return Ff.fromPublic(this,e,t)},Li.prototype.genKeyPair=function(e){e||(e={});for(var t=new Cp({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||IM(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ie(2));;){var n=new ie(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Li.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Li.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ie(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new Cp({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new ie(1)),A=0;;A++){var _=i.k?i.k(A):new ie(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(b)>=0)){var S=this.g.mul(_);if(!S.isInfinity()){var C=S.getX(),P=C.umod(this.n);if(P.cmpn(0)!==0){var O=_.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var H=(S.getY().isOdd()?1:0)|(C.cmp(P)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),H^=1),new ou({r:P,s:O,recoveryParam:H})}}}}}},Li.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ie(e,16)),r=this.keyFromPublic(r,i),t=new ou(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},Li.prototype.recoverPubKey=function(e,t,r,i){C2((3&r)===r,"The recovery param is more than two bits"),t=new ou(t,i);var n=this.n,a=new ie(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var _=t.r.invm(n),S=n.sub(a).mul(_).umod(n),C=v.mul(_).umod(n);return this.g.mulAdd(S,f,C)},Li.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new ou(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var SM=aa(function(e,t){var r=t;r.version="6.5.4",r.utils=Ai,r.rand=function(){throw new Error("unsupported")},r.curve=Au,r.curves=bu,r.ec=_M,r.eddsa=null}),NM=SM.ec;const CM="signing-key/5.7.0",E0=new ae(CM);let Uf=null;function Nn(){return Uf||(Uf=new NM("secp256k1")),Uf}class RM{constructor(t){xa(this,"curve","secp256k1"),xa(this,"privateKey",Or(t)),u9(this.privateKey)!==32&&E0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Nn().keyFromPrivate(rr(this.privateKey));xa(this,"publicKey","0x"+r.getPublic(!1,"hex")),xa(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),xa(this,"_isSigningKey",!0)}_addPoint(t){const r=Nn().keyFromPublic(rr(this.publicKey)),i=Nn().keyFromPublic(rr(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=Nn().keyFromPrivate(rr(this.privateKey)),i=rr(t);i.length!==32&&E0.throwArgumentError("bad digest length","digest",t);const n=r.sign(i,{canonical:!0});return Wm({recoveryParam:n.recoveryParam,r:Tn("0x"+n.r.toString(16),32),s:Tn("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const r=Nn().keyFromPrivate(rr(this.privateKey)),i=Nn().keyFromPublic(rr(R2(t)));return Tn("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function PM(e,t){const r=Wm(t),i={r:rr(r.r),s:rr(r.s)};return"0x"+Nn().recoverPubKey(rr(e),i,r.recoveryParam).encode("hex",!1)}function R2(e,t){const r=rr(e);if(r.length===32){const i=new RM(r);return t?"0x"+Nn().keyFromPrivate(r).getPublic(!0,"hex"):i.publicKey}else{if(r.length===33)return t?Or(r):"0x"+Nn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+Nn().keyFromPublic(r).getPublic(!0,"hex"):Or(r)}return E0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const xM="transactions/5.7.0";new ae(xM);var Pp;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Pp||(Pp={}));function BM(e){const t=R2(e);return L9(mp(Q0(mp(t,1)),12))}function TM(e,t){return BM(PM(rr(e),t))}const OM="https://rpc.walletconnect.com/v1";async function FM(e,t,r,i,n,a){switch(r.t){case"eip191":return DM(e,t,r.s);case"eip1271":return await kM(e,t,r.s,i,n,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function DM(e,t,r){return TM(h2(t),r).toLowerCase()===e.toLowerCase()}async function kM(e,t,r,i,n,a){try{const f="0x1626ba7e",v="0000000000000000000000000000000000000000000000000000000000000040",b="0000000000000000000000000000000000000000000000000000000000000041",A=r.substring(2),_=h2(t).substring(2),S=f+_+v+b+A,C=await fetch(`${a||OM}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:UM(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:S},"latest"]})}),{result:P}=await C.json();return P?P.slice(0,f.length).toLowerCase()===f.toLowerCase():!1}catch(f){return console.error("isValidEip1271Signature: ",f),!1}}function UM(){return Date.now()+Math.floor(Math.random()*1e3)}var qM=Object.defineProperty,zM=Object.defineProperties,LM=Object.getOwnPropertyDescriptors,xp=Object.getOwnPropertySymbols,HM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,Bp=(e,t,r)=>t in e?qM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jM=(e,t)=>{for(var r in t||(t={}))HM.call(t,r)&&Bp(e,r,t[r]);if(xp)for(var r of xp(t))$M.call(t,r)&&Bp(e,r,t[r]);return e},KM=(e,t)=>zM(e,LM(t));const QM="did:pkh:",W0=e=>e?.split(":"),P2=e=>{const t=e&&W0(e);if(t)return e.includes(QM)?t[3]:t[1]},Tp=e=>{const t=e&&W0(e);if(t)return t[2]+":"+t[3]},Uu=e=>{const t=e&&W0(e);if(t)return t.pop()};async function Op(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,a=x2(n,n.iss),f=Uu(n.iss);return await FM(f,a,i,P2(n.iss),r)}const x2=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=Uu(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const a=`URI: ${e.aud||e.uri}`,f=`Version: ${e.version}`,v=`Chain ID: ${P2(t)}`,b=`Nonce: ${e.nonce}`,A=`Issued At: ${e.iat}`,_=e.resources?`Resources:${e.resources.map(C=>`
- ${C}`).join("")}`:void 0,S=Eu(e.resources);if(S){const C=Xa(S);n=eI(n,C)}return[r,i,"",n,"",a,f,v,b,A,_].filter(C=>C!=null).join(`
`)};function GM(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function JM(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function io(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(n=>{const a=i[n];if(!Array.isArray(a))throw new Error(`Ability limits ${n} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);a.forEach(f=>{if(typeof f!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${f}`)})})})}function YM(e,t,r,i={}){return r?.sort((n,a)=>n.localeCompare(a)),{att:{[e]:VM(t,r,i)}}}function VM(e,t,r={}){t=t?.sort((n,a)=>n.localeCompare(a));const i=t.map(n=>({[`${e}/${n}`]:[r]}));return Object.assign({},...i)}function B2(e){return io(e),`urn:recap:${GM(e).replace(/=/g,"")}`}function Xa(e){const t=JM(e.replace("urn:recap:",""));return io(t),t}function WM(e,t,r){const i=YM(e,t,r);return B2(i)}function XM(e){return e&&e.includes("urn:recap:")}function ZM(e,t){const r=Xa(e),i=Xa(t),n=tI(r,i);return B2(n)}function tI(e,t){io(e),io(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((n,a)=>n.localeCompare(a)),i={att:{}};return r.forEach(n=>{var a,f;Object.keys(((a=e.att)==null?void 0:a[n])||{}).concat(Object.keys(((f=t.att)==null?void 0:f[n])||{})).sort((v,b)=>v.localeCompare(b)).forEach(v=>{var b,A;i.att[n]=KM(jM({},i.att[n]),{[v]:((b=e.att[n])==null?void 0:b[v])||((A=t.att[n])==null?void 0:A[v])})})}),i}function eI(e="",t){io(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach(v=>{const b=Object.keys(t.att[v]).map(S=>({ability:S.split("/")[0],action:S.split("/")[1]}));b.sort((S,C)=>S.action.localeCompare(C.action));const A={};b.forEach(S=>{A[S.ability]||(A[S.ability]=[]),A[S.ability].push(S.action)});const _=Object.keys(A).map(S=>(n++,`(${n}) '${S}': '${A[S].join("', '")}' for '${v}'.`));i.push(_.join(", ").replace(".,","."))});const a=i.join(" "),f=`${r}${a}`;return`${e?e+" ":""}${f}`}function Fp(e){var t;const r=Xa(e);io(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function Dp(e){const t=Xa(e);io(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(n=>{var a;(a=n?.[0])!=null&&a.chains&&r.push(n[0].chains)})}),[...new Set(r.flat())]}function Eu(e){if(!e)return;const t=e?.[e.length-1];return XM(t)?t:void 0}const T2="base10",qr="base16",M0="base64pad",X0="utf8",O2=0,Fs=1,rI=0,kp=1,I0=12,Z0=32;function iI(){const e=rm.generateKeyPair();return{privateKey:Gi(e.secretKey,qr),publicKey:Gi(e.publicKey,qr)}}function _0(){const e=im.randomBytes(Z0);return Gi(e,qr)}function nI(e,t){const r=rm.sharedKey(un(e,qr),un(t,qr),!0),i=new z8(q0.SHA256,r).expand(Z0);return Gi(i,qr)}function Mu(e){const t=q0.hash(un(e,qr));return Gi(t,qr)}function Xs(e){const t=q0.hash(un(e,X0));return Gi(t,qr)}function sI(e){return un(`${e}`,T2)}function oh(e){return Number(Gi(e,T2))}function oI(e){const t=sI(typeof e.type<"u"?e.type:O2);if(oh(t)===Fs&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?un(e.senderPublicKey,qr):void 0,i=typeof e.iv<"u"?un(e.iv,qr):im.randomBytes(I0),n=new nm.ChaCha20Poly1305(un(e.symKey,qr)).seal(i,un(e.message,X0));return hI({type:t,sealed:n,iv:i,senderPublicKey:r})}function aI(e){const t=new nm.ChaCha20Poly1305(un(e.symKey,qr)),{sealed:r,iv:i}=qu(e.encoded),n=t.open(i,r);if(n===null)throw new Error("Failed to decrypt");return Gi(n,X0)}function hI(e){if(oh(e.type)===Fs){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Gi(T1([e.type,e.senderPublicKey,e.iv,e.sealed]),M0)}return Gi(T1([e.type,e.iv,e.sealed]),M0)}function qu(e){const t=un(e,M0),r=t.slice(rI,kp),i=kp;if(oh(r)===Fs){const v=i+Z0,b=v+I0,A=t.slice(i,v),_=t.slice(v,b),S=t.slice(b);return{type:r,sealed:S,iv:_,senderPublicKey:A}}const n=i+I0,a=t.slice(i,n),f=t.slice(n);return{type:r,sealed:f,iv:a}}function uI(e,t){const r=qu(e);return F2({type:oh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Gi(r.senderPublicKey,qr):void 0,receiverPublicKey:t?.receiverPublicKey})}function F2(e){const t=e?.type||O2;if(t===Fs){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function Up(e){return e.type===Fs&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}const cI="irn";function S0(e){return e?.relay||{protocol:cI}}function Iu(e){const t=$8[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var fI=Object.defineProperty,lI=Object.defineProperties,dI=Object.getOwnPropertyDescriptors,qp=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable,zp=(e,t,r)=>t in e?fI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lp=(e,t)=>{for(var r in t||(t={}))pI.call(t,r)&&zp(e,r,t[r]);if(qp)for(var r of qp(t))gI.call(t,r)&&zp(e,r,t[r]);return e},mI=(e,t)=>lI(e,dI(t));function vI(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(n=>{if(n.startsWith(i)){const a=n.replace(i,""),f=e[n];r[a]=f}}),r}function Hp(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),a=typeof r<"u"?e.substring(r):"",f=Pu.parse(a),v=typeof f.methods=="string"?f.methods.split(","):void 0;return{protocol:i,topic:yI(n[0]),version:parseInt(n[1],10),symKey:f.symKey,relay:vI(f),methods:v,expiryTimestamp:f.expiryTimestamp?parseInt(f.expiryTimestamp,10):void 0}}function yI(e){return e.startsWith("//")?e.substring(2):e}function wI(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(n=>{const a=r+t+n;e[n]&&(i[a]=e[n])}),i}function AI(e){return`${e.protocol}:${e.topic}@${e.version}?`+Pu.stringify(Lp(mI(Lp({symKey:e.symKey},wI(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function ha(e){const t=[];return e.forEach(r=>{const[i,n]=r.split(":");t.push(`${i}:${n}`)}),t}function bI(e){const t=[];return Object.values(e).forEach(r=>{t.push(...ha(r.accounts))}),t}function EI(e,t){const r=[];return Object.values(e).forEach(i=>{ha(i.accounts).includes(t)&&r.push(...i.methods)}),r}function MI(e,t){const r=[];return Object.values(e).forEach(i=>{ha(i.accounts).includes(t)&&r.push(...i.events)}),r}function II(e){const t={};return e?.forEach(r=>{const[i,n]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${n}`)}),t}function $p(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=II(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=X7(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const _I={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},SI={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function St(e,t){const{message:r,code:i}=SI[e];return{message:t?`${r} ${t}`:r,code:i}}function ze(e,t){const{message:r,code:i}=_I[e];return{message:t?`${r} ${t}`:r,code:i}}function ah(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function zu(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function kr(e){return typeof e>"u"}function or(e,t){return t&&kr(e)?!0:typeof e=="string"&&!!e.trim().length}function tl(e,t){return t&&kr(e)?!0:typeof e=="number"&&!isNaN(e)}function NI(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let a=!0;return Ws(n,i)?(i.forEach(f=>{const{accounts:v,methods:b,events:A}=e.namespaces[f],_=ha(v),S=r[f];(!Ws($m(f,S),_)||!Ws(S.methods,b)||!Ws(S.events,A))&&(a=!1)}),a):!1}function Lu(e){return or(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function CI(e){if(or(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Lu(r)}}return!1}function RI(e){if(or(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function PI(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function xI(e){return e?.topic}function BI(e,t){let r=null;return or(e?.publicKey,!1)||(r=St("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function jp(e){let t=!0;return ah(e)?e.length&&(t=e.every(r=>or(r,!1))):t=!1,t}function TI(e,t,r){let i=null;return ah(t)&&t.length?t.forEach(n=>{i||Lu(n)||(i=ze("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):Lu(e)||(i=ze("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function OI(e,t,r){let i=null;return Object.entries(e).forEach(([n,a])=>{if(i)return;const f=TI(n,$m(n,a),`${t} ${r}`);f&&(i=f)}),i}function FI(e,t){let r=null;return ah(e)?e.forEach(i=>{r||CI(i)||(r=ze("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=ze("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function DI(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=FI(i?.accounts,`${t} namespace`);n&&(r=n)}),r}function kI(e,t){let r=null;return jp(e?.methods)?jp(e?.events)||(r=ze("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=ze("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function D2(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=kI(i,`${t}, namespace`);n&&(r=n)}),r}function UI(e,t,r){let i=null;if(e&&zu(e)){const n=D2(e,t);n&&(i=n);const a=OI(e,t,r);a&&(i=a)}else i=St("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function qf(e,t){let r=null;if(e&&zu(e)){const i=D2(e,t);i&&(r=i);const n=DI(e,t);n&&(r=n)}else r=St("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function k2(e){return or(e.protocol,!0)}function qI(e,t){let r=!1;return t&&!e?r=!0:e&&ah(e)&&e.length&&e.forEach(i=>{r=k2(i)}),r}function zI(e){return typeof e=="number"}function Wr(e){return typeof e<"u"&&typeof e!==null}function LI(e){return!(!e||typeof e!="object"||!e.code||!tl(e.code,!1)||!e.message||!or(e.message,!1))}function HI(e){return!(kr(e)||!or(e.method,!1))}function $I(e){return!(kr(e)||kr(e.result)&&kr(e.error)||!tl(e.id,!1)||!or(e.jsonrpc,!1))}function jI(e){return!(kr(e)||!or(e.name,!1))}function Kp(e,t){return!(!Lu(t)||!bI(e).includes(t))}function KI(e,t,r){return or(r,!1)?EI(e,t).includes(r):!1}function QI(e,t,r){return or(r,!1)?MI(e,t).includes(r):!1}function Qp(e,t,r){let i=null;const n=GI(e),a=JI(t),f=Object.keys(n),v=Object.keys(a),b=Gp(Object.keys(e)),A=Gp(Object.keys(t)),_=b.filter(S=>!A.includes(S));return _.length&&(i=St("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${_.toString()}
      Received: ${Object.keys(t).toString()}`)),Ws(f,v)||(i=St("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${f.toString()}
      Approved: ${v.toString()}`)),Object.keys(t).forEach(S=>{if(!S.includes(":")||i)return;const C=ha(t[S].accounts);C.includes(S)||(i=St("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${S}
        Required: ${S}
        Approved: ${C.toString()}`))}),f.forEach(S=>{i||(Ws(n[S].methods,a[S].methods)?Ws(n[S].events,a[S].events)||(i=St("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${S}`)):i=St("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${S}`))}),i}function GI(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}function Gp(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function JI(e){const t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:ha(e[r].accounts)?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(a=>a.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}),t}function YI(e,t){return tl(e,!1)&&e<=t.max&&e>=t.min}function Jp(){const e=nh();return new Promise(t=>{switch(e){case vi.browser:t(VI());break;case vi.reactNative:t(WI());break;case vi.node:t(XI());break;default:t(!0)}})}function VI(){return ia()&&navigator?.onLine}async function WI(){return ra()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function XI(){return!0}function ZI(e){switch(nh()){case vi.browser:t_(e);break;case vi.reactNative:e_(e);break}}function t_(e){!ra()&&ia()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function e_(e){ra()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}const zf={};class Oa{static get(t){return zf[t]}static set(t,r){zf[t]=r}static delete(t){delete zf[t]}}class r_ extends sm{constructor(t){super(t),this.events=new zr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Zs(t.method,t.params||[],t.id||Bs().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(a){n(a)}this.events.on(`${t.id}`,a=>{$i(a)?n(a.error):i(a.result)});try{await this.connection.send(t,r)}catch(a){n(a)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),th(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}function i_(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var a=e.charAt(n),f=a.charCodeAt(0);if(r[f]!==255)throw new TypeError(a+" is ambiguous");r[f]=n}var v=e.length,b=e.charAt(0),A=Math.log(v)/Math.log(256),_=Math.log(256)/Math.log(v);function S(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var H=0,k=0,W=0,ht=O.length;W!==ht&&O[W]===0;)W++,H++;for(var ut=(ht-W)*_+1>>>0,nt=new Uint8Array(ut);W!==ht;){for(var et=O[W],rt=0,ft=ut-1;(et!==0||rt<k)&&ft!==-1;ft--,rt++)et+=256*nt[ft]>>>0,nt[ft]=et%v>>>0,et=et/v>>>0;if(et!==0)throw new Error("Non-zero carry");k=rt,W++}for(var tt=ut-k;tt!==ut&&nt[tt]===0;)tt++;for(var Gt=b.repeat(H);tt<ut;++tt)Gt+=e.charAt(nt[tt]);return Gt}function C(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;var H=0;if(O[H]!==" "){for(var k=0,W=0;O[H]===b;)k++,H++;for(var ht=(O.length-H)*A+1>>>0,ut=new Uint8Array(ht);O[H];){var nt=r[O.charCodeAt(H)];if(nt===255)return;for(var et=0,rt=ht-1;(nt!==0||et<W)&&rt!==-1;rt--,et++)nt+=v*ut[rt]>>>0,ut[rt]=nt%256>>>0,nt=nt/256>>>0;if(nt!==0)throw new Error("Non-zero carry");W=et,H++}if(O[H]!==" "){for(var ft=ht-W;ft!==ht&&ut[ft]===0;)ft++;for(var tt=new Uint8Array(k+(ht-ft)),Gt=k;ft!==ht;)tt[Gt++]=ut[ft++];return tt}}}function P(O){var H=C(O);if(H)return H;throw new Error(`Non-${t} character`)}return{encode:S,decodeUnsafe:C,decode:P}}var n_=i_,s_=n_;const U2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},o_=e=>new TextEncoder().encode(e),a_=e=>new TextDecoder().decode(e);class h_{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class u_{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return q2(this,t)}}class c_{constructor(t){this.decoders=t}or(t){return q2(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const q2=(e,t)=>new c_({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class f_{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new h_(t,r,i),this.decoder=new u_(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Vu=({name:e,prefix:t,encode:r,decode:i})=>new f_(e,t,r,i),hh=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=s_(r,t);return Vu({prefix:e,name:t,encode:i,decode:a=>U2(n(a))})},l_=(e,t,r,i)=>{const n={};for(let _=0;_<t.length;++_)n[t[_]]=_;let a=e.length;for(;e[a-1]==="=";)--a;const f=new Uint8Array(a*r/8|0);let v=0,b=0,A=0;for(let _=0;_<a;++_){const S=n[e[_]];if(S===void 0)throw new SyntaxError(`Non-${i} character`);b=b<<r|S,v+=r,v>=8&&(v-=8,f[A++]=255&b>>v)}if(v>=r||255&b<<8-v)throw new SyntaxError("Unexpected end of data");return f},d_=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let a="",f=0,v=0;for(let b=0;b<e.length;++b)for(v=v<<8|e[b],f+=8;f>r;)f-=r,a+=t[n&v>>f];if(f&&(a+=t[n&v<<r-f]),i)for(;a.length*r&7;)a+="=";return a},Er=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>Vu({prefix:t,name:e,encode(n){return d_(n,i,r)},decode(n){return l_(n,i,r,e)}}),p_=Vu({prefix:"\0",name:"identity",encode:e=>a_(e),decode:e=>o_(e)});var g_=Object.freeze({__proto__:null,identity:p_});const m_=Er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var v_=Object.freeze({__proto__:null,base2:m_});const y_=Er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var w_=Object.freeze({__proto__:null,base8:y_});const A_=hh({prefix:"9",name:"base10",alphabet:"0123456789"});var b_=Object.freeze({__proto__:null,base10:A_});const E_=Er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),M_=Er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var I_=Object.freeze({__proto__:null,base16:E_,base16upper:M_});const __=Er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),S_=Er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),N_=Er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),C_=Er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R_=Er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P_=Er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),x_=Er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B_=Er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),T_=Er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var O_=Object.freeze({__proto__:null,base32:__,base32upper:S_,base32pad:N_,base32padupper:C_,base32hex:R_,base32hexupper:P_,base32hexpad:x_,base32hexpadupper:B_,base32z:T_});const F_=hh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),D_=hh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var k_=Object.freeze({__proto__:null,base36:F_,base36upper:D_});const U_=hh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q_=hh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var z_=Object.freeze({__proto__:null,base58btc:U_,base58flickr:q_});const L_=Er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H_=Er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$_=Er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),j_=Er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var K_=Object.freeze({__proto__:null,base64:L_,base64pad:H_,base64url:$_,base64urlpad:j_});const z2=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Q_=z2.reduce((e,t,r)=>(e[r]=t,e),[]),G_=z2.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function J_(e){return e.reduce((t,r)=>(t+=Q_[r],t),"")}function Y_(e){const t=[];for(const r of e){const i=G_[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const V_=Vu({prefix:"\u{1F680}",name:"base256emoji",encode:J_,decode:Y_});var W_=Object.freeze({__proto__:null,base256emoji:V_}),X_=L2,Yp=128,Z_=127,tS=~Z_,eS=Math.pow(2,31);function L2(e,t,r){t=t||[],r=r||0;for(var i=r;e>=eS;)t[r++]=e&255|Yp,e/=128;for(;e&tS;)t[r++]=e&255|Yp,e>>>=7;return t[r]=e|0,L2.bytes=r-i+1,t}var rS=N0,iS=128,Vp=127;function N0(e,i){var r=0,i=i||0,n=0,a=i,f,v=e.length;do{if(a>=v)throw N0.bytes=0,new RangeError("Could not decode varint");f=e[a++],r+=n<28?(f&Vp)<<n:(f&Vp)*Math.pow(2,n),n+=7}while(f>=iS);return N0.bytes=a-i,r}var nS=Math.pow(2,7),sS=Math.pow(2,14),oS=Math.pow(2,21),aS=Math.pow(2,28),hS=Math.pow(2,35),uS=Math.pow(2,42),cS=Math.pow(2,49),fS=Math.pow(2,56),lS=Math.pow(2,63),dS=function(e){return e<nS?1:e<sS?2:e<oS?3:e<aS?4:e<hS?5:e<uS?6:e<cS?7:e<fS?8:e<lS?9:10},pS={encode:X_,decode:rS,encodingLength:dS},H2=pS;const Wp=(e,t,r=0)=>(H2.encode(e,t,r),t),Xp=e=>H2.encodingLength(e),C0=(e,t)=>{const r=t.byteLength,i=Xp(e),n=i+Xp(r),a=new Uint8Array(n+r);return Wp(e,a,0),Wp(r,a,i),a.set(t,n),new gS(e,r,t,a)};class gS{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const $2=({name:e,code:t,encode:r})=>new mS(e,t,r);class mS{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?C0(this.code,r):r.then(i=>C0(this.code,i))}else throw Error("Unknown type, must be binary type")}}const j2=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),vS=$2({name:"sha2-256",code:18,encode:j2("SHA-256")}),yS=$2({name:"sha2-512",code:19,encode:j2("SHA-512")});var wS=Object.freeze({__proto__:null,sha256:vS,sha512:yS});const K2=0,AS="identity",Q2=U2,bS=e=>C0(K2,Q2(e)),ES={code:K2,name:AS,encode:Q2,digest:bS};var MS=Object.freeze({__proto__:null,identity:ES});new TextEncoder,new TextDecoder;const Zp={...g_,...v_,...w_,...b_,...I_,...O_,...k_,...z_,...K_,...W_};({...wS,...MS});function G2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function IS(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?G2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function J2(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const tg=J2("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Lf=J2("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=IS(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),_S={utf8:tg,"utf-8":tg,hex:Zp.base16,latin1:Lf,ascii:Lf,binary:Lf,...Zp};function SS(e,t="utf8"){const r=_S[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?G2(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const Y2="wc",NS=2,el="core",Ds=`${Y2}@2:${el}:`,CS={name:el,logger:"error"},RS={database:":memory:"},PS="crypto",eg="client_ed25519_seed",xS=Yt.ONE_DAY,BS="keychain",TS="0.3",OS="messages",FS="0.3",DS=Yt.SIX_HOURS,kS="publisher",V2="irn",US="error",W2="wss://relay.walletconnect.com",rg="wss://relay.walletconnect.org",qS="relayer",mi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zS="_subscription",Fi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},LS=Yt.ONE_SECOND,HS="2.12.2",$S=1e4,jS="0.3",KS="WALLETCONNECT_CLIENT_ID",An={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},QS="subscription",GS="0.3",JS=Yt.FIVE_SECONDS*1e3,YS="pairing",VS="0.3",Fa={wc_pairingDelete:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Yt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Yt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:0}}},Bo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},tn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},WS="history",XS="0.3",ZS="expirer",qi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},tN="0.3",Hf="verify-api",To="https://verify.walletconnect.com",R0="https://verify.walletconnect.org",eN=[To,R0],rN="echo",iN="https://echo.walletconnect.com";class nN{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=BS,this.version=TS,this.initialized=!1,this.storagePrefix=Ds,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:a}=St("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(a)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=ei(r,this.name)}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,jm(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Km(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class sN{constructor(t,r,i){this.core=t,this.logger=r,this.name=PS,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),a=O1(n);return G8(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=iI();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const a=await this.getClientSeed(),f=O1(a),v=_0();return await J8(v,n,xS,f)},this.generateSharedKey=(n,a,f)=>{this.isInitialized();const v=this.getPrivateKey(n),b=nI(v,a);return this.setSymKey(b,f)},this.setSymKey=async(n,a)=>{this.isInitialized();const f=a||Mu(n);return await this.keychain.set(f,n),f},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,a,f)=>{this.isInitialized();const v=F2(f),b=f0(a);if(Up(v)){const C=v.senderPublicKey,P=v.receiverPublicKey;n=await this.generateSharedKey(C,P)}const A=this.getSymKey(n),{type:_,senderPublicKey:S}=v;return oI({type:_,symKey:A,message:b,senderPublicKey:S})},this.decode=async(n,a,f)=>{this.isInitialized();const v=uI(a,f);if(Up(v)){const b=v.receiverPublicKey,A=v.senderPublicKey;n=await this.generateSharedKey(b,A)}try{const b=this.getSymKey(n),A=aI({symKey:b,encoded:a});return om(A)}catch(b){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(b)}},this.getPayloadType=n=>{const a=qu(n);return oh(a.type)},this.getPayloadSenderPublicKey=n=>{const a=qu(n);return a.senderPublicKey?Gi(a.senderPublicKey,qr):void 0},this.core=t,this.logger=ei(r,this.name),this.keychain=i||new nN(this.core,this.logger)}get context(){return Ei(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(eg)}catch{t=_0(),await this.keychain.set(eg,t)}return SS(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class oN extends N7{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=OS,this.version=FS,this.initialized=!1,this.storagePrefix=Ds,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const a=Xs(n);let f=this.messages.get(i);return typeof f>"u"&&(f={}),typeof f[a]<"u"||(f[a]=n,this.messages.set(i,f),await this.persist()),a},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const a=this.get(i),f=Xs(n);return typeof a[f]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=ei(t,this.name),this.core=r}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,jm(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Km(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class aN extends C7{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new zr.exports.EventEmitter,this.name=kS,this.queue=new Map,this.publishTimeout=Yt.toMiliseconds(Yt.ONE_MINUTE),this.failedPublishTimeout=Yt.toMiliseconds(Yt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,n,a)=>{var f;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:a}});const v=a?.ttl||DS,b=S0(a),A=a?.prompt||!1,_=a?.tag||0,S=a?.id||Bs().toString(),C={topic:i,message:n,opts:{ttl:v,relay:b,prompt:A,tag:_,id:S}},P=`Failed to publish payload, please try again. id:${S} tag:${_}`,O=Date.now();let H,k=1;try{for(;H===void 0;){if(Date.now()-O>this.publishTimeout)throw new Error(P);this.logger.trace({id:S,attempts:k},`publisher.publish - attempt ${k}`),H=await await Va(this.rpcPublish(i,n,v,b,A,_,S).catch(W=>this.logger.warn(W)),this.publishTimeout,P),k++,H||await new Promise(W=>setTimeout(W,this.failedPublishTimeout))}this.relayer.events.emit(mi.publish,C),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:S,topic:i,message:n,opts:a}})}catch(W){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(W),(f=a?.internal)!=null&&f.throwOnFailedPublish)throw W;this.queue.set(S,C)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=t,this.logger=ei(r,this.name),this.registerEventListeners()}get context(){return Ei(this.logger)}rpcPublish(t,r,i,n,a,f,v){var b,A,_,S;const C={method:Iu(n.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:a,tag:f},id:v};return kr((b=C.params)==null?void 0:b.prompt)&&((A=C.params)==null||delete A.prompt),kr((_=C.params)==null?void 0:_.tag)&&((S=C.params)==null||delete S.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:C}),this.relayer.request(C)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:n}=t;await this.publish(r,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(ea.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(mi.connection_stalled);return}this.checkQueue()}),this.relayer.on(mi.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class hN{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const n=i.filter(a=>a!==r);if(!n.length){this.map.delete(t);return}this.map.set(t,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var uN=Object.defineProperty,cN=Object.defineProperties,fN=Object.getOwnPropertyDescriptors,ig=Object.getOwnPropertySymbols,lN=Object.prototype.hasOwnProperty,dN=Object.prototype.propertyIsEnumerable,ng=(e,t,r)=>t in e?uN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Da=(e,t)=>{for(var r in t||(t={}))lN.call(t,r)&&ng(e,r,t[r]);if(ig)for(var r of ig(t))dN.call(t,r)&&ng(e,r,t[r]);return e},$f=(e,t)=>cN(e,fN(t));class pN extends x7{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new hN,this.events=new zr.exports.EventEmitter,this.name=QS,this.version=GS,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ds,this.subscribeTimeout=Yt.toMiliseconds(Yt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const a=S0(n),f={topic:i,relay:a};this.pending.set(i,f);const v=await this.rpcSubscribe(i,a);return typeof v=="string"&&(this.onSubscribe(v,f),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),v}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((a,f)=>{const v=new Yt.Watch;v.start(n);const b=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(b),v.stop(n),a(!0)),v.elapsed(n)>=JS&&(clearInterval(b),v.stop(n),f(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=ei(r,this.name),this.clientId=""}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async n=>await this.unsubscribeById(t,n,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const n=S0(i);await this.rpcUnsubscribe(t,r,n);const a=ze("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,r){const i={method:Iu(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Va(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)?Xs(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(mi.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:Iu(r.protocol).batchSubscribe,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Va(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(mi.connection_stalled)}}rpcUnsubscribe(t,r,i){const n={method:Iu(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,r){this.setSubscription(t,$f(Da({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Da({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Da({},r)),this.topicMap.set(r.topic,t),this.events.emit(An.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=St("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(An.deleted,$f(Da({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(An.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(An.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);ah(r)&&this.onBatchSubscribe(r.map((i,n)=>$f(Da({},t[n]),{id:i})))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(ea.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(An.created,async t=>{const r=An.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(An.deleted,async t=>{const r=An.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var gN=Object.defineProperty,sg=Object.getOwnPropertySymbols,mN=Object.prototype.hasOwnProperty,vN=Object.prototype.propertyIsEnumerable,og=(e,t,r)=>t in e?gN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yN=(e,t)=>{for(var r in t||(t={}))mN.call(t,r)&&og(e,r,t[r]);if(sg)for(var r of sg(t))vN.call(t,r)&&og(e,r,t[r]);return e};class wN extends R7{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new zr.exports.EventEmitter,this.name=qS,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Yt.toMiliseconds(Yt.THIRTY_SECONDS+Yt.ONE_SECOND),this.request=async r=>{var i,n;this.logger.debug("Publishing Request Payload");const a=r.id||Bs().toString();await this.toEstablishConnection();try{const f=this.provider.request(r);this.requestsInFlight.set(a,{promise:f,request:r}),this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const v=await new Promise(async(b,A)=>{const _=()=>{A(new Error(`relayer.request - publish interrupted, id: ${a}`))};this.provider.on(Fi.disconnect,_);const S=await f;this.provider.off(Fi.disconnect,_),b(S)});return this.logger.trace({id:a,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - published"),v}catch(f){throw this.logger.debug(`Failed to Publish Request: ${a}`),f}finally{this.requestsInFlight.delete(a)}},this.resetPingTimeout=()=>{if(Ya())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,n;(n=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit(mi.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(mi.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Fi.payload,this.onPayloadHandler),this.provider.on(Fi.connect,this.onConnectHandler),this.provider.on(Fi.disconnect,this.onDisconnectHandler),this.provider.on(Fi.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ei(t.logger,this.name):z0(Qu({level:t.logger||US})),this.messages=new oN(this.logger,t.core),this.subscriber=new pN(this,this.logger),this.publisher=new aN(this,this.logger),this.relayUrl=t?.relayUrl||W2,this.projectId=t.projectId,this.bundleId=$7(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${rg}...`),await this.restartTransport(rg)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},$S)}get context(){return Ei(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",a;const f=v=>{v.topic===t&&(this.subscriber.off(An.created,f),a())};return await Promise.all([new Promise(v=>{a=v,this.subscriber.on(An.created,f)}),new Promise(async v=>{n=await this.subscriber.subscribe(t,r)||n,v()})]),n}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Va(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect(),await this.createProvider()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const n=()=>{this.provider.off(Fi.disconnect,n),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Fi.disconnect,n),await Va(this.provider.connect(),Yt.toMiliseconds(Yt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Jp())throw new Error("No internet connection detected. Please restart your network and try again.")}startPingTimeout(){var t,r,i,n,a;if(Ya())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((a=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||a.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(f){this.logger.warn(f)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new r_(new Y8(Y7({sdkVersion:HS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const n=this.messages.has(r,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),L0(t)){if(!t.method.endsWith(zS))return;const r=t.params,{topic:i,message:n,publishedAt:a}=r.data,f={topic:i,message:n,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(yN({type:"event",event:r.id},f)),this.events.emit(r.id,f),await this.acknowledgePayload(t),await this.onMessageEvent(f)}else th(t)&&this.events.emit(mi.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(mi.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Gu(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Fi.payload,this.onPayloadHandler),this.provider.off(Fi.connect,this.onConnectHandler),this.provider.off(Fi.disconnect,this.onDisconnectHandler),this.provider.off(Fi.error,this.onProviderErrorHandler)}async registerEventListeners(){let t=await Jp();ZI(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.events.emit(mi.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},Yt.toMiliseconds(LS))}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var AN=Object.defineProperty,ag=Object.getOwnPropertySymbols,bN=Object.prototype.hasOwnProperty,EN=Object.prototype.propertyIsEnumerable,hg=(e,t,r)=>t in e?AN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ug=(e,t)=>{for(var r in t||(t={}))bN.call(t,r)&&hg(e,r,t[r]);if(ag)for(var r of ag(t))EN.call(t,r)&&hg(e,r,t[r]);return e};class ao extends P7{constructor(t,r,i,n=Ds,a=void 0){super(t,r,i,n),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=jS,this.cached=[],this.initialized=!1,this.storagePrefix=Ds,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(f=>{this.getKey&&f!==null&&!kr(f)?this.map.set(this.getKey(f),f):PI(f)?this.map.set(f.id,f):xI(f)&&this.map.set(f.topic,f)}),this.cached=[],this.initialized=!0)},this.set=async(f,v)=>{this.isInitialized(),this.map.has(f)?await this.update(f,v):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:f,value:v}),this.map.set(f,v),await this.persist())},this.get=f=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:f}),this.getData(f)),this.getAll=f=>(this.isInitialized(),f?this.values.filter(v=>Object.keys(f).every(b=>j8(v[b],f[b]))):this.values),this.update=async(f,v)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:f,update:v});const b=ug(ug({},this.getData(f)),v);this.map.set(f,b),await this.persist()},this.delete=async(f,v)=>{this.isInitialized(),this.map.has(f)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:f,reason:v}),this.map.delete(f),this.addToRecentlyDeleted(f),await this.persist())},this.logger=ei(r,this.name),this.storagePrefix=n,this.getKey=a}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:n}=St("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}const{message:i}=St("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class MN{constructor(t,r){this.core=t,this.logger=r,this.name=YS,this.version=VS,this.events=new zr.exports,this.initialized=!1,this.storagePrefix=Ds,this.ignoredPayloadTypes=[Fs],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=_0(),a=await this.core.crypto.setSymKey(n),f=Pr(Yt.FIVE_MINUTES),v={protocol:V2},b={topic:a,expiry:f,relay:v,active:!1},A=AI({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:n,relay:v,expiryTimestamp:f,methods:i?.methods});return await this.pairings.set(a,b),await this.core.relayer.subscribe(a),this.core.expirer.set(a,f),{topic:a,uri:A}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);const{topic:n,symKey:a,relay:f,expiryTimestamp:v,methods:b}=Hp(i.uri);let A;if(this.pairings.keys.includes(n)&&(A=this.pairings.get(n),A.active))throw new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);const _=v||Pr(Yt.FIVE_MINUTES),S={topic:n,relay:f,expiry:_,active:!1,methods:b};return await this.pairings.set(n,S),this.core.expirer.set(n,_),i.activatePairing&&await this.activate({topic:n}),this.events.emit(Bo.create,S),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(a,n),await this.core.relayer.subscribe(n,{relay:f}),S},this.activate=async({topic:i})=>{this.isInitialized();const n=Pr(Yt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const a=await this.sendRequest(n,"wc_pairingPing",{}),{done:f,resolve:v,reject:b}=Vs();this.events.once(le("pairing_ping",a),({error:A})=>{A?b(A):v()}),await f()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",ze("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,a)=>{const f=Zs(n,a),v=await this.core.crypto.encode(i,f),b=Fa[n].req;return this.core.history.set(i,f),this.core.relayer.publish(i,v,b),f.id},this.sendResult=async(i,n,a)=>{const f=Gu(i,a),v=await this.core.crypto.encode(n,f),b=await this.core.history.get(n,i),A=Fa[b.request.method].res;await this.core.relayer.publish(n,v,A),await this.core.history.resolve(f)},this.sendError=async(i,n,a)=>{const f=H0(i,a),v=await this.core.crypto.encode(n,f),b=await this.core.history.get(n,i),A=Fa[b.request.method]?Fa[b.request.method].res:Fa.unregistered_method.res;await this.core.relayer.publish(n,v,A),await this.core.history.resolve(f)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,ze("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>_s(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:a}=i;switch(a.method){case"wc_pairingPing":return this.onPairingPingRequest(n,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,a);default:return this.onUnknownRpcMethodRequest(n,a)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:a}=i,f=(await this.core.history.get(n,a.id)).request.method;switch(f){case"wc_pairingPing":return this.onPairingPingResponse(n,a);default:return this.onUnknownRpcMethodResponse(f)}},this.onPairingPingRequest=async(i,n)=>{const{id:a}=n;try{this.isValidPing({topic:i}),await this.sendResult(a,i,!0),this.events.emit(Bo.ping,{id:a,topic:i})}catch(f){await this.sendError(a,i,f),this.logger.error(f)}},this.onPairingPingResponse=(i,n)=>{const{id:a}=n;setTimeout(()=>{rs(n)?this.events.emit(le("pairing_ping",a),{}):$i(n)&&this.events.emit(le("pairing_ping",a),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:a}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(Bo.delete,{id:a,topic:i})}catch(f){await this.sendError(a,i,f),this.logger.error(f)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:a,method:f}=n;try{if(this.registeredMethods.includes(f))return;const v=ze("WC_METHOD_UNSUPPORTED",f);await this.sendError(a,i,v),this.logger.error(v)}catch(v){await this.sendError(a,i,v),this.logger.error(v)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(ze("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{var n;if(!Wr(i)){const{message:f}=St("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(f)}if(!RI(i.uri)){const{message:f}=St("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(f)}const a=Hp(i.uri);if(!((n=a?.relay)!=null&&n.protocol)){const{message:f}=St("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(f)}if(!(a!=null&&a.symKey)){const{message:f}=St("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(f)}if(a!=null&&a.expiryTimestamp&&Yt.toMiliseconds(a?.expiryTimestamp)<Date.now()){const{message:f}=St("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(f)}},this.isValidPing=async i=>{if(!Wr(i)){const{message:a}=St("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(a)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!Wr(i)){const{message:a}=St("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(a)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!or(i,!1)){const{message:n}=St("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=St("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(_s(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=St("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=t,this.logger=ei(r,this.name),this.pairings=new ao(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ei(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(mi.message,async t=>{const{topic:r,message:i}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const n=await this.core.crypto.decode(r,i);try{L0(n)?(this.core.history.set(r,n),this.onRelayEventRequest({topic:r,payload:n})):th(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:r,payload:n}),this.core.history.delete(r,n.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(qi.expired,async t=>{const{topic:r}=Gm(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Bo.expire,{topic:r}))})}}class IN extends S7{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new zr.exports.EventEmitter,this.name=WS,this.version=XS,this.cached=[],this.initialized=!1,this.storagePrefix=Ds,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:a}),this.records.has(n.id))return;const f={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:a,expiry:Pr(Yt.THIRTY_DAYS)};this.records.set(f.id,f),this.persist(),this.events.emit(tn.created,f)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=$i(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(tn.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(a=>{if(a.topic===i){if(typeof n<"u"&&a.id!==n)return;this.records.delete(a.id),this.events.emit(tn.deleted,a)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=ei(r,this.name)}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:Zs(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=St("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(tn.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(tn.created,t=>{const r=tn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(tn.updated,t=>{const r=tn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(tn.deleted,t=>{const r=tn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(ea.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{Yt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(tn.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class _N extends B7{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new zr.exports.EventEmitter,this.name=ZS,this.version=tN,this.cached=[],this.initialized=!1,this.storagePrefix=Ds,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const a=this.formatTarget(i),f={target:a,expiry:n};this.expirations.set(a,f),this.checkExpiry(a,f),this.events.emit(qi.created,{target:a,expiration:f})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),a=this.getExpiration(n);this.expirations.delete(n),this.events.emit(qi.deleted,{target:n,expiration:a})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=ei(r,this.name)}get context(){return Ei(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return V7(t);if(typeof t=="number")return W7(t);const{message:r}=St("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(qi.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=St("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;Yt.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(qi.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(ea.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(qi.created,t=>{const r=qi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(qi.expired,t=>{const r=qi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(qi.deleted,t=>{const r=qi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}}}class SN extends T7{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Hf,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async i=>{if(this.verifyDisabled||ra()||!ia())return;const n=this.getVerifyUrl(i?.verifyUrl);this.verifyUrl!==n&&this.removeIframe(),this.verifyUrl=n;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a)}if(!this.initialized){this.removeIframe(),this.verifyUrl=R0;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a),this.verifyDisabled=!0}}},this.register=async i=>{this.initialized?this.sendPost(i.attestationId):(this.addToQueue(i.attestationId),await this.init())},this.resolve=async i=>{if(this.isDevEnv)return"";const n=this.getVerifyUrl(i?.verifyUrl);let a;try{a=await this.fetchAttestation(i.attestationId,n)}catch(f){this.logger.info(`failed to resolve attestation: ${i.attestationId} from url: ${n}`),this.logger.info(f),a=await this.fetchAttestation(i.attestationId,R0)}return a},this.fetchAttestation=async(i,n)=>{this.logger.info(`resolving attestation: ${i} from url: ${n}`);const a=this.startAbortTimer(Yt.ONE_SECOND*2),f=await fetch(`${n}/attestation/${i}`,{signal:this.abortController.signal});return clearTimeout(a),f.status===200?await f.json():void 0},this.addToQueue=i=>{this.queue.push(i)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(i=>this.sendPost(i)),this.queue=[])},this.sendPost=i=>{var n;try{if(!this.iframe)return;(n=this.iframe.contentWindow)==null||n.postMessage(i,"*"),this.logger.info(`postMessage sent: ${i} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let i;const n=a=>{a.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",n),i())};await Promise.race([new Promise(a=>{const f=document.getElementById(Hf);if(f)return this.iframe=f,this.onInit(),a();window.addEventListener("message",n);const v=document.createElement("iframe");v.id=Hf,v.src=`${this.verifyUrl}/${this.projectId}`,v.style.display="none",document.body.append(v),this.iframe=v,i=a}),new Promise((a,f)=>setTimeout(()=>{window.removeEventListener("message",n),f("verify iframe load timeout")},Yt.toMiliseconds(Yt.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=i=>{let n=i||To;return eN.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${To}`),n=To),n},this.logger=ei(r,this.name),this.verifyUrl=To,this.abortController=new AbortController,this.isDevEnv=Ya()&&{}.IS_VITEST}get context(){return Ei(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Yt.toMiliseconds(t))}}class NN extends O7{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=rN,this.registerDeviceToken=async i=>{const{clientId:n,token:a,notificationType:f,enableEncrypted:v=!1}=i,b=`${iN}/${this.projectId}/clients`;await V8(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:f,token:a,always_raw:v})})},this.logger=ei(r,this.context)}}var CN=Object.defineProperty,cg=Object.getOwnPropertySymbols,RN=Object.prototype.hasOwnProperty,PN=Object.prototype.propertyIsEnumerable,fg=(e,t,r)=>t in e?CN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lg=(e,t)=>{for(var r in t||(t={}))RN.call(t,r)&&fg(e,r,t[r]);if(cg)for(var r of cg(t))PN.call(t,r)&&fg(e,r,t[r]);return e};class rl extends _7{constructor(t){var r;super(t),this.protocol=Y2,this.version=NS,this.name=el,this.events=new zr.exports.EventEmitter,this.initialized=!1,this.on=(f,v)=>this.events.on(f,v),this.once=(f,v)=>this.events.once(f,v),this.off=(f,v)=>this.events.off(f,v),this.removeListener=(f,v)=>this.events.removeListener(f,v),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||W2,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Qu({level:typeof t?.logger=="string"&&t.logger?t.logger:CS.logger}),{logger:n,chunkLoggerController:a}=K8({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var f,v;(f=this.logChunkController)!=null&&f.downloadLogsBlobInBrowser&&((v=this.logChunkController)==null||v.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ei(n,this.name),this.heartbeat=new ea.HeartBeat,this.crypto=new sN(this,this.logger,t?.keychain),this.history=new IN(this,this.logger),this.expirer=new _N(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new Q8(lg(lg({},RS),t?.storageOptions)),this.relayer=new wN({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new MN(this,this.logger),this.verify=new SN(this.projectId||"",this.logger),this.echoClient=new NN(this.projectId||"",this.logger)}static async init(t){const r=new rl(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(KS,i),r}get context(){return Ei(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const xN=rl,X2="wc",Z2=2,tv="client",il=`${X2}@${Z2}:${tv}:`,jf={name:tv,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},dg="WALLETCONNECT_DEEPLINK_CHOICE",BN="proposal",ev="Proposal expired",TN="session",So=Yt.SEVEN_DAYS,ON="engine",Di={wc_sessionPropose:{req:{ttl:Yt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Yt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Yt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Yt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Yt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Yt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Yt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Yt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Yt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Yt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Yt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Yt.ONE_HOUR,prompt:!1,tag:1117}}},Kf={min:Yt.FIVE_MINUTES,max:Yt.SEVEN_DAYS},ts={idle:"IDLE",active:"ACTIVE"},FN="request",DN=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],kN="wc",UN="auth",qN="authKeys",zN="pairingTopics",LN="requests",Wu=`${kN}@${1.5}:${UN}:`,_u=`${Wu}:PUB_KEY`;var HN=Object.defineProperty,$N=Object.defineProperties,jN=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,QN=Object.prototype.propertyIsEnumerable,gg=(e,t,r)=>t in e?HN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lr=(e,t)=>{for(var r in t||(t={}))KN.call(t,r)&&gg(e,r,t[r]);if(pg)for(var r of pg(t))QN.call(t,r)&&gg(e,r,t[r]);return e},No=(e,t)=>$N(e,jN(t));class GN extends D7{constructor(t){super(t),this.name=ON,this.events=new zr.exports,this.initialized=!1,this.requestQueue={state:ts.idle,queue:[]},this.sessionRequestQueue={state:ts.idle,queue:[]},this.requestQueueDelay=Yt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Di)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Yt.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const i=No(lr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:a,optionalNamespaces:f,sessionProperties:v,relays:b}=i;let A=n,_,S=!1;try{A&&(S=this.client.core.pairing.pairings.get(A).active)}catch(nt){throw this.client.logger.error(`connect() -> pairing.get(${A}) failed`),nt}if(!A||!S){const{topic:nt,uri:et}=await this.client.core.pairing.create();A=nt,_=et}if(!A){const{message:nt}=St("NO_MATCHING_KEY",`connect() pairing topic: ${A}`);throw new Error(nt)}const C=await this.client.core.crypto.generateKeyPair(),P=Di.wc_sessionPropose.req.ttl||Yt.FIVE_MINUTES,O=Pr(P),H=lr({requiredNamespaces:a,optionalNamespaces:f,relays:b??[{protocol:V2}],proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:O},v&&{sessionProperties:v}),{reject:k,resolve:W,done:ht}=Vs(P,ev);this.events.once(le("session_connect"),async({error:nt,session:et})=>{if(nt)k(nt);else if(et){et.self.publicKey=C;const rt=No(lr({},et),{requiredNamespaces:H.requiredNamespaces,optionalNamespaces:H.optionalNamespaces});await this.client.session.set(et.topic,rt),await this.setExpiry(et.topic,et.expiry),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:et.peer.metadata}),W(rt)}});const ut=await this.sendRequest({topic:A,method:"wc_sessionPropose",params:H,throwOnFailedPublish:!0});return await this.setProposal(ut,lr({id:ut},H)),{uri:_,approval:ht}},this.pair=async r=>{await this.isInitialized();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{await this.isInitialized();try{await this.isValidApprove(r)}catch(ht){throw this.client.logger.error("approve() -> isValidApprove() failed"),ht}const{id:i,relayProtocol:n,namespaces:a,sessionProperties:f,sessionConfig:v}=r;let b;try{b=this.client.proposal.get(i)}catch(ht){throw this.client.logger.error(`approve() -> proposal.get(${i}) failed`),ht}let{pairingTopic:A,proposer:_,requiredNamespaces:S,optionalNamespaces:C}=b;A=A||"";const P=await this.client.core.crypto.generateKeyPair(),O=_.publicKey,H=await this.client.core.crypto.generateSharedKey(P,O),k=lr(lr({relay:{protocol:n??"irn"},namespaces:a,pairingTopic:A,controller:{publicKey:P,metadata:this.client.metadata},expiry:Pr(So)},f&&{sessionProperties:f}),v&&{sessionConfig:v});await this.client.core.relayer.subscribe(H);const W=No(lr({},k),{topic:H,requiredNamespaces:S,optionalNamespaces:C,pairingTopic:A,acknowledged:!1,self:k.controller,peer:{publicKey:_.publicKey,metadata:_.metadata},controller:P});await this.client.session.set(H,W);try{await this.sendResult({id:i,topic:A,result:{relay:{protocol:n??"irn"},responderPublicKey:P},throwOnFailedPublish:!0}),await this.sendRequest({topic:H,method:"wc_sessionSettle",params:k,throwOnFailedPublish:!0})}catch(ht){throw this.client.logger.error(ht),this.client.session.delete(H,ze("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(H),ht}return await this.client.core.pairing.updateMetadata({topic:A,metadata:_.metadata}),await this.client.proposal.delete(i,ze("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:A}),await this.setExpiry(H,Pr(So)),{topic:H,acknowledged:()=>new Promise(ht=>setTimeout(()=>ht(this.client.session.get(H)),500))}},this.reject=async r=>{await this.isInitialized();try{await this.isValidReject(r)}catch(f){throw this.client.logger.error("reject() -> isValidReject() failed"),f}const{id:i,reason:n}=r;let a;try{a=this.client.proposal.get(i).pairingTopic}catch(f){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),f}a&&(await this.sendError({id:i,topic:a,error:n}),await this.client.proposal.delete(i,ze("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized();try{await this.isValidUpdate(r)}catch(S){throw this.client.logger.error("update() -> isValidUpdate() failed"),S}const{topic:i,namespaces:n}=r,{done:a,resolve:f,reject:v}=Vs(),b=_o(),A=Bs().toString(),_=this.client.session.get(i).namespaces;return this.events.once(le("session_update",b),({error:S})=>{S?v(S):f()}),await this.client.session.update(i,{namespaces:n}),this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:b,relayRpcId:A}).catch(S=>{this.client.logger.error(S),this.client.session.update(i,{namespaces:_}),v(S)}),{acknowledged:a}},this.extend=async r=>{await this.isInitialized();try{await this.isValidExtend(r)}catch(b){throw this.client.logger.error("extend() -> isValidExtend() failed"),b}const{topic:i}=r,n=_o(),{done:a,resolve:f,reject:v}=Vs();return this.events.once(le("session_extend",n),({error:b})=>{b?v(b):f()}),await this.setExpiry(i,Pr(So)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(b=>{v(b)}),{acknowledged:a}},this.request=async r=>{await this.isInitialized();try{await this.isValidRequest(r)}catch(P){throw this.client.logger.error("request() -> isValidRequest() failed"),P}const{chainId:i,request:n,topic:a,expiry:f=Di.wc_sessionRequest.req.ttl}=r,v=this.client.session.get(a),b=_o(),A=Bs().toString(),{done:_,resolve:S,reject:C}=Vs(f,"Request expired. Please try again.");return this.events.once(le("session_request",b),({error:P,result:O})=>{P?C(P):S(O)}),await Promise.all([new Promise(async P=>{await this.sendRequest({clientRpcId:b,relayRpcId:A,topic:a,method:"wc_sessionRequest",params:{request:No(lr({},n),{expiryTimestamp:Pr(f)}),chainId:i},expiry:f,throwOnFailedPublish:!0}).catch(O=>C(O)),this.client.events.emit("session_request_sent",{topic:a,request:n,chainId:i,id:b}),P()}),new Promise(async P=>{var O;if(!((O=v.sessionConfig)!=null&&O.disableDeepLink)){const H=await t9(this.client.core.storage,dg);Z7({id:b,topic:a,wcDeepLink:H})}P()}),_()]).then(P=>P[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:n}=r,{id:a}=n;rs(n)?await this.sendResult({id:a,topic:i,result:n.result,throwOnFailedPublish:!0}):$i(n)&&await this.sendError({id:a,topic:i,error:n.error}),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized();try{await this.isValidPing(r)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=r;if(this.client.session.keys.includes(i)){const n=_o(),a=Bs().toString(),{done:f,resolve:v,reject:b}=Vs();this.events.once(le("session_ping",n),({error:A})=>{A?b(A):v()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:a}),f()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:i,event:n,chainId:a}=r,f=Bs().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:a},throwOnFailedPublish:!0,relayRpcId:f})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:ze("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=St("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>NI(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async r=>{this.isInitialized(),this.isValidAuthenticate(r);const{chains:i,statement:n="",uri:a,domain:f,nonce:v,type:b,exp:A,nbf:_,methods:S=[]}=r,C=[...r.resources||[]],{topic:P,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:O}});const H=await this.client.core.crypto.generateKeyPair(),k=Mu(H);if(await Promise.all([this.client.auth.authKeys.set(_u,{responseTopic:k,publicKey:H}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:P})]),await this.client.core.relayer.subscribe(k),this.client.logger.info(`sending request to new pairing topic: ${P}`),S.length>0){const{namespace:Z}=If(i[0]);let s=WM(Z,"request",S);Eu(C)&&(s=ZM(s,C.pop())),C.push(s)}const W=Pr(Di.wc_sessionPropose.req.ttl),ht={authPayload:{type:b??"caip122",chains:i,statement:n,aud:a,domain:f,version:"1",nonce:v,iat:new Date().toISOString(),exp:A,nbf:_,resources:C},requester:{publicKey:H,metadata:this.client.metadata},expiryTimestamp:W},ut={eip155:{chains:i,methods:[...new Set(["personal_sign",...S])],events:["chainChanged","accountsChanged"]}},nt={requiredNamespaces:{},optionalNamespaces:ut,relays:[{protocol:"irn"}],proposer:{publicKey:H,metadata:this.client.metadata},expiryTimestamp:W},{done:et,resolve:rt,reject:ft}=Vs(Di.wc_sessionAuthenticate.req.ttl,"Request expired"),tt=async({error:Z,session:s})=>{if(this.events.off(le("session_request",V),Gt),Z)ft(Z);else if(s){s.self.publicKey=H,await this.client.session.set(s.topic,s),await this.setExpiry(s.topic,s.expiry),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:s.peer.metadata});const c=this.client.session.get(s.topic);rt({session:c})}},Gt=async Z=>{if(Z.error){const I=ze("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Z.error.code===I.code?void 0:(this.events.off(le("session_connect"),tt),ft(Z.error.message))}this.events.off(le("session_connect"),tt);const{cacaos:s,responder:c}=Z.result,d=[],g=[];for(const I of s){await Op({cacao:I,projectId:this.client.core.projectId})||(this.client.logger.error(I,"Signature verification failed"),ft(ze("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:y}=I,h=Eu(y.resources),m=[Tp(y.iss)],Y=Uu(y.iss);if(h){const Q=Fp(h),l=Dp(h);d.push(...Q),m.push(...l)}for(const Q of m)g.push(`${Q}:${Y}`)}const w=await this.client.core.crypto.generateSharedKey(H,c.publicKey);let E;d.length>0&&(E={topic:w,acknowledged:!0,self:{publicKey:H,metadata:this.client.metadata},peer:c,controller:c.publicKey,expiry:Pr(So),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:$p([...new Set(d)],[...new Set(g)])},await this.client.core.relayer.subscribe(w),await this.client.session.set(w,E),E=this.client.session.get(w)),rt({auths:s,session:E})},V=_o(),j=_o();this.events.once(le("session_connect"),tt),this.events.once(le("session_request",V),Gt);try{await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:ht,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:V}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:nt,expiry:Di.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:j})])}catch(Z){throw this.events.off(le("session_connect"),tt),this.events.off(le("session_request",V),Gt),Z}return await this.setProposal(j,lr({id:j},nt)),await this.client.auth.requests.set(V,{authPayload:ht.authPayload,requester:ht.requester,expiryTimestamp:W,id:V,pairingTopic:P,verifyContext:{}}),{uri:O,response:et}},this.approveSessionAuthenticate=async r=>{this.isInitialized();const{id:i,auths:n}=r,a=this.getPendingAuthRequest(i);if(!a)throw new Error(`Could not find pending auth request with id ${i}`);const f=a.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),b=Mu(f),A={type:Fs,receiverPublicKey:f,senderPublicKey:v},_=[],S=[];for(const O of n){if(!await Op({cacao:O,projectId:this.client.core.projectId})){const ut=ze("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:b,error:ut,encodeOpts:A}),new Error(ut.message)}const{p:H}=O,k=Eu(H.resources),W=[Tp(H.iss)],ht=Uu(H.iss);if(k){const ut=Fp(k),nt=Dp(k);_.push(...ut),W.push(...nt)}for(const ut of W)S.push(`${ut}:${ht}`)}const C=await this.client.core.crypto.generateSharedKey(v,f);let P;return _?.length>0&&(P={topic:C,acknowledged:!0,self:{publicKey:v,metadata:this.client.metadata},peer:{publicKey:f,metadata:a.requester.metadata},controller:f,expiry:Pr(So),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:"",namespaces:$p([...new Set(_)],[...new Set(S)])},await this.client.core.relayer.subscribe(C),await this.client.session.set(C,P)),await this.sendResult({topic:b,id:i,result:{cacaos:n,responder:{publicKey:v,metadata:this.client.metadata}},encodeOpts:A,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(i,{message:"fullfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),{session:P}},this.rejectSessionAuthenticate=async r=>{await this.isInitialized();const{id:i,reason:n}=r,a=this.getPendingAuthRequest(i);if(!a)throw new Error(`Could not find pending auth request with id ${i}`);const f=a.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),b=Mu(f),A={type:Fs,receiverPublicKey:f,senderPublicKey:v};await this.sendError({id:i,topic:b,error:n,encodeOpts:A}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,ze("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:n}=r;return x2(i,n)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(a=>{var f,v;return((f=a.peerMetadata)==null?void 0:f.url)&&((v=a.peerMetadata)==null?void 0:v.url)===r.peer.metadata.url&&a.topic&&a.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{const{topic:i,expirerHasDeleted:n=!1,emitEvent:a=!0,id:f=0}=r,{self:v}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,ze("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(v.publicKey)&&await this.client.core.crypto.deleteKeyPair(v.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),n||this.client.core.expirer.del(i),this.client.core.storage.removeItem(dg).catch(b=>this.client.logger.warn(b)),this.getPendingSessionRequests().forEach(b=>{b.topic===i&&this.deletePendingSessionRequest(b.id,ze("USER_DISCONNECTED"))}),a&&this.client.events.emit("session_delete",{id:f,topic:i})},this.deleteProposal=async(r,i)=>{await Promise.all([this.client.proposal.delete(r,ze("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==r),n&&(this.sessionRequestQueue.state=ts.idle,this.client.events.emit("session_request_expire",{id:r}))},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:i}),this.client.core.expirer.set(r,i)},this.setProposal=async(r,i)=>{await this.client.proposal.set(r,i),this.client.core.expirer.set(r,Pr(Di.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async r=>{const{id:i,topic:n,params:a,verifyContext:f}=r,v=a.request.expiryTimestamp||Pr(Di.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(i,{id:i,topic:n,params:a,verifyContext:f}),v&&this.client.core.expirer.set(i,v)},this.sendRequest=async r=>{const{topic:i,method:n,params:a,expiry:f,relayRpcId:v,clientRpcId:b,throwOnFailedPublish:A}=r,_=Zs(n,a,b);if(ia()&&DN.includes(n)){const P=Xs(JSON.stringify(_));this.client.core.verify.register({attestationId:P})}let S;try{S=await this.client.core.crypto.encode(i,_)}catch(P){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),P}const C=Di[n].req;return f&&(C.ttl=f),v&&(C.id=v),this.client.core.history.set(i,_),A?(C.internal=No(lr({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,S,C)):this.client.core.relayer.publish(i,S,C).catch(P=>this.client.logger.error(P)),_.id},this.sendResult=async r=>{const{id:i,topic:n,result:a,throwOnFailedPublish:f,encodeOpts:v}=r,b=Gu(i,a);let A;try{A=await this.client.core.crypto.encode(n,b,v)}catch(C){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),C}let _;try{_=await this.client.core.history.get(n,i)}catch(C){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),C}const S=Di[_.request.method].res;f?(S.internal=No(lr({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,A,S)):this.client.core.relayer.publish(n,A,S).catch(C=>this.client.logger.error(C)),await this.client.core.history.resolve(b)},this.sendError=async r=>{const{id:i,topic:n,error:a,encodeOpts:f}=r,v=H0(i,a);let b;try{b=await this.client.core.crypto.encode(n,v,f)}catch(S){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),S}let A;try{A=await this.client.core.history.get(n,i)}catch(S){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),S}const _=Di[A.request.method].res;this.client.core.relayer.publish(n,b,_),await this.client.core.history.resolve(v)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(n=>{let a=!1;_s(n.expiry)&&(a=!0),this.client.core.crypto.keychain.has(n.topic)||(a=!0),a&&r.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{_s(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...r.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===ts.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ts.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(i=>setTimeout(i,300))}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=ts.idle},this.processRequest=r=>{const{topic:i,payload:n}=r,a=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:a}))switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:n}=r,a=(await this.client.core.history.get(i,n.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:n}=St("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:n}=r,a=this.expectedPairingMethodMap.get(i);return!a||a.includes(n)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(r,i)=>{const{params:n,id:a}=i;try{this.isValidConnect(lr({},i.params));const f=n.expiryTimestamp||Pr(Di.wc_sessionPropose.req.ttl),v=lr({id:a,pairingTopic:r,expiryTimestamp:f},n);await this.setProposal(a,v);const b=Xs(JSON.stringify(i)),A=await this.getVerifyContext(b,v.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:v,verifyContext:A})}catch(f){await this.sendError({id:a,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionProposeResponse=async(r,i)=>{const{id:n}=i;if(rs(i)){const{result:a}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const f=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:f});const v=f.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:v});const b=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:b});const A=await this.client.core.crypto.generateSharedKey(v,b);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:A});const _=await this.client.core.relayer.subscribe(A);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:_}),await this.client.core.pairing.activate({topic:r})}else if($i(i)){await this.client.proposal.delete(n,ze("USER_DISCONNECTED"));const a=le("session_connect");if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(le("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:n,params:a}=i;try{this.isValidSessionSettleRequest(a);const{relay:f,controller:v,expiry:b,namespaces:A,sessionProperties:_,pairingTopic:S,sessionConfig:C}=i.params,P=lr(lr({topic:r,relay:f,expiry:b,namespaces:A,acknowledged:!0,pairingTopic:S,requiredNamespaces:{},optionalNamespaces:{},controller:v.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:v.publicKey,metadata:v.metadata}},_&&{sessionProperties:_}),C&&{sessionConfig:C});await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0});const O=le("session_connect");if(this.events.listenerCount(O)===0)throw new Error(`emitting ${O} without any listeners 997`);this.events.emit(le("session_connect"),{session:P}),this.cleanupDuplicatePairings(P)}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionSettleResponse=async(r,i)=>{const{id:n}=i;rs(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(le("session_approve",n),{})):$i(i)&&(await this.client.session.delete(r,ze("USER_DISCONNECTED")),this.events.emit(le("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:n,id:a}=i;try{const f=`${r}_session_update`,v=Oa.get(f);if(v&&this.isRequestOutOfSync(v,a)){this.client.logger.info(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:r,error:ze("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(lr({topic:r},n));try{Oa.set(f,a),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult({id:a,topic:r,result:!0,throwOnFailedPublish:!0})}catch(b){throw Oa.delete(f),b}this.client.events.emit("session_update",{id:a,topic:r,params:n})}catch(f){await this.sendError({id:a,topic:r,error:f}),this.client.logger.error(f)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:n}=i,a=le("session_update",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);rs(i)?this.events.emit(le("session_update",n),{}):$i(i)&&this.events.emit(le("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Pr(So)),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:r})}catch(a){await this.sendError({id:n,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionExtendResponse=(r,i)=>{const{id:n}=i,a=le("session_extend",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);rs(i)?this.events.emit(le("session_extend",n),{}):$i(i)&&this.events.emit(le("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:r})}catch(a){await this.sendError({id:n,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionPingResponse=(r,i)=>{const{id:n}=i,a=le("session_ping",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);setTimeout(()=>{rs(i)?this.events.emit(le("session_ping",n),{}):$i(i)&&this.events.emit(le("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(mi.publish,async()=>{a(await this.deleteSession({topic:r,id:n}))})}),this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:ze("USER_DISCONNECTED")})])}catch(a){this.client.logger.error(a)}},this.onSessionRequest=async(r,i)=>{const{id:n,params:a}=i;try{await this.isValidRequest(lr({topic:r},a));const f=Xs(JSON.stringify(Zs("wc_sessionRequest",a,n))),v=this.client.session.get(r),b=await this.getVerifyContext(f,v.peer.metadata),A={id:n,topic:r,params:a,verifyContext:b};await this.setPendingSessionRequest(A),this.addSessionRequestToSessionRequestQueue(A),this.processSessionRequestQueue()}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionRequestResponse=(r,i)=>{const{id:n}=i,a=le("session_request",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);rs(i)?this.events.emit(le("session_request",n),{result:i.result}):$i(i)&&this.events.emit(le("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:n,params:a}=i;try{const f=`${r}_session_event_${a.event.name}`,v=Oa.get(f);if(v&&this.isRequestOutOfSync(v,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(lr({topic:r},a)),this.client.events.emit("session_event",{id:n,topic:r,params:a}),Oa.set(f,n)}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),rs(i)?this.events.emit(le("session_request",n),{result:i.result}):$i(i)&&this.events.emit(le("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async(r,i)=>{const{requester:n,authPayload:a,expiryTimestamp:f}=i.params,v=Xs(JSON.stringify(i)),b=await this.getVerifyContext(v,this.client.metadata),A={requester:n,pairingTopic:r,id:i.id,authPayload:a,verifyContext:b,expiryTimestamp:f};await this.client.auth.requests.set(i.id,A),this.client.events.emit("session_authenticate",{topic:r,params:i.params,id:i.id})},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ts.idle,this.processSessionRequestQueue()},Yt.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(a=>a.topic===r&&a.request.method==="wc_sessionRequest").forEach(a=>{const f=a.request.id,v=le("session_request",f);if(this.events.listenerCount(v)===0)throw new Error(`emitting ${v} without any listeners`);this.events.emit(le("session_request",a.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===ts.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ts.active,this.client.events.emit("session_request",r)}catch(i){this.client.logger.error(i)}},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===r.topic);i&&this.onSessionProposeRequest(r.topic,Zs("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id))},this.isValidConnect=async r=>{if(!Wr(r)){const{message:b}=St("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(b)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:a,sessionProperties:f,relays:v}=r;if(kr(i)||await this.isValidPairingTopic(i),!qI(v,!0)){const{message:b}=St("MISSING_OR_INVALID",`connect() relays: ${v}`);throw new Error(b)}!kr(n)&&zu(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!kr(a)&&zu(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),kr(f)||this.validateSessionProps(f,"sessionProperties")},this.validateNamespaces=(r,i)=>{const n=UI(r,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async r=>{if(!Wr(r))throw new Error(St("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:n,relayProtocol:a,sessionProperties:f}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const v=this.client.proposal.get(i),b=qf(n,"approve()");if(b)throw new Error(b.message);const A=Qp(v.requiredNamespaces,n,"approve()");if(A)throw new Error(A.message);if(!or(a,!0)){const{message:_}=St("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(_)}kr(f)||this.validateSessionProps(f,"sessionProperties")},this.isValidReject=async r=>{if(!Wr(r)){const{message:a}=St("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(a)}const{id:i,reason:n}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!LI(n)){const{message:a}=St("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidSessionSettleRequest=r=>{if(!Wr(r)){const{message:A}=St("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(A)}const{relay:i,controller:n,namespaces:a,expiry:f}=r;if(!k2(i)){const{message:A}=St("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(A)}const v=BI(n,"onSessionSettleRequest()");if(v)throw new Error(v.message);const b=qf(a,"onSessionSettleRequest()");if(b)throw new Error(b.message);if(_s(f)){const{message:A}=St("EXPIRED","onSessionSettleRequest()");throw new Error(A)}},this.isValidUpdate=async r=>{if(!Wr(r)){const{message:b}=St("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(b)}const{topic:i,namespaces:n}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const a=this.client.session.get(i),f=qf(n,"update()");if(f)throw new Error(f.message);const v=Qp(a.requiredNamespaces,n,"update()");if(v)throw new Error(v.message)},this.isValidExtend=async r=>{if(!Wr(r)){const{message:n}=St("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Wr(r)){const{message:b}=St("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(b)}const{topic:i,request:n,chainId:a,expiry:f}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:v}=this.client.session.get(i);if(!Kp(v,a)){const{message:b}=St("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(b)}if(!HI(n)){const{message:b}=St("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(b)}if(!KI(v,a,n.method)){const{message:b}=St("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(b)}if(f&&!YI(f,Kf)){const{message:b}=St("MISSING_OR_INVALID",`request() expiry: ${f}. Expiry must be a number (in seconds) between ${Kf.min} and ${Kf.max}`);throw new Error(b)}},this.isValidRespond=async r=>{var i;if(!Wr(r)){const{message:f}=St("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(f)}const{topic:n,response:a}=r;try{await this.isValidSessionTopic(n)}catch(f){throw(i=r?.response)!=null&&i.id&&this.cleanupAfterResponse(r),f}if(!$I(a)){const{message:f}=St("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(f)}},this.isValidPing=async r=>{if(!Wr(r)){const{message:n}=St("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Wr(r)){const{message:v}=St("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(v)}const{topic:i,event:n,chainId:a}=r;await this.isValidSessionTopic(i);const{namespaces:f}=this.client.session.get(i);if(!Kp(f,a)){const{message:v}=St("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(v)}if(!jI(n)){const{message:v}=St("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}if(!QI(f,a,n.name)){const{message:v}=St("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}},this.isValidDisconnect=async r=>{if(!Wr(r)){const{message:n}=St("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:n,domain:a,nonce:f}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!or(n,!1))throw new Error("uri is required parameter");if(!or(a,!1))throw new Error("domain is required parameter");if(!or(f,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(b=>If(b).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:v}=If(i[0]);if(v!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(r,i)=>{const n={verified:{verifyUrl:i.verifyUrl||To,validation:"UNKNOWN",origin:i.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:r,verifyUrl:i.verifyUrl});a&&(n.verified.origin=a.origin,n.verified.isScam=a.isScam,n.verified.validation=a.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.info(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(n=>{if(!or(n,!1)){const{message:a}=St("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(a)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const a=this.recentlyDeletedLimit/2;for(const f of this.recentlyDeletedMap.keys()){if(n++>=a)break;this.recentlyDeletedMap.delete(f)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:n}=St("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(n)}}}async isInitialized(){if(!this.initialized){const{message:t}=St("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(mi.message,async t=>{const{topic:r,message:i}=t,{publicKey:n}=this.client.auth.authKeys.keys.includes(_u)?this.client.auth.authKeys.get(_u):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,i,{receiverPublicKey:n});try{L0(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):th(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a})}catch(f){this.client.logger.error(f)}})}registerExpirerEvents(){this.client.core.expirer.on(qi.expired,async t=>{const{topic:r,id:i}=Gm(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,St("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(Bo.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Bo.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!or(t,!1)){const{message:r}=St("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=St("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(_s(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=St("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!or(t,!1)){const{message:r}=St("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=St("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(_s(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=St("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=St("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(or(t,!1)){const{message:r}=St("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=St("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!zI(t)){const{message:r}=St("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=St("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(_s(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=St("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class JN extends ao{constructor(t,r){super(t,r,BN,il),this.core=t,this.logger=r}}class YN extends ao{constructor(t,r){super(t,r,TN,il),this.core=t,this.logger=r}}class VN extends ao{constructor(t,r){super(t,r,FN,il,i=>i.id),this.core=t,this.logger=r}}class WN extends ao{constructor(t,r){super(t,r,qN,Wu,()=>_u),this.core=t,this.logger=r}}class XN extends ao{constructor(t,r){super(t,r,zN,Wu),this.core=t,this.logger=r}}class ZN extends ao{constructor(t,r){super(t,r,LN,Wu,i=>i.id),this.core=t,this.logger=r}}class tC{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new WN(this.core,this.logger),this.pairingTopics=new XN(this.core,this.logger),this.requests=new ZN(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class nl extends F7{constructor(t){super(t),this.protocol=X2,this.version=Z2,this.name=jf.name,this.events=new zr.exports.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async i=>{try{return await this.engine.authenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=t?.name||jf.name,this.metadata=t?.metadata||K7();const r=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:z0(Qu({level:t?.logger||jf.logger}));this.core=t?.core||new xN(t),this.logger=ei(r,this.name),this.session=new YN(this.core,this.logger),this.proposal=new JN(this.core,this.logger),this.pendingRequest=new VN(this.core,this.logger),this.engine=new GN(this),this.auth=new tC(this.core,this.logger)}static async init(t){const r=new nl(t);return await r.initialize(),r}get context(){return Ei(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const eC=":";function rC(e){const[t,r]=e.split(eC);return{namespace:t,reference:r}}function Qf(e=[],t=[]){return[...new Set([...e,...t])]}var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iC(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var iv={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;f?n=rv:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],C=[1,256,65536,16777216],P=[6,1536,393216,100663296],O=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],W=[128,256],ht=["hex","buffer","arrayBuffer","array","digest"],ut={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var nt=function(l,x,R){return function(T){return new m(l,x,l).update(T)[R]()}},et=function(l,x,R){return function(T,$){return new m(l,x,$).update(T)[R]()}},rt=function(l,x,R){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[R]()}},ft=function(l,x,R){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[R]()}},tt=function(l,x,R,T){for(var $=0;$<ht.length;++$){var U=ht[$];l[U]=x(R,T,U)}return l},Gt=function(l,x){var R=nt(l,x,"hex");return R.create=function(){return new m(l,x,l)},R.update=function(T){return R.create().update(T)},tt(R,nt,l,x)},V=function(l,x){var R=et(l,x,"hex");return R.create=function(T){return new m(l,x,T)},R.update=function(T,$){return R.create($).update(T)},tt(R,et,l,x)},j=function(l,x){var R=ut[l],T=rt(l,x,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,x,$).bytepad([U,z],R)},T.update=function($,U,z,J){return T.create(U,z,J).update($)},tt(T,rt,l,x)},Z=function(l,x){var R=ut[l],T=ft(l,x,"hex");return T.create=function($,U,z){return new Y(l,x,U).bytepad(["KMAC",z],R).bytepad([$],R)},T.update=function($,U,z,J){return T.create($,z,J).update(U)},tt(T,ft,l,x)},s=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:P,bits:k,createMethod:Gt},{name:"shake",padding:_,bits:W,createMethod:V},{name:"cshake",padding:S,bits:W,createMethod:j},{name:"kmac",padding:S,bits:W,createMethod:Z}],c={},d=[],g=0;g<s.length;++g)for(var w=s[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,x,R){this.blocks=[],this.s=[],this.padding=x,this.outputBits=R,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=R>>5,this.extraBytes=(R&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,J=0,it=this.s,q,pt;J<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(x)for(q=this.start;J<U&&q<$;++J)T[q>>2]|=l[J]<<O[q++&3];else for(q=this.start;J<U&&q<$;++J)pt=l.charCodeAt(J),pt<128?T[q>>2]|=pt<<O[q++&3]:pt<2048?(T[q>>2]|=(192|pt>>6)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):pt<55296||pt>=57344?(T[q>>2]|=(224|pt>>12)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]):(pt=65536+((pt&1023)<<10|l.charCodeAt(++J)&1023),T[q>>2]|=(240|pt>>18)<<O[q++&3],T[q>>2]|=(128|pt>>12&63)<<O[q++&3],T[q>>2]|=(128|pt>>6&63)<<O[q++&3],T[q>>2]|=(128|pt&63)<<O[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)it[q]^=T[q];Q(it),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,x){var R=l&255,T=1,$=[R];for(l=l>>8,R=l&255;R>0;)$.unshift(R),l=l>>8,R=l&255,++T;return x?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var x,R=typeof l;if(R!=="string"){if(R==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);x=!0}var T=0,$=l.length;if(x)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,x){for(var R=this.encode(x),T=0;T<l.length;++T)R+=this.encodeString(l[T]);var $=x-R%x,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,x=this.lastByteIndex,R=this.blockCount,T=this.s;if(l[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(l[0]=l[R],x=1;x<R+1;++x)l[x]=0;for(l[R-1]|=2147483648,x=0;x<R;++x)T[x]^=l[x];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",J;U<R;){for($=0;$<l&&U<R;++$,++U)J=x[$],z+=A[J>>4&15]+A[J&15]+A[J>>12&15]+A[J>>8&15]+A[J>>20&15]+A[J>>16&15]+A[J>>28&15]+A[J>>24&15];U%l===0&&(Q(x),$=0)}return T&&(J=x[$],z+=A[J>>4&15]+A[J&15],T>1&&(z+=A[J>>12&15]+A[J>>8&15]),T>2&&(z+=A[J>>20&15]+A[J>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,J;T?J=new ArrayBuffer(R+1<<2):J=new ArrayBuffer(z);for(var it=new Uint32Array(J);U<R;){for($=0;$<l&&U<R;++$,++U)it[U]=x[$];U%l===0&&Q(x)}return T&&(it[$]=x[$],J=J.slice(0,z)),J},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,x=this.s,R=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],J,it;U<R;){for($=0;$<l&&U<R;++$,++U)J=U<<2,it=x[$],z[J]=it&255,z[J+1]=it>>8&255,z[J+2]=it>>16&255,z[J+3]=it>>24&255;U%l===0&&Q(x)}return T&&(J=U<<2,it=x[$],z[J]=it&255,T>1&&(z[J+1]=it>>8&255),T>2&&(z[J+2]=it>>16&255)),z};function Y(l,x,R){m.call(this,l,x,R)}Y.prototype=new m,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var x,R,T,$,U,z,J,it,q,pt,Pt,lt,ke,xt,gt,Ae,mt,yt,je,vt,Bt,Ie,dt,wt,Be,At,bt,Te,Et,Mt,Oe,It,Tt,Ke,Ot,Nt,Ue,Ft,Dt,Qe,kt,Ct,Ge,Ut,qt,Fe,zt,_t,Je,Lt,Ht,Ye,$t,jt,Ve,Kt,Rt,Se,Ne,Ce,Re,Pe,xe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],J=l[3]^l[13]^l[23]^l[33]^l[43],it=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],pt=l[6]^l[16]^l[26]^l[36]^l[46],Pt=l[7]^l[17]^l[27]^l[37]^l[47],lt=l[8]^l[18]^l[28]^l[38]^l[48],ke=l[9]^l[19]^l[29]^l[39]^l[49],x=lt^(z<<1|J>>>31),R=ke^(J<<1|z>>>31),l[0]^=x,l[1]^=R,l[10]^=x,l[11]^=R,l[20]^=x,l[21]^=R,l[30]^=x,l[31]^=R,l[40]^=x,l[41]^=R,x=$^(it<<1|q>>>31),R=U^(q<<1|it>>>31),l[2]^=x,l[3]^=R,l[12]^=x,l[13]^=R,l[22]^=x,l[23]^=R,l[32]^=x,l[33]^=R,l[42]^=x,l[43]^=R,x=z^(pt<<1|Pt>>>31),R=J^(Pt<<1|pt>>>31),l[4]^=x,l[5]^=R,l[14]^=x,l[15]^=R,l[24]^=x,l[25]^=R,l[34]^=x,l[35]^=R,l[44]^=x,l[45]^=R,x=it^(lt<<1|ke>>>31),R=q^(ke<<1|lt>>>31),l[6]^=x,l[7]^=R,l[16]^=x,l[17]^=R,l[26]^=x,l[27]^=R,l[36]^=x,l[37]^=R,l[46]^=x,l[47]^=R,x=pt^($<<1|U>>>31),R=Pt^(U<<1|$>>>31),l[8]^=x,l[9]^=R,l[18]^=x,l[19]^=R,l[28]^=x,l[29]^=R,l[38]^=x,l[39]^=R,l[48]^=x,l[49]^=R,xt=l[0],gt=l[1],Fe=l[11]<<4|l[10]>>>28,zt=l[10]<<4|l[11]>>>28,Te=l[20]<<3|l[21]>>>29,Et=l[21]<<3|l[20]>>>29,Ce=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,Ct=l[40]<<18|l[41]>>>14,Ge=l[41]<<18|l[40]>>>14,Ke=l[2]<<1|l[3]>>>31,Ot=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,mt=l[12]<<12|l[13]>>>20,_t=l[22]<<10|l[23]>>>22,Je=l[23]<<10|l[22]>>>22,Mt=l[33]<<13|l[32]>>>19,Oe=l[32]<<13|l[33]>>>19,Pe=l[42]<<2|l[43]>>>30,xe=l[43]<<2|l[42]>>>30,jt=l[5]<<30|l[4]>>>2,Ve=l[4]<<30|l[5]>>>2,Nt=l[14]<<6|l[15]>>>26,Ue=l[15]<<6|l[14]>>>26,yt=l[25]<<11|l[24]>>>21,je=l[24]<<11|l[25]>>>21,Lt=l[34]<<15|l[35]>>>17,Ht=l[35]<<15|l[34]>>>17,It=l[45]<<29|l[44]>>>3,Tt=l[44]<<29|l[45]>>>3,wt=l[6]<<28|l[7]>>>4,Be=l[7]<<28|l[6]>>>4,Kt=l[17]<<23|l[16]>>>9,Rt=l[16]<<23|l[17]>>>9,Ft=l[26]<<25|l[27]>>>7,Dt=l[27]<<25|l[26]>>>7,vt=l[36]<<21|l[37]>>>11,Bt=l[37]<<21|l[36]>>>11,Ye=l[47]<<24|l[46]>>>8,$t=l[46]<<24|l[47]>>>8,Ut=l[8]<<27|l[9]>>>5,qt=l[9]<<27|l[8]>>>5,At=l[18]<<20|l[19]>>>12,bt=l[19]<<20|l[18]>>>12,Se=l[29]<<7|l[28]>>>25,Ne=l[28]<<7|l[29]>>>25,Qe=l[38]<<8|l[39]>>>24,kt=l[39]<<8|l[38]>>>24,Ie=l[48]<<14|l[49]>>>18,dt=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&yt,l[1]=gt^~mt&je,l[10]=wt^~At&Te,l[11]=Be^~bt&Et,l[20]=Ke^~Nt&Ft,l[21]=Ot^~Ue&Dt,l[30]=Ut^~Fe&_t,l[31]=qt^~zt&Je,l[40]=jt^~Kt&Se,l[41]=Ve^~Rt&Ne,l[2]=Ae^~yt&vt,l[3]=mt^~je&Bt,l[12]=At^~Te&Mt,l[13]=bt^~Et&Oe,l[22]=Nt^~Ft&Qe,l[23]=Ue^~Dt&kt,l[32]=Fe^~_t&Lt,l[33]=zt^~Je&Ht,l[42]=Kt^~Se&Ce,l[43]=Rt^~Ne&Re,l[4]=yt^~vt&Ie,l[5]=je^~Bt&dt,l[14]=Te^~Mt&It,l[15]=Et^~Oe&Tt,l[24]=Ft^~Qe&Ct,l[25]=Dt^~kt&Ge,l[34]=_t^~Lt&Ye,l[35]=Je^~Ht&$t,l[44]=Se^~Ce&Pe,l[45]=Ne^~Re&xe,l[6]=vt^~Ie&xt,l[7]=Bt^~dt&gt,l[16]=Mt^~It&wt,l[17]=Oe^~Tt&Be,l[26]=Qe^~Ct&Ke,l[27]=kt^~Ge&Ot,l[36]=Lt^~Ye&Ut,l[37]=Ht^~$t&qt,l[46]=Ce^~Pe&jt,l[47]=Re^~xe&Ve,l[8]=Ie^~xt&Ae,l[9]=dt^~gt&mt,l[18]=It^~wt&At,l[19]=Tt^~Be&bt,l[28]=Ct^~Ke&Nt,l[29]=Ge^~Ot&Ue,l[38]=Ye^~Ut&Fe,l[39]=$t^~qt&zt,l[48]=Pe^~jt&Kt,l[49]=xe^~Ve&Rt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(iv);iv.exports;const nC="logger/5.7.0";let mg=!1,vg=!1;const Su={debug:1,default:2,info:2,warning:3,error:4,off:5};let yg=Su.default,Gf=null;function sC(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const wg=sC();var P0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(P0||(P0={}));var sn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(sn||(sn={}));const Ag="0123456789abcdef";class he{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Su[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(yg>Su[i])&&console.log.apply(console,r)}debug(...t){this._log(he.levels.DEBUG,t)}info(...t){this._log(he.levels.INFO,t)}warn(...t){this._log(he.levels.WARNING,t)}makeError(t,r,i){if(vg)return this.makeError("censored error",r,{});r||(r=he.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let _="";for(let S=0;S<A.length;S++)_+=Ag[A[S]>>4],_+=Ag[A[S]&15];n.push(b+"=Uint8Array(0x"+_+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case sn.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case sn.CALL_EXCEPTION:case sn.INSUFFICIENT_FUNDS:case sn.MISSING_NEW:case sn.NONCE_EXPIRED:case sn.REPLACEMENT_UNDERPRICED:case sn.TRANSACTION_REPLACED:case sn.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,he.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){wg&&this.throwError("platform missing String.prototype.normalize",he.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wg})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,he.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,he.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,he.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,he.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",he.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",he.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",he.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Gf||(Gf=new he(nC)),Gf}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",he.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),mg){if(!t)return;this.globalLogger().throwError("error censorship permanent",he.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vg=!!t,mg=!!r}static setLogLevel(t){const r=Su[t.toLowerCase()];if(r==null){he.globalLogger().warn("invalid log level - "+t);return}yg=r}static from(t){return new he(t)}}he.errors=sn,he.levels=P0;const oC="bytes/5.7.0",Os=new he(oC);function nv(e){return!!e.toHexString}function Nu(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Nu(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function bg(e){return typeof e=="number"&&e==e&&e%1===0}function uh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!bg(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!bg(r)||r<0||r>=256)return!1}return!0}function sv(e,t){if(t||(t={}),typeof e=="number"){Os.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Nu(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),nv(e)&&(e=e.toHexString()),Yo(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Os.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return Nu(new Uint8Array(i))}return uh(e)?Nu(new Uint8Array(e)):Os.throwArgumentError("invalid arrayify value","value",e)}function Yo(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Jf="0123456789abcdef";function ov(e,t){if(t||(t={}),typeof e=="number"){Os.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Jf[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),nv(e))return e.toHexString();if(Yo(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Os.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(uh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=Jf[(n&240)>>4]+Jf[n&15]}return r}return Os.throwArgumentError("invalid hexlify value","value",e)}function Hu(e,t){for(typeof e!="string"?e=ov(e):Yo(e)||Os.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Os.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var av={exports:{}},aC={},hC=Object.freeze({__proto__:null,default:aC}),uC=iC(hC);(function(e){(function(t,r){function i(s,c){if(!s)throw new Error(c||"Assertion failed")}function n(s,c){s.super_=c;var d=function(){};d.prototype=c.prototype,s.prototype=new d,s.prototype.constructor=s}function a(s,c,d){if(a.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(s||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=uC.Buffer}catch{}a.isBN=function(s){return s instanceof a?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===a.wordSize&&Array.isArray(s.words)},a.max=function(s,c){return s.cmp(c)>0?s:c},a.min=function(s,c){return s.cmp(c)<0?s:c},a.prototype._init=function(s,c,d){if(typeof s=="number")return this._initNumber(s,c,d);if(typeof s=="object")return this._initArray(s,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\s+/g,"");var g=0;s[0]==="-"&&(g++,this.negative=1),g<s.length&&(c===16?this._parseHex(s,g,d):(this._parseBase(s,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(s,c,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(s,c,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=s.length-1,w=0;g>=0;g-=3)E=s[g]|s[g-1]<<8|s[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<s.length;g+=3)E=s[g]|s[g+1]<<8|s[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(s,c){var d=s.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function b(s,c,d){var g=v(s,d);return d-1>=c&&(g|=v(s,d-1)<<4),g}a.prototype._parseHex=function(s,c,d){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=s.length-1;g>=c;g-=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=s.length-c;for(g=y%2===0?c+1:c;g<s.length;g+=2)I=b(s,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(s,c,d,g){for(var w=0,E=0,I=Math.min(s.length,d),y=c;y<I;y++){var h=s.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(s,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=s.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(s,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var Y=1;for(h=A(s,m,s.length,c),m=0;m<I;m++)Y*=c;this.imuln(Y),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,c){s.words=c.words,s.length=c.length,s.negative=c.negative,s.red=c.red}if(a.prototype._move=function(s){_(s,this)},a.prototype.clone=function(){var s=new a(null);return this.copy(s),s},a.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{a.prototype.inspect=S}else a.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(s,c){s=s||10,c=c|0||1;var d;if(s===16||s==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var h=P[s],m=O[s];d="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modrn(m).toString(s);Y=Y.idivn(m),Y.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(s,c){return this.toArrayLike(f,s,c)}),a.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var H=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};a.prototype.toArrayLike=function(s,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(s,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(s,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d++]=I&255,d<s.length&&(s[d++]=I>>8&255),d<s.length&&(s[d++]=I>>16&255),E===6?(d<s.length&&(s[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<s.length)for(s[d++]=g;d<s.length;)s[d++]=0},a.prototype._toArrayLikeBE=function(s,c){for(var d=s.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;s[d--]=I&255,d>=0&&(s[d--]=I>>8&255),d>=0&&(s[d--]=I>>16&255),E===6?(d>=0&&(s[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(s[d--]=g;d>=0;)s[d--]=0},Math.clz32?a.prototype._countBits=function(s){return 32-Math.clz32(s)}:a.prototype._countBits=function(s){var c=s,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function k(s){for(var c=new Array(s.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=s.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(s+=d,d!==26)break}return s},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},a.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},a.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},a.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},a.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},a.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},a.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},a.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},a.prototype.iuxor=function(s){var c,d;this.length>s.length?(c=this,d=s):(c=s,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},a.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},a.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},a.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,d=s%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(s){return this.clone().inotn(s)},a.prototype.setn=function(s,c){i(typeof s=="number"&&s>=0);var d=s/26|0,g=s%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var d,g;this.length>s.length?(d=this,g=s):(d=s,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},a.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=s):(g=s,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(s){return this.clone().isub(s)};function W(s,c,d){d.negative=c.negative^s.negative;var g=s.length+c.length|0;d.length=g,g=g-1|0;var w=s.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var Y=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),x=Math.max(0,m-s.length+1);x<=l;x++){var R=m-x|0;w=s.words[R]|0,E=c.words[x]|0,I=w*E+Q,Y+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=Y|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ht=function(s,c,d){var g=s.words,w=c.words,E=d.words,I=0,y,h,m,Y=g[0]|0,Q=Y&8191,l=Y>>>13,x=g[1]|0,R=x&8191,T=x>>>13,$=g[2]|0,U=$&8191,z=$>>>13,J=g[3]|0,it=J&8191,q=J>>>13,pt=g[4]|0,Pt=pt&8191,lt=pt>>>13,ke=g[5]|0,xt=ke&8191,gt=ke>>>13,Ae=g[6]|0,mt=Ae&8191,yt=Ae>>>13,je=g[7]|0,vt=je&8191,Bt=je>>>13,Ie=g[8]|0,dt=Ie&8191,wt=Ie>>>13,Be=g[9]|0,At=Be&8191,bt=Be>>>13,Te=w[0]|0,Et=Te&8191,Mt=Te>>>13,Oe=w[1]|0,It=Oe&8191,Tt=Oe>>>13,Ke=w[2]|0,Ot=Ke&8191,Nt=Ke>>>13,Ue=w[3]|0,Ft=Ue&8191,Dt=Ue>>>13,Qe=w[4]|0,kt=Qe&8191,Ct=Qe>>>13,Ge=w[5]|0,Ut=Ge&8191,qt=Ge>>>13,Fe=w[6]|0,zt=Fe&8191,_t=Fe>>>13,Je=w[7]|0,Lt=Je&8191,Ht=Je>>>13,Ye=w[8]|0,$t=Ye&8191,jt=Ye>>>13,Ve=w[9]|0,Kt=Ve&8191,Rt=Ve>>>13;d.negative=s.negative^c.negative,d.length=19,y=Math.imul(Q,Et),h=Math.imul(Q,Mt),h=h+Math.imul(l,Et)|0,m=Math.imul(l,Mt);var Se=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,y=Math.imul(R,Et),h=Math.imul(R,Mt),h=h+Math.imul(T,Et)|0,m=Math.imul(T,Mt),y=y+Math.imul(Q,It)|0,h=h+Math.imul(Q,Tt)|0,h=h+Math.imul(l,It)|0,m=m+Math.imul(l,Tt)|0;var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(U,Et),h=Math.imul(U,Mt),h=h+Math.imul(z,Et)|0,m=Math.imul(z,Mt),y=y+Math.imul(R,It)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(T,It)|0,m=m+Math.imul(T,Tt)|0,y=y+Math.imul(Q,Ot)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,Ot)|0,m=m+Math.imul(l,Nt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(it,Et),h=Math.imul(it,Mt),h=h+Math.imul(q,Et)|0,m=Math.imul(q,Mt),y=y+Math.imul(U,It)|0,h=h+Math.imul(U,Tt)|0,h=h+Math.imul(z,It)|0,m=m+Math.imul(z,Tt)|0,y=y+Math.imul(R,Ot)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(T,Ot)|0,m=m+Math.imul(T,Nt)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,Dt)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,Dt)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Pt,Et),h=Math.imul(Pt,Mt),h=h+Math.imul(lt,Et)|0,m=Math.imul(lt,Mt),y=y+Math.imul(it,It)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(q,It)|0,m=m+Math.imul(q,Tt)|0,y=y+Math.imul(U,Ot)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,Ot)|0,m=m+Math.imul(z,Nt)|0,y=y+Math.imul(R,Ft)|0,h=h+Math.imul(R,Dt)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,Dt)|0,y=y+Math.imul(Q,kt)|0,h=h+Math.imul(Q,Ct)|0,h=h+Math.imul(l,kt)|0,m=m+Math.imul(l,Ct)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(xt,Et),h=Math.imul(xt,Mt),h=h+Math.imul(gt,Et)|0,m=Math.imul(gt,Mt),y=y+Math.imul(Pt,It)|0,h=h+Math.imul(Pt,Tt)|0,h=h+Math.imul(lt,It)|0,m=m+Math.imul(lt,Tt)|0,y=y+Math.imul(it,Ot)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(q,Ot)|0,m=m+Math.imul(q,Nt)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,Dt)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,Dt)|0,y=y+Math.imul(R,kt)|0,h=h+Math.imul(R,Ct)|0,h=h+Math.imul(T,kt)|0,m=m+Math.imul(T,Ct)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,qt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,qt)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(mt,Et),h=Math.imul(mt,Mt),h=h+Math.imul(yt,Et)|0,m=Math.imul(yt,Mt),y=y+Math.imul(xt,It)|0,h=h+Math.imul(xt,Tt)|0,h=h+Math.imul(gt,It)|0,m=m+Math.imul(gt,Tt)|0,y=y+Math.imul(Pt,Ot)|0,h=h+Math.imul(Pt,Nt)|0,h=h+Math.imul(lt,Ot)|0,m=m+Math.imul(lt,Nt)|0,y=y+Math.imul(it,Ft)|0,h=h+Math.imul(it,Dt)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,Dt)|0,y=y+Math.imul(U,kt)|0,h=h+Math.imul(U,Ct)|0,h=h+Math.imul(z,kt)|0,m=m+Math.imul(z,Ct)|0,y=y+Math.imul(R,Ut)|0,h=h+Math.imul(R,qt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,qt)|0,y=y+Math.imul(Q,zt)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,zt)|0,m=m+Math.imul(l,_t)|0;var Mr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(vt,Et),h=Math.imul(vt,Mt),h=h+Math.imul(Bt,Et)|0,m=Math.imul(Bt,Mt),y=y+Math.imul(mt,It)|0,h=h+Math.imul(mt,Tt)|0,h=h+Math.imul(yt,It)|0,m=m+Math.imul(yt,Tt)|0,y=y+Math.imul(xt,Ot)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(gt,Ot)|0,m=m+Math.imul(gt,Nt)|0,y=y+Math.imul(Pt,Ft)|0,h=h+Math.imul(Pt,Dt)|0,h=h+Math.imul(lt,Ft)|0,m=m+Math.imul(lt,Dt)|0,y=y+Math.imul(it,kt)|0,h=h+Math.imul(it,Ct)|0,h=h+Math.imul(q,kt)|0,m=m+Math.imul(q,Ct)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,qt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,qt)|0,y=y+Math.imul(R,zt)|0,h=h+Math.imul(R,_t)|0,h=h+Math.imul(T,zt)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var ri=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ri>>>26)|0,ri&=67108863,y=Math.imul(dt,Et),h=Math.imul(dt,Mt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Mt),y=y+Math.imul(vt,It)|0,h=h+Math.imul(vt,Tt)|0,h=h+Math.imul(Bt,It)|0,m=m+Math.imul(Bt,Tt)|0,y=y+Math.imul(mt,Ot)|0,h=h+Math.imul(mt,Nt)|0,h=h+Math.imul(yt,Ot)|0,m=m+Math.imul(yt,Nt)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,Dt)|0,h=h+Math.imul(gt,Ft)|0,m=m+Math.imul(gt,Dt)|0,y=y+Math.imul(Pt,kt)|0,h=h+Math.imul(Pt,Ct)|0,h=h+Math.imul(lt,kt)|0,m=m+Math.imul(lt,Ct)|0,y=y+Math.imul(it,Ut)|0,h=h+Math.imul(it,qt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,qt)|0,y=y+Math.imul(U,zt)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,zt)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(R,Lt)|0,h=h+Math.imul(R,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,jt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,jt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(At,Et),h=Math.imul(At,Mt),h=h+Math.imul(bt,Et)|0,m=Math.imul(bt,Mt),y=y+Math.imul(dt,It)|0,h=h+Math.imul(dt,Tt)|0,h=h+Math.imul(wt,It)|0,m=m+Math.imul(wt,Tt)|0,y=y+Math.imul(vt,Ot)|0,h=h+Math.imul(vt,Nt)|0,h=h+Math.imul(Bt,Ot)|0,m=m+Math.imul(Bt,Nt)|0,y=y+Math.imul(mt,Ft)|0,h=h+Math.imul(mt,Dt)|0,h=h+Math.imul(yt,Ft)|0,m=m+Math.imul(yt,Dt)|0,y=y+Math.imul(xt,kt)|0,h=h+Math.imul(xt,Ct)|0,h=h+Math.imul(gt,kt)|0,m=m+Math.imul(gt,Ct)|0,y=y+Math.imul(Pt,Ut)|0,h=h+Math.imul(Pt,qt)|0,h=h+Math.imul(lt,Ut)|0,m=m+Math.imul(lt,qt)|0,y=y+Math.imul(it,zt)|0,h=h+Math.imul(it,_t)|0,h=h+Math.imul(q,zt)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(R,$t)|0,h=h+Math.imul(R,jt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,jt)|0,y=y+Math.imul(Q,Kt)|0,h=h+Math.imul(Q,Rt)|0,h=h+Math.imul(l,Kt)|0,m=m+Math.imul(l,Rt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(At,It),h=Math.imul(At,Tt),h=h+Math.imul(bt,It)|0,m=Math.imul(bt,Tt),y=y+Math.imul(dt,Ot)|0,h=h+Math.imul(dt,Nt)|0,h=h+Math.imul(wt,Ot)|0,m=m+Math.imul(wt,Nt)|0,y=y+Math.imul(vt,Ft)|0,h=h+Math.imul(vt,Dt)|0,h=h+Math.imul(Bt,Ft)|0,m=m+Math.imul(Bt,Dt)|0,y=y+Math.imul(mt,kt)|0,h=h+Math.imul(mt,Ct)|0,h=h+Math.imul(yt,kt)|0,m=m+Math.imul(yt,Ct)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,qt)|0,h=h+Math.imul(gt,Ut)|0,m=m+Math.imul(gt,qt)|0,y=y+Math.imul(Pt,zt)|0,h=h+Math.imul(Pt,_t)|0,h=h+Math.imul(lt,zt)|0,m=m+Math.imul(lt,_t)|0,y=y+Math.imul(it,Lt)|0,h=h+Math.imul(it,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,jt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,jt)|0,y=y+Math.imul(R,Kt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(T,Kt)|0,m=m+Math.imul(T,Rt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(At,Ot),h=Math.imul(At,Nt),h=h+Math.imul(bt,Ot)|0,m=Math.imul(bt,Nt),y=y+Math.imul(dt,Ft)|0,h=h+Math.imul(dt,Dt)|0,h=h+Math.imul(wt,Ft)|0,m=m+Math.imul(wt,Dt)|0,y=y+Math.imul(vt,kt)|0,h=h+Math.imul(vt,Ct)|0,h=h+Math.imul(Bt,kt)|0,m=m+Math.imul(Bt,Ct)|0,y=y+Math.imul(mt,Ut)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(yt,Ut)|0,m=m+Math.imul(yt,qt)|0,y=y+Math.imul(xt,zt)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(gt,zt)|0,m=m+Math.imul(gt,_t)|0,y=y+Math.imul(Pt,Lt)|0,h=h+Math.imul(Pt,Ht)|0,h=h+Math.imul(lt,Lt)|0,m=m+Math.imul(lt,Ht)|0,y=y+Math.imul(it,$t)|0,h=h+Math.imul(it,jt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,jt)|0,y=y+Math.imul(U,Kt)|0,h=h+Math.imul(U,Rt)|0,h=h+Math.imul(z,Kt)|0,m=m+Math.imul(z,Rt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(At,Ft),h=Math.imul(At,Dt),h=h+Math.imul(bt,Ft)|0,m=Math.imul(bt,Dt),y=y+Math.imul(dt,kt)|0,h=h+Math.imul(dt,Ct)|0,h=h+Math.imul(wt,kt)|0,m=m+Math.imul(wt,Ct)|0,y=y+Math.imul(vt,Ut)|0,h=h+Math.imul(vt,qt)|0,h=h+Math.imul(Bt,Ut)|0,m=m+Math.imul(Bt,qt)|0,y=y+Math.imul(mt,zt)|0,h=h+Math.imul(mt,_t)|0,h=h+Math.imul(yt,zt)|0,m=m+Math.imul(yt,_t)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(gt,Lt)|0,m=m+Math.imul(gt,Ht)|0,y=y+Math.imul(Pt,$t)|0,h=h+Math.imul(Pt,jt)|0,h=h+Math.imul(lt,$t)|0,m=m+Math.imul(lt,jt)|0,y=y+Math.imul(it,Kt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(q,Kt)|0,m=m+Math.imul(q,Rt)|0;var Lr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(At,kt),h=Math.imul(At,Ct),h=h+Math.imul(bt,kt)|0,m=Math.imul(bt,Ct),y=y+Math.imul(dt,Ut)|0,h=h+Math.imul(dt,qt)|0,h=h+Math.imul(wt,Ut)|0,m=m+Math.imul(wt,qt)|0,y=y+Math.imul(vt,zt)|0,h=h+Math.imul(vt,_t)|0,h=h+Math.imul(Bt,zt)|0,m=m+Math.imul(Bt,_t)|0,y=y+Math.imul(mt,Lt)|0,h=h+Math.imul(mt,Ht)|0,h=h+Math.imul(yt,Lt)|0,m=m+Math.imul(yt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,jt)|0,h=h+Math.imul(gt,$t)|0,m=m+Math.imul(gt,jt)|0,y=y+Math.imul(Pt,Kt)|0,h=h+Math.imul(Pt,Rt)|0,h=h+Math.imul(lt,Kt)|0,m=m+Math.imul(lt,Rt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(At,Ut),h=Math.imul(At,qt),h=h+Math.imul(bt,Ut)|0,m=Math.imul(bt,qt),y=y+Math.imul(dt,zt)|0,h=h+Math.imul(dt,_t)|0,h=h+Math.imul(wt,zt)|0,m=m+Math.imul(wt,_t)|0,y=y+Math.imul(vt,Lt)|0,h=h+Math.imul(vt,Ht)|0,h=h+Math.imul(Bt,Lt)|0,m=m+Math.imul(Bt,Ht)|0,y=y+Math.imul(mt,$t)|0,h=h+Math.imul(mt,jt)|0,h=h+Math.imul(yt,$t)|0,m=m+Math.imul(yt,jt)|0,y=y+Math.imul(xt,Kt)|0,h=h+Math.imul(xt,Rt)|0,h=h+Math.imul(gt,Kt)|0,m=m+Math.imul(gt,Rt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(At,zt),h=Math.imul(At,_t),h=h+Math.imul(bt,zt)|0,m=Math.imul(bt,_t),y=y+Math.imul(dt,Lt)|0,h=h+Math.imul(dt,Ht)|0,h=h+Math.imul(wt,Lt)|0,m=m+Math.imul(wt,Ht)|0,y=y+Math.imul(vt,$t)|0,h=h+Math.imul(vt,jt)|0,h=h+Math.imul(Bt,$t)|0,m=m+Math.imul(Bt,jt)|0,y=y+Math.imul(mt,Kt)|0,h=h+Math.imul(mt,Rt)|0,h=h+Math.imul(yt,Kt)|0,m=m+Math.imul(yt,Rt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(At,Lt),h=Math.imul(At,Ht),h=h+Math.imul(bt,Lt)|0,m=Math.imul(bt,Ht),y=y+Math.imul(dt,$t)|0,h=h+Math.imul(dt,jt)|0,h=h+Math.imul(wt,$t)|0,m=m+Math.imul(wt,jt)|0,y=y+Math.imul(vt,Kt)|0,h=h+Math.imul(vt,Rt)|0,h=h+Math.imul(Bt,Kt)|0,m=m+Math.imul(Bt,Rt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(At,$t),h=Math.imul(At,jt),h=h+Math.imul(bt,$t)|0,m=Math.imul(bt,jt),y=y+Math.imul(dt,Kt)|0,h=h+Math.imul(dt,Rt)|0,h=h+Math.imul(wt,Kt)|0,m=m+Math.imul(wt,Rt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(At,Kt),h=Math.imul(At,Rt),h=h+Math.imul(bt,Kt)|0,m=Math.imul(bt,Rt);var ui=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,E[0]=Se,E[1]=Ne,E[2]=Ce,E[3]=Re,E[4]=Pe,E[5]=xe,E[6]=Mr,E[7]=ri,E[8]=Ir,E[9]=ii,E[10]=ni,E[11]=si,E[12]=Lr,E[13]=Hr,E[14]=$r,E[15]=oi,E[16]=ai,E[17]=hi,E[18]=ui,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ht=W);function ut(s,c,d){d.negative=c.negative^s.negative,d.length=s.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-s.length+1);m<=h;m++){var Y=E-m,Q=s.words[Y]|0,l=c.words[m]|0,x=Q*l,R=x&67108863;I=I+(x/67108864|0)|0,R=R+y|0,y=R&67108863,I=I+(R>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function nt(s,c,d){return ut(s,c,d)}a.prototype.mulTo=function(s,c){var d,g=this.length+s.length;return this.length===10&&s.length===10?d=ht(this,s,c):g<63?d=W(this,s,c):g<1024?d=ut(this,s,c):d=nt(this,s,c),d},a.prototype.mul=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},a.prototype.mulf=function(s){var c=new a(null);return c.words=new Array(this.length+s.length),nt(this,s,c)},a.prototype.imul=function(s){return this.clone().mulTo(s,this)},a.prototype.imuln=function(s){var c=s<0;c&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*s,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(s){return this.clone().imuln(s)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(s){var c=k(s);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},a.prototype.iushrn=function(s,c,d){i(typeof s=="number"&&s>=0);var g;c?g=(c-c%26)/26:g=0;var w=s%26,E=Math.min((s-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var Y=this.words[h]|0;this.words[h]=m<<26-w|Y>>>w,m=Y&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(s,c,d){return i(this.negative===0),this.iushrn(s,c,d)},a.prototype.shln=function(s){return this.clone().ishln(s)},a.prototype.ushln=function(s){return this.clone().iushln(s)},a.prototype.shrn=function(s){return this.clone().ishrn(s)},a.prototype.ushrn=function(s){return this.clone().iushrn(s)},a.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var c=s%26,d=(s-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(s){return this.clone().imaskn(s)},a.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},a.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(s){return this.clone().iaddn(s)},a.prototype.subn=function(s){return this.clone().isubn(s)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(s,c,d){var g=s.length+d,w;this._expand(g);var E,I=0;for(w=0;w<s.length;w++){E=(this.words[w+d]|0)+I;var y=(s.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(s,c){var d=this.length-s.length,g=this.clone(),w=s,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var Y=g.clone()._ishlnsubmul(w,1,y);Y.negative===0&&(g=Y,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(s,c,d){if(i(!s.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&s.negative===0?(E=this.neg().divmod(s,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(s)),{div:g,mod:w}):this.negative===0&&s.negative!==0?(E=this.divmod(s.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&s.negative?(E=this.neg().divmod(s.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(s)),{div:E.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new a(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new a(this.modrn(s.words[0]))}:this._wordDiv(s,c)},a.prototype.div=function(s){return this.divmod(s,"div",!1).div},a.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},a.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},a.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(s):c.mod,g=s.ushrn(1),w=s.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%s;return c?-g:g},a.prototype.modn=function(s){return this.modrn(s)},a.prototype.idivn=function(s){var c=s<0;c&&(s=-s),i(s<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/s|0,d=w%s}return this._strip(),c?this.ineg():this},a.prototype.divn=function(s){return this.clone().idivn(s)},a.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var Y=0,Q=1;!(c.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(c.iushrn(Y);Y-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,x=1;!(d.words[0]&x)&&l<26;++l,x<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var c=this,d=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var Y;return c.cmpn(1)===0?Y=g:Y=w,Y.cmpn(0)<0&&Y.iadd(s),Y},a.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),d=s.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(s){return this.egcd(s).a.umod(s)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(s){return this.words[0]&s},a.prototype.bincn=function(s){i(typeof s=="number");var c=s%26,d=(s-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(s=-s),i(s<=67108863,"Number is too big");var g=this.words[0]|0;d=g===s?0:g<s?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=s.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(s){return this.cmpn(s)===1},a.prototype.gt=function(s){return this.cmp(s)===1},a.prototype.gten=function(s){return this.cmpn(s)>=0},a.prototype.gte=function(s){return this.cmp(s)>=0},a.prototype.ltn=function(s){return this.cmpn(s)===-1},a.prototype.lt=function(s){return this.cmp(s)===-1},a.prototype.lten=function(s){return this.cmpn(s)<=0},a.prototype.lte=function(s){return this.cmp(s)<=0},a.prototype.eqn=function(s){return this.cmpn(s)===0},a.prototype.eq=function(s){return this.cmp(s)===0},a.red=function(s){return new j(s)},a.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(s){return this.red=s,this},a.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},a.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},a.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},a.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},a.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},a.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},a.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},a.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var et={k256:null,p224:null,p192:null,p25519:null};function rt(s,c){this.name=s,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}rt.prototype._tmp=function(){var s=new a(null);return s.words=new Array(Math.ceil(this.n/13)),s},rt.prototype.ireduce=function(s){var c=s,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},rt.prototype.split=function(s,c){s.iushrn(this.n,0,c)},rt.prototype.imulK=function(s){return s.imul(this.k)};function ft(){rt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ft,rt),ft.prototype.split=function(s,c){for(var d=4194303,g=Math.min(s.length,9),w=0;w<g;w++)c.words[w]=s.words[w];if(c.length=g,s.length<=9){s.words[0]=0,s.length=1;return}var E=s.words[9];for(c.words[c.length++]=E&d,w=10;w<s.length;w++){var I=s.words[w]|0;s.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,s.words[w-10]=E,E===0&&s.length>10?s.length-=10:s.length-=9},ft.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,d=0;d<s.length;d++){var g=s.words[d]|0;c+=g*977,s.words[d]=c&67108863,c=g*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function tt(){rt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(tt,rt);function Gt(){rt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,rt);function V(){rt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,rt),V.prototype.imulK=function(s){for(var c=0,d=0;d<s.length;d++){var g=(s.words[d]|0)*19+c,w=g&67108863;g>>>=26,s.words[d]=w,c=g}return c!==0&&(s.words[s.length++]=c),s},a._prime=function(s){if(et[s])return et[s];var c;if(s==="k256")c=new ft;else if(s==="p224")c=new tt;else if(s==="p192")c=new Gt;else if(s==="p25519")c=new V;else throw new Error("Unknown prime "+s);return et[s]=c,c};function j(s){if(typeof s=="string"){var c=a._prime(s);this.m=c.p,this.prime=c}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}j.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,c){i((s.negative|c.negative)===0,"red works only with positives"),i(s.red&&s.red===c.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,c){this._verify2(s,c);var d=s.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},j.prototype.iadd=function(s,c){this._verify2(s,c);var d=s.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},j.prototype.sub=function(s,c){this._verify2(s,c);var d=s.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},j.prototype.isub=function(s,c){this._verify2(s,c);var d=s.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},j.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},j.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},j.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(s,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),Y=this.pow(s,g.addn(1).iushrn(1)),Q=this.pow(s,g),l=w;Q.cmp(E)!==0;){for(var x=Q,R=0;x.cmp(E)!==0;R++)x=x.redSqr();i(R<l);var T=this.pow(m,new a(1).iushln(l-R-1));Y=Y.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=R}return Y},j.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},j.prototype.pow=function(s,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=s;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],s);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],Y=h-1;Y>=0;Y--){var Q=m>>Y&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||Y!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},j.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},j.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},a.mont=function(s){return new Z(s)};function Z(s){j.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},Z.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new a(0)._forceRed(this);var d=s.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,rv)})(av);var ne=av.exports;const hv="bignumber/5.7.0";var x0=ne.BN;const ss=new he(hv),Yf={},Eg=9007199254740991;function cC(e){return e!=null&&($e.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Yo(e)||typeof e=="bigint"||uh(e))}let Mg=!1;class $e{constructor(t,r){t!==Yf&&ss.throwError("cannot call constructor directly; use BigNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Vr(me(this).fromTwos(t))}toTwos(t){return Vr(me(this).toTwos(t))}abs(){return this._hex[0]==="-"?$e.from(this._hex.substring(1)):this}add(t){return Vr(me(this).add(me(t)))}sub(t){return Vr(me(this).sub(me(t)))}div(t){return $e.from(t).isZero()&&ki("division-by-zero","div"),Vr(me(this).div(me(t)))}mul(t){return Vr(me(this).mul(me(t)))}mod(t){const r=me(t);return r.isNeg()&&ki("division-by-zero","mod"),Vr(me(this).umod(r))}pow(t){const r=me(t);return r.isNeg()&&ki("negative-power","pow"),Vr(me(this).pow(r))}and(t){const r=me(t);return(this.isNegative()||r.isNeg())&&ki("unbound-bitwise-result","and"),Vr(me(this).and(r))}or(t){const r=me(t);return(this.isNegative()||r.isNeg())&&ki("unbound-bitwise-result","or"),Vr(me(this).or(r))}xor(t){const r=me(t);return(this.isNegative()||r.isNeg())&&ki("unbound-bitwise-result","xor"),Vr(me(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&ki("negative-width","mask"),Vr(me(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&ki("negative-width","shl"),Vr(me(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&ki("negative-width","shr"),Vr(me(this).shrn(t))}eq(t){return me(this).eq(me(t))}lt(t){return me(this).lt(me(t))}lte(t){return me(this).lte(me(t))}gt(t){return me(this).gt(me(t))}gte(t){return me(this).gte(me(t))}isNegative(){return this._hex[0]==="-"}isZero(){return me(this).isZero()}toNumber(){try{return me(this).toNumber()}catch{ki("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ss.throwError("this platform does not support BigInt",he.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Mg||(Mg=!0,ss.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ss.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",he.errors.UNEXPECTED_ARGUMENT,{}):ss.throwError("BigNumber.toString does not accept parameters",he.errors.UNEXPECTED_ARGUMENT,{})),me(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof $e)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new $e(Yf,Za(t)):t.match(/^-?[0-9]+$/)?new $e(Yf,Za(new x0(t))):ss.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&ki("underflow","BigNumber.from",t),(t>=Eg||t<=-Eg)&&ki("overflow","BigNumber.from",t),$e.from(String(t));const r=t;if(typeof r=="bigint")return $e.from(r.toString());if(uh(r))return $e.from(ov(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return $e.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Yo(i)||i[0]==="-"&&Yo(i.substring(1))))return $e.from(i)}return ss.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Za(e){if(typeof e!="string")return Za(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&ss.throwArgumentError("invalid hex","value",e),e=Za(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Vr(e){return $e.from(Za(e))}function me(e){const t=$e.from(e).toHexString();return t[0]==="-"?new x0("-"+t.substring(3),16):new x0(t.substring(2),16)}function ki(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),ss.throwError(e,he.errors.NUMERIC_FAULT,i)}const Ur=new he(hv),Qa={},uv=$e.from(0),cv=$e.from(-1);function fv(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Ur.throwError(e,he.errors.NUMERIC_FAULT,n)}let Ga="0";for(;Ga.length<256;)Ga+=Ga;function sl(e){if(typeof e!="number")try{e=$e.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Ga.substring(0,e):Ur.throwArgumentError("invalid decimal size","decimals",e)}function Vf(e,t){t==null&&(t=0);const r=sl(t);e=$e.from(e);const i=e.lt(uv);i&&(e=e.mul(cv));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function es(e,t){t==null&&(t=0);const r=sl(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Ur.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Ur.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Ur.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&fv("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=$e.from(a),b=$e.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(cv)),A}class Lo{constructor(t,r,i,n){t!==Qa&&Ur.throwError("cannot use FixedFormat constructor; use FixedFormat.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=sl(n),Object.freeze(this)}static from(t){if(t instanceof Lo)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Ur.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&Ur.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&Ur.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Ur.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Lo(Qa,r,i,n)}}class br{constructor(t,r,i,n){t!==Qa&&Ur.throwError("cannot use FixedNumber constructor; use FixedNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ur.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=br.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(Ig.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=br.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(Ig.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Ur.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=br.from("1"+Ga.substring(0,t),this.format),n=fC.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ur.throwArgumentError("invalid byte width","width",t);const r=$e.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Hu(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return br.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!cC(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),br.fromString(Vf(t,r),Lo.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Lo.from(r),n=es(t,i.decimals);!i.signed&&n.lt(uv)&&fv("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=Hu(a,i.width/8));const f=Vf(n,i.decimals);return new br(Qa,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Lo.from(r);if(sv(t).length>i.width/8)throw new Error("overflow");let n=$e.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=Vf(n,i.decimals);return new br(Qa,a,f,i)}static from(t,r){if(typeof t=="string")return br.fromString(t,r);if(uh(t))return br.fromBytes(t,r);try{return br.fromValue(t,0,r)}catch(i){if(i.code!==he.errors.INVALID_ARGUMENT)throw i}return Ur.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const Ig=br.from(1),fC=br.from("0.5"),lC="strings/5.7.0",dC=new he(lC);var _g;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(_g||(_g={}));var Ho;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Ho||(Ho={}));function pC(e,t,r,i,n){return dC.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function lv(e,t,r,i,n){if(e===Ho.BAD_PREFIX||e===Ho.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===Ho.OVERRUN?r.length-t-1:0}function gC(e,t,r,i,n){return e===Ho.OVERLONG?(i.push(n),0):(i.push(65533),lv(e,t,r))}Object.freeze({error:pC,ignore:lv,replace:gC});function mC(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Wf(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function Sg(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}Sg("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Wf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Wf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Wf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",mC),Sg("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const dv="hash/5.7.0";function vC(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return sv(t)}function pv(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function yC(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function wC(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let et=1;et<i;et++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function _(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const S=31,C=Math.pow(2,S),P=C>>>1,O=P>>1,H=C-1;let k=0;for(let et=0;et<S;et++)k=k<<1|_();let W=[],ht=0,ut=C;for(;;){let et=Math.floor(((k-ht+1)*n-1)/ut),rt=0,ft=i;for(;ft-rt>1;){let V=rt+ft>>>1;et<a[V]?ft=V:rt=V}if(rt==0)break;W.push(rt);let tt=ht+Math.floor(ut*a[rt]/n),Gt=ht+Math.floor(ut*a[rt+1]/n)-1;for(;!((tt^Gt)&P);)k=k<<1&H|_(),tt=tt<<1&H,Gt=Gt<<1&H|1;for(;tt&~Gt&O;)k=k&P|k<<1&H>>>1|_(),tt=tt<<1^P,Gt=(Gt^P)<<1|P|1;ht=tt,ut=1+Gt-tt}let nt=i-4;return W.map(et=>{switch(et-nt){case 3:return nt+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return nt+256+(e[v++]<<8|e[v++]);case 1:return nt+e[v++];default:return et-1}})}function AC(e){let t=0;return()=>e[t++]}function bC(e){return AC(wC(e))}function EC(e){return e&1?~e>>1:e>>1}function MC(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Ng(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function IC(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=EC(t());return r}function $u(e,t){let r=Ng(e(),e),i=e(),n=Ng(i,e),a=MC(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function _C(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(NC(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(CC(r,e))}return yC(pv(t))}function SC(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function gv(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)IC(e,r).forEach((a,f)=>i[f].push(a));return i}function NC(e,t){let r=1+t(),i=t(),n=SC(t),a=gv(n.length,1+e,t);return pv(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((_,S)=>{let C=S*i;return[b+S*r,A.map(P=>P+C)]})}))}function CC(e,t){let r=1+t();return gv(r,1+e,t).map(i=>[i[0],i.slice(1)])}function RC(e){let t=$u(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=$u(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,_)=>_.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function PC(){return bC(vC("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"))}const au=PC();new Set($u(au)),new Set($u(au)),_C(au),RC(au),new he(dv);const xC=new Uint8Array(32);xC.fill(0);const BC="rlp/5.7.0";new he(BC);const TC="address/5.7.0";new he(TC);const OC="properties/5.7.0";new he(OC);new he(dv);const FC=new Uint8Array(32);FC.fill(0),$e.from(-1);const DC=$e.from(0),kC=$e.from(1);$e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Hu(kC.toHexString(),32),Hu(DC.toHexString(),32);var bn={},we={},ch=mv;function mv(e,t){if(!e)throw new Error(t||"Assertion failed")}mv.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var B0={exports:{}};typeof Object.create=="function"?B0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:B0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var UC=ch,qC=B0.exports;we.inherits=qC;function zC(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function LC(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):zC(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}we.toArray=LC;function HC(e){for(var t="",r=0;r<e.length;r++)t+=yv(e[r].toString(16));return t}we.toHex=HC;function vv(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}we.htonl=vv;function $C(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=vv(n)),r+=wv(n.toString(16))}return r}we.toHex32=$C;function yv(e){return e.length===1?"0"+e:e}we.zero2=yv;function wv(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}we.zero8=wv;function jC(e,t,r,i){var n=r-t;UC(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}we.join32=jC;function KC(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}we.split32=KC;function QC(e,t){return e>>>t|e<<32-t}we.rotr32=QC;function GC(e,t){return e<<t|e>>>32-t}we.rotl32=GC;function JC(e,t){return e+t>>>0}we.sum32=JC;function YC(e,t,r){return e+t+r>>>0}we.sum32_3=YC;function VC(e,t,r,i){return e+t+r+i>>>0}we.sum32_4=VC;function WC(e,t,r,i,n){return e+t+r+i+n>>>0}we.sum32_5=WC;function XC(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}we.sum64=XC;function ZC(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}we.sum64_hi=ZC;function tR(e,t,r,i){var n=t+i;return n>>>0}we.sum64_lo=tR;function eR(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var _=e+r+n+f+b;return _>>>0}we.sum64_4_hi=eR;function rR(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}we.sum64_4_lo=rR;function iR(e,t,r,i,n,a,f,v,b,A){var _=0,S=t;S=S+i>>>0,_+=S<t?1:0,S=S+a>>>0,_+=S<a?1:0,S=S+v>>>0,_+=S<v?1:0,S=S+A>>>0,_+=S<A?1:0;var C=e+r+n+f+b+_;return C>>>0}we.sum64_5_hi=iR;function nR(e,t,r,i,n,a,f,v,b,A){var _=t+i+a+v+A;return _>>>0}we.sum64_5_lo=nR;function sR(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}we.rotr64_hi=sR;function oR(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}we.rotr64_lo=oR;function aR(e,t,r){return e>>>r}we.shr64_hi=aR;function hR(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}we.shr64_lo=hR;var ua={},Cg=we,uR=ch;function hu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ua.BlockHash=hu,hu.prototype.update=function(e,t){if(e=Cg.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Cg.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},hu.prototype.digest=function(e){return this.update(this._pad()),uR(this.pending===null),this._digest(e)},hu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Po={},Hn={},cR=we,kn=cR.rotr32;function fR(e,t,r,i){if(e===0)return Av(t,r,i);if(e===1||e===3)return Ev(t,r,i);if(e===2)return bv(t,r,i)}Hn.ft_1=fR;function Av(e,t,r){return e&t^~e&r}Hn.ch32=Av;function bv(e,t,r){return e&t^e&r^t&r}Hn.maj32=bv;function Ev(e,t,r){return e^t^r}Hn.p32=Ev;function lR(e){return kn(e,2)^kn(e,13)^kn(e,22)}Hn.s0_256=lR;function dR(e){return kn(e,6)^kn(e,11)^kn(e,25)}Hn.s1_256=dR;function pR(e){return kn(e,7)^kn(e,18)^e>>>3}Hn.g0_256=pR;function gR(e){return kn(e,17)^kn(e,19)^e>>>10}Hn.g1_256=gR;var Vo=we,mR=ua,vR=Hn,Xf=Vo.rotl32,ka=Vo.sum32,yR=Vo.sum32_5,wR=vR.ft_1,Mv=mR.BlockHash,AR=[1518500249,1859775393,2400959708,3395469782];function Cn(){if(!(this instanceof Cn))return new Cn;Mv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Vo.inherits(Cn,Mv);var bR=Cn;Cn.blockSize=512,Cn.outSize=160,Cn.hmacStrength=80,Cn.padLength=64,Cn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Xf(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),_=yR(Xf(n,5),wR(A,a,f,v),b,r[i],AR[A]);b=v,v=f,f=Xf(a,30),a=n,n=_}this.h[0]=ka(this.h[0],n),this.h[1]=ka(this.h[1],a),this.h[2]=ka(this.h[2],f),this.h[3]=ka(this.h[3],v),this.h[4]=ka(this.h[4],b)},Cn.prototype._digest=function(e){return e==="hex"?Vo.toHex32(this.h,"big"):Vo.split32(this.h,"big")};var Wo=we,ER=ua,ca=Hn,MR=ch,en=Wo.sum32,IR=Wo.sum32_4,_R=Wo.sum32_5,SR=ca.ch32,NR=ca.maj32,CR=ca.s0_256,RR=ca.s1_256,PR=ca.g0_256,xR=ca.g1_256,Iv=ER.BlockHash,BR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rn(){if(!(this instanceof Rn))return new Rn;Iv.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=BR,this.W=new Array(64)}Wo.inherits(Rn,Iv);var _v=Rn;Rn.blockSize=512,Rn.outSize=256,Rn.hmacStrength=192,Rn.padLength=64,Rn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=IR(xR(r[i-2]),r[i-7],PR(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],_=this.h[6],S=this.h[7];for(MR(this.k.length===r.length),i=0;i<r.length;i++){var C=_R(S,RR(b),SR(b,A,_),this.k[i],r[i]),P=en(CR(n),NR(n,a,f));S=_,_=A,A=b,b=en(v,C),v=f,f=a,a=n,n=en(C,P)}this.h[0]=en(this.h[0],n),this.h[1]=en(this.h[1],a),this.h[2]=en(this.h[2],f),this.h[3]=en(this.h[3],v),this.h[4]=en(this.h[4],b),this.h[5]=en(this.h[5],A),this.h[6]=en(this.h[6],_),this.h[7]=en(this.h[7],S)},Rn.prototype._digest=function(e){return e==="hex"?Wo.toHex32(this.h,"big"):Wo.split32(this.h,"big")};var T0=we,Sv=_v;function cs(){if(!(this instanceof cs))return new cs;Sv.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}T0.inherits(cs,Sv);var TR=cs;cs.blockSize=512,cs.outSize=224,cs.hmacStrength=192,cs.padLength=64,cs.prototype._digest=function(e){return e==="hex"?T0.toHex32(this.h.slice(0,7),"big"):T0.split32(this.h.slice(0,7),"big")};var ti=we,OR=ua,FR=ch,Un=ti.rotr64_hi,qn=ti.rotr64_lo,Nv=ti.shr64_hi,Cv=ti.shr64_lo,Is=ti.sum64,Zf=ti.sum64_hi,t0=ti.sum64_lo,DR=ti.sum64_4_hi,kR=ti.sum64_4_lo,UR=ti.sum64_5_hi,qR=ti.sum64_5_lo,Rv=OR.BlockHash,zR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hn(){if(!(this instanceof hn))return new hn;Rv.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=zR,this.W=new Array(160)}ti.inherits(hn,Rv);var Pv=hn;hn.blockSize=1024,hn.outSize=512,hn.hmacStrength=192,hn.padLength=128,hn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=WR(r[i-4],r[i-3]),a=XR(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=YR(r[i-30],r[i-29]),A=VR(r[i-30],r[i-29]),_=r[i-32],S=r[i-31];r[i]=DR(n,a,f,v,b,A,_,S),r[i+1]=kR(n,a,f,v,b,A,_,S)}},hn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],_=this.h[7],S=this.h[8],C=this.h[9],P=this.h[10],O=this.h[11],H=this.h[12],k=this.h[13],W=this.h[14],ht=this.h[15];FR(this.k.length===r.length);for(var ut=0;ut<r.length;ut+=2){var nt=W,et=ht,rt=GR(S,C),ft=JR(S,C),tt=LR(S,C,P,O,H),Gt=HR(S,C,P,O,H,k),V=this.k[ut],j=this.k[ut+1],Z=r[ut],s=r[ut+1],c=UR(nt,et,rt,ft,tt,Gt,V,j,Z,s),d=qR(nt,et,rt,ft,tt,Gt,V,j,Z,s);nt=KR(i,n),et=QR(i,n),rt=$R(i,n,a,f,v),ft=jR(i,n,a,f,v,b);var g=Zf(nt,et,rt,ft),w=t0(nt,et,rt,ft);W=H,ht=k,H=P,k=O,P=S,O=C,S=Zf(A,_,c,d),C=t0(_,_,c,d),A=v,_=b,v=a,b=f,a=i,f=n,i=Zf(c,d,g,w),n=t0(c,d,g,w)}Is(this.h,0,i,n),Is(this.h,2,a,f),Is(this.h,4,v,b),Is(this.h,6,A,_),Is(this.h,8,S,C),Is(this.h,10,P,O),Is(this.h,12,H,k),Is(this.h,14,W,ht)},hn.prototype._digest=function(e){return e==="hex"?ti.toHex32(this.h,"big"):ti.split32(this.h,"big")};function LR(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function HR(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function $R(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function jR(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function KR(e,t){var r=Un(e,t,28),i=Un(t,e,2),n=Un(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function QR(e,t){var r=qn(e,t,28),i=qn(t,e,2),n=qn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function GR(e,t){var r=Un(e,t,14),i=Un(e,t,18),n=Un(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function JR(e,t){var r=qn(e,t,14),i=qn(e,t,18),n=qn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function YR(e,t){var r=Un(e,t,1),i=Un(e,t,8),n=Nv(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function VR(e,t){var r=qn(e,t,1),i=qn(e,t,8),n=Cv(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function WR(e,t){var r=Un(e,t,19),i=Un(t,e,29),n=Nv(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function XR(e,t){var r=qn(e,t,19),i=qn(t,e,29),n=Cv(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var O0=we,xv=Pv;function fs(){if(!(this instanceof fs))return new fs;xv.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}O0.inherits(fs,xv);var ZR=fs;fs.blockSize=1024,fs.outSize=384,fs.hmacStrength=192,fs.padLength=128,fs.prototype._digest=function(e){return e==="hex"?O0.toHex32(this.h.slice(0,12),"big"):O0.split32(this.h.slice(0,12),"big")},Po.sha1=bR,Po.sha224=TR,Po.sha256=_v,Po.sha384=ZR,Po.sha512=Pv;var Bv={},ro=we,tP=ua,uu=ro.rotl32,Rg=ro.sum32,Ua=ro.sum32_3,Pg=ro.sum32_4,Tv=tP.BlockHash;function En(){if(!(this instanceof En))return new En;Tv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ro.inherits(En,Tv),Bv.ripemd160=En,En.blockSize=512,En.outSize=160,En.hmacStrength=192,En.padLength=64,En.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,_=a,S=f,C=0;C<80;C++){var P=Rg(uu(Pg(r,xg(C,i,n,a),e[iP[C]+t],eP(C)),sP[C]),f);r=f,f=a,a=uu(n,10),n=i,i=P,P=Rg(uu(Pg(v,xg(79-C,b,A,_),e[nP[C]+t],rP(C)),oP[C]),S),v=S,S=_,_=uu(A,10),A=b,b=P}P=Ua(this.h[1],n,_),this.h[1]=Ua(this.h[2],a,S),this.h[2]=Ua(this.h[3],f,v),this.h[3]=Ua(this.h[4],r,b),this.h[4]=Ua(this.h[0],i,A),this.h[0]=P},En.prototype._digest=function(e){return e==="hex"?ro.toHex32(this.h,"little"):ro.split32(this.h,"little")};function xg(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function eP(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function rP(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var iP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sP=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],oP=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],aP=we,hP=ch;function $o(e,t,r){if(!(this instanceof $o))return new $o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(aP.toArray(t,r))}var uP=$o;$o.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),hP(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},$o.prototype.update=function(e,t){return this.inner.update(e,t),this},$o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=we,t.common=ua,t.sha=Po,t.ripemd=Bv,t.hmac=uP,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(bn);function fa(e,t,r){return r={path:t,exports:{},require:function(i,n){return cP(i,n??r.path)}},e(r,r.exports),r.exports}function cP(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ol=Ov;function Ov(e,t){if(!e)throw new Error(t||"Assertion failed")}Ov.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ln=fa(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var _=f.charCodeAt(A),S=_>>8,C=_&255;S?b.push(S,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),bi=fa(function(e,t){var r=t;r.assert=ol,r.toArray=ln.toArray,r.zero2=ln.zero2,r.toHex=ln.toHex,r.encode=ln.encode;function i(b,A,_){var S=new Array(Math.max(b.bitLength(),_)+1);S.fill(0);for(var C=1<<A+1,P=b.clone(),O=0;O<S.length;O++){var H,k=P.andln(C-1);P.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,P.isubn(H)):H=0,S[O]=H,P.iushrn(1)}return S}r.getNAF=i;function n(b,A){var _=[[],[]];b=b.clone(),A=A.clone();for(var S=0,C=0,P;b.cmpn(-S)>0||A.cmpn(-C)>0;){var O=b.andln(3)+S&3,H=A.andln(3)+C&3;O===3&&(O=-1),H===3&&(H=-1);var k;O&1?(P=b.andln(7)+S&7,(P===3||P===5)&&H===2?k=-O:k=O):k=0,_[0].push(k);var W;H&1?(P=A.andln(7)+C&7,(P===3||P===5)&&O===2?W=-H:W=H):W=0,_[1].push(W),2*S===k+1&&(S=1-S),2*C===W+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return _}r.getJSF=n;function a(b,A,_){var S="_"+A;b.prototype[A]=function(){return this[S]!==void 0?this[S]:this[S]=_.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new ne(b,"hex","le")}r.intFromLE=v}),cu=bi.getNAF,fP=bi.getJSF,ju=bi.assert;function Ps(e,t){this.type=e,this.p=new ne(t.p,16),this.red=t.prime?ne.red(t.prime):ne.mont(this.p),this.zero=new ne(0).toRed(this.red),this.one=new ne(1).toRed(this.red),this.two=new ne(2).toRed(this.red),this.n=t.n&&new ne(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ho=Ps;Ps.prototype.point=function(){throw new Error("Not implemented")},Ps.prototype.validate=function(){throw new Error("Not implemented")},Ps.prototype._fixedNafMul=function(e,t){ju(e.precomputed);var r=e._getDoubles(),i=cu(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),_=this.jpoint(null,null,null),S=n;S>0;S--){for(f=0;f<a.length;f++)v=a[f],v===S?_=_.mixedAdd(r.points[f]):v===-S&&(_=_.mixedAdd(r.points[f].neg()));A=A.add(_)}return A.toP()},Ps.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=cu(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];ju(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Ps.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,_,S;for(A=0;A<i;A++){S=t[A];var C=S._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var P=A-1,O=A;if(a[P]!==1||a[O]!==1){v[P]=cu(r[P],a[P],this._bitLength),v[O]=cu(r[O],a[O],this._bitLength),b=Math.max(v[P].length,b),b=Math.max(v[O].length,b);continue}var H=[t[P],null,null,t[O]];t[P].y.cmp(t[O].y)===0?(H[1]=t[P].add(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg())):t[P].y.cmp(t[O].y.redNeg())===0?(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].add(t[O].neg())):(H[1]=t[P].toJ().mixedAdd(t[O]),H[2]=t[P].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],W=fP(r[P],r[O]);for(b=Math.max(W[0].length,b),v[P]=new Array(b),v[O]=new Array(b),_=0;_<b;_++){var ht=W[0][_]|0,ut=W[1][_]|0;v[P][_]=k[(ht+1)*3+(ut+1)],v[O][_]=0,f[P]=H}}var nt=this.jpoint(null,null,null),et=this._wnafT4;for(A=b;A>=0;A--){for(var rt=0;A>=0;){var ft=!0;for(_=0;_<i;_++)et[_]=v[_][A]|0,et[_]!==0&&(ft=!1);if(!ft)break;rt++,A--}if(A>=0&&rt++,nt=nt.dblp(rt),A<0)break;for(_=0;_<i;_++){var tt=et[_];tt!==0&&(tt>0?S=f[_][tt-1>>1]:tt<0&&(S=f[_][-tt-1>>1].neg()),S.type==="affine"?nt=nt.mixedAdd(S):nt=nt.add(S))}}for(A=0;A<i;A++)f[A]=null;return n?nt:nt.toP()};function Ui(e,t){this.curve=e,this.type=t,this.precomputed=null}Ps.BasePoint=Ui,Ui.prototype.eq=function(){throw new Error("Not implemented")},Ui.prototype.validate=function(){return this.curve.validate(this)},Ps.prototype.decodePoint=function(e,t){e=bi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?ju(e[e.length-1]%2===0):e[0]===7&&ju(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Ui.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ui.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Ui.prototype.encode=function(e,t){return bi.encode(this._encode(t),e)},Ui.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Ui.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Ui.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},Ui.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},Ui.prototype._getBeta=function(){return null},Ui.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var al=fa(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),lP=bi.assert;function Qi(e){ho.call(this,"short",e),this.a=new ne(e.a,16).toRed(this.red),this.b=new ne(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}al(Qi,ho);var dP=Qi;Qi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new ne(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new ne(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],lP(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new ne(f.a,16),b:new ne(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},Qi.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ne.mont(e),r=new ne(2).toRed(t).redInvm(),i=r.redNeg(),n=new ne(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},Qi.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new ne(1),a=new ne(0),f=new ne(0),v=new ne(1),b,A,_,S,C,P,O,H=0,k,W;r.cmpn(0)!==0;){var ht=i.div(r);k=i.sub(ht.mul(r)),W=f.sub(ht.mul(n));var ut=v.sub(ht.mul(a));if(!_&&k.cmp(t)<0)b=O.neg(),A=n,_=k.neg(),S=W;else if(_&&++H===2)break;O=k,i=r,r=k,f=n,n=W,v=a,a=ut}C=k.neg(),P=W;var nt=_.sqr().add(S.sqr()),et=C.sqr().add(P.sqr());return et.cmp(nt)>=0&&(C=b,P=A),_.negative&&(_=_.neg(),S=S.neg()),C.negative&&(C=C.neg(),P=P.neg()),[{a:_,b:S},{a:C,b:P}]},Qi.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),_=e.sub(f).sub(v),S=b.add(A).neg();return{k1:_,k2:S}},Qi.prototype.pointFromX=function(e,t){e=new ne(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Qi.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Qi.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),_=0;_<a*2;_++)i[_]=null,n[_]=null;return A};function dr(e,t,r,i){ho.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ne(t,16),this.y=new ne(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}al(dr,ho.BasePoint),Qi.prototype.point=function(e,t,r){return new dr(this,e,t,r)},Qi.prototype.pointFromJSON=function(e,t){return dr.fromJSON(this,e,t)},dr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},dr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},dr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},dr.prototype.isInfinity=function(){return this.inf},dr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},dr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},dr.prototype.getX=function(){return this.x.fromRed()},dr.prototype.getY=function(){return this.y.fromRed()},dr.prototype.mul=function(e){return e=new ne(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},dr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},dr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},dr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},dr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},dr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(e,t,r,i){ho.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ne(0)):(this.x=new ne(t,16),this.y=new ne(r,16),this.z=new ne(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}al(yr,ho.BasePoint),Qi.prototype.jpoint=function(e,t,r){return new yr(this,e,t,r)},yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),_=A.redMul(v),S=i.redMul(A),C=b.redSqr().redIAdd(_).redISub(S).redISub(S),P=b.redMul(S.redISub(C)).redISub(a.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,P,O)},yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),_=r.redMul(b),S=v.redSqr().redIAdd(A).redISub(_).redISub(_),C=v.redMul(_.redISub(S)).redISub(n.redMul(A)),P=this.z.redMul(f);return this.curve.jpoint(S,C,P)},yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var _=a.redSqr(),S=A.redSqr(),C=S.redSqr(),P=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(b)),O=a.redMul(S),H=P.redSqr().redISub(O.redAdd(O)),k=O.redISub(H),W=P.redMul(k);W=W.redIAdd(W).redISub(C);var ht=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ht,A=W}return this.curve.jpoint(a,A.redMul(n),v)},yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},yr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),S=this.y.redSqr(),C=S.redSqr(),P=this.x.redAdd(S).redSqr().redISub(_).redISub(C);P=P.redIAdd(P);var O=_.redAdd(_).redIAdd(_),H=O.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(P).redISub(P),t=O.redMul(P.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},yr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),S=this.y.redSqr(),C=this.x.redMul(S),P=this.x.redSub(_).redMul(this.x.redAdd(_));P=P.redAdd(P).redIAdd(P);var O=C.redIAdd(C);O=O.redIAdd(O);var H=O.redAdd(O);e=P.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(_);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=P.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),_=v.redSqr().redISub(A.redAdd(A)),S=A.redISub(_),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=v.redMul(S).redISub(C),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,P,O)},yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),_=t.redMul(A);_=_.redIAdd(_),_=_.redIAdd(_);var S=this.x.redMul(v).redISub(_);S=S.redIAdd(S),S=S.redIAdd(S);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var P=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(S,C,P)},yr.prototype.mul=function(e,t){return e=new ne(e,t),this.curve._wnafMul(this,e)},yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Cu=fa(function(e,t){var r=t;r.base=ho,r.short=dP,r.mont=null,r.edwards=null}),Ru=fa(function(e,t){var r=t,i=bi.assert;function n(v){v.type==="short"?this.curve=new Cu.short(v):v.type==="edwards"?this.curve=new Cu.edwards(v):this.curve=new Cu.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function xs(e){if(!(this instanceof xs))return new xs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ln.toArray(e.entropy,e.entropyEnc||"hex"),r=ln.toArray(e.nonce,e.nonceEnc||"hex"),i=ln.toArray(e.pers,e.persEnc||"hex");ol(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Bg=xs;xs.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},xs.prototype._hmac=function(){return new bn.hmac(this.hash,this.K)},xs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},xs.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=ln.toArray(e,t),r=ln.toArray(r,i),ol(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},xs.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=ln.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,ln.encode(a,t)};var e0=bi.assert;function Rr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var r0=Rr;Rr.fromPublic=function(e,t,r){return t instanceof Rr?t:new Rr(e,{pub:t,pubEnc:r})},Rr.fromPrivate=function(e,t,r){return t instanceof Rr?t:new Rr(e,{priv:t,privEnc:r})},Rr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Rr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Rr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Rr.prototype._importPrivate=function(e,t){this.priv=new ne(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Rr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?e0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&e0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Rr.prototype.derive=function(e){return e.validate()||e0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Rr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Rr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Rr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var pP=bi.assert;function Xu(e,t){if(e instanceof Xu)return e;this._importDER(e,t)||(pP(e.r&&e.s,"Signature without r or s"),this.r=new ne(e.r,16),this.s=new ne(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var fu=Xu;function gP(){this.place=0}function i0(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function Tg(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Xu.prototype._importDER=function(e,t){e=bi.toArray(e,t);var r=new gP;if(e[r.place++]!==48)return!1;var i=i0(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=i0(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=i0(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new ne(a),this.s=new ne(v),this.recoveryParam=null,!0};function n0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Xu.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Tg(t),r=Tg(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];n0(i,t.length),i=i.concat(t),i.push(2),n0(i,r.length);var n=i.concat(r),a=[48];return n0(a,n.length),a=a.concat(n),bi.encode(a,e)};var mP=function(){throw new Error("unsupported")},Fv=bi.assert;function Hi(e){if(!(this instanceof Hi))return new Hi(e);typeof e=="string"&&(Fv(Object.prototype.hasOwnProperty.call(Ru,e),"Unknown curve "+e),e=Ru[e]),e instanceof Ru.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var vP=Hi;Hi.prototype.keyPair=function(e){return new r0(this,e)},Hi.prototype.keyFromPrivate=function(e,t){return r0.fromPrivate(this,e,t)},Hi.prototype.keyFromPublic=function(e,t){return r0.fromPublic(this,e,t)},Hi.prototype.genKeyPair=function(e){e||(e={});for(var t=new Bg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||mP(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ne(2));;){var n=new ne(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Hi.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Hi.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ne(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new Bg({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new ne(1)),A=0;;A++){var _=i.k?i.k(A):new ne(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(b)>=0)){var S=this.g.mul(_);if(!S.isInfinity()){var C=S.getX(),P=C.umod(this.n);if(P.cmpn(0)!==0){var O=_.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var H=(S.getY().isOdd()?1:0)|(C.cmp(P)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),H^=1),new fu({r:P,s:O,recoveryParam:H})}}}}}},Hi.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ne(e,16)),r=this.keyFromPublic(r,i),t=new fu(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},Hi.prototype.recoverPubKey=function(e,t,r,i){Fv((3&r)===r,"The recovery param is more than two bits"),t=new fu(t,i);var n=this.n,a=new ne(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var _=t.r.invm(n),S=n.sub(a).mul(_).umod(n),C=v.mul(_).umod(n);return this.g.mulAdd(S,f,C)},Hi.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new fu(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var yP=fa(function(e,t){var r=t;r.version="6.5.4",r.utils=bi,r.rand=function(){throw new Error("unsupported")},r.curve=Cu,r.curves=Ru,r.ec=vP,r.eddsa=null});yP.ec;const wP="signing-key/5.7.0";new he(wP);const AP="transactions/5.7.0";new he(AP);var Og;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Og||(Og={}));function hl(e){return e.includes(":")}function La(e){return hl(e)?e.split(":")[0]:e}const bP={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Fg(e,t){const{message:r,code:i}=bP[e];return{message:t?`${r} ${t}`:r,code:i}}function Dg(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function EP(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}var F0={exports:{}};(function(e,t){var r=typeof self<"u"?self:c0,i=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(f){var v={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function b(c){return c&&DataView.prototype.isPrototypeOf(c)}if(v.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(c){return c&&A.indexOf(Object.prototype.toString.call(c))>-1};function S(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(c))throw new TypeError("Invalid character in header field name");return c.toLowerCase()}function C(c){return typeof c!="string"&&(c=String(c)),c}function P(c){var d={next:function(){var g=c.shift();return{done:g===void 0,value:g}}};return v.iterable&&(d[Symbol.iterator]=function(){return d}),d}function O(c){this.map={},c instanceof O?c.forEach(function(d,g){this.append(g,d)},this):Array.isArray(c)?c.forEach(function(d){this.append(d[0],d[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(d){this.append(d,c[d])},this)}O.prototype.append=function(c,d){c=S(c),d=C(d);var g=this.map[c];this.map[c]=g?g+", "+d:d},O.prototype.delete=function(c){delete this.map[S(c)]},O.prototype.get=function(c){return c=S(c),this.has(c)?this.map[c]:null},O.prototype.has=function(c){return this.map.hasOwnProperty(S(c))},O.prototype.set=function(c,d){this.map[S(c)]=C(d)},O.prototype.forEach=function(c,d){for(var g in this.map)this.map.hasOwnProperty(g)&&c.call(d,this.map[g],g,this)},O.prototype.keys=function(){var c=[];return this.forEach(function(d,g){c.push(g)}),P(c)},O.prototype.values=function(){var c=[];return this.forEach(function(d){c.push(d)}),P(c)},O.prototype.entries=function(){var c=[];return this.forEach(function(d,g){c.push([g,d])}),P(c)},v.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function H(c){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}function k(c){return new Promise(function(d,g){c.onload=function(){d(c.result)},c.onerror=function(){g(c.error)}})}function W(c){var d=new FileReader,g=k(d);return d.readAsArrayBuffer(c),g}function ht(c){var d=new FileReader,g=k(d);return d.readAsText(c),g}function ut(c){for(var d=new Uint8Array(c),g=new Array(d.length),w=0;w<d.length;w++)g[w]=String.fromCharCode(d[w]);return g.join("")}function nt(c){if(c.slice)return c.slice(0);var d=new Uint8Array(c.byteLength);return d.set(new Uint8Array(c)),d.buffer}function et(){return this.bodyUsed=!1,this._initBody=function(c){this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:v.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:v.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:v.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():v.arrayBuffer&&v.blob&&b(c)?(this._bodyArrayBuffer=nt(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||_(c))?this._bodyArrayBuffer=nt(c):this._bodyText=c=Object.prototype.toString.call(c):this._bodyText="",this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var c=H(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?H(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(W)}),this.text=function(){var c=H(this);if(c)return c;if(this._bodyBlob)return ht(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ut(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(Gt)}),this.json=function(){return this.text().then(JSON.parse)},this}var rt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ft(c){var d=c.toUpperCase();return rt.indexOf(d)>-1?d:c}function tt(c,d){d=d||{};var g=d.body;if(c instanceof tt){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,d.headers||(this.headers=new O(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!g&&c._bodyInit!=null&&(g=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new O(d.headers)),this.method=ft(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(g)}tt.prototype.clone=function(){return new tt(this,{body:this._bodyInit})};function Gt(c){var d=new FormData;return c.trim().split("&").forEach(function(g){if(g){var w=g.split("="),E=w.shift().replace(/\+/g," "),I=w.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(I))}}),d}function V(c){var d=new O,g=c.replace(/\r?\n[\t ]+/g," ");return g.split(/\r?\n/).forEach(function(w){var E=w.split(":"),I=E.shift().trim();if(I){var y=E.join(":").trim();d.append(I,y)}}),d}et.call(tt.prototype);function j(c,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new O(d.headers),this.url=d.url||"",this._initBody(c)}et.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},j.error=function(){var c=new j(null,{status:0,statusText:""});return c.type="error",c};var Z=[301,302,303,307,308];j.redirect=function(c,d){if(Z.indexOf(d)===-1)throw new RangeError("Invalid status code");return new j(null,{status:d,headers:{location:c}})},f.DOMException=a.DOMException;try{new f.DOMException}catch{f.DOMException=function(d,g){this.message=d,this.name=g;var w=Error(d);this.stack=w.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function s(c,d){return new Promise(function(g,w){var E=new tt(c,d);if(E.signal&&E.signal.aborted)return w(new f.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function y(){I.abort()}I.onload=function(){var h={status:I.status,statusText:I.statusText,headers:V(I.getAllResponseHeaders()||"")};h.url="responseURL"in I?I.responseURL:h.headers.get("X-Request-URL");var m="response"in I?I.response:I.responseText;g(new j(m,h))},I.onerror=function(){w(new TypeError("Network request failed"))},I.ontimeout=function(){w(new TypeError("Network request failed"))},I.onabort=function(){w(new f.DOMException("Aborted","AbortError"))},I.open(E.method,E.url,!0),E.credentials==="include"?I.withCredentials=!0:E.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&v.blob&&(I.responseType="blob"),E.headers.forEach(function(h,m){I.setRequestHeader(m,h)}),E.signal&&(E.signal.addEventListener("abort",y),I.onreadystatechange=function(){I.readyState===4&&E.signal.removeEventListener("abort",y)}),I.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return s.polyfill=!0,a.fetch||(a.fetch=s,a.Headers=O,a.Request=tt,a.Response=j),f.Headers=O,f.Request=tt,f.Response=j,f.fetch=s,Object.defineProperty(f,"__esModule",{value:!0}),f})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t})(F0,F0.exports);const kg=W8(F0.exports);var MP=Object.defineProperty,IP=Object.defineProperties,_P=Object.getOwnPropertyDescriptors,Ug=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,NP=Object.prototype.propertyIsEnumerable,qg=(e,t,r)=>t in e?MP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zg=(e,t)=>{for(var r in t||(t={}))SP.call(t,r)&&qg(e,r,t[r]);if(Ug)for(var r of Ug(t))NP.call(t,r)&&qg(e,r,t[r]);return e},Lg=(e,t)=>IP(e,_P(t));const CP={Accept:"application/json","Content-Type":"application/json"},RP="POST",Hg={headers:CP,method:RP},$g=10;class Us{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new zr.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!F1(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=f0(t),i=await(await kg(this.url,Lg(zg({},Hg),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!F1(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),n(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=f0({id:1,jsonrpc:"2.0",method:"test",params:[]});await kg(t,Lg(zg({},Hg),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?om(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),a=H0(t,n);this.events.emit("payload",a)}parseError(t,r=this.url){return X8(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$g&&this.events.setMaxListeners($g)}}class qs extends sm{constructor(t){super(t),this.events=new zr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Zs(t.method,t.params||[],t.id||Bs().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(a){n(a)}this.events.on(`${t.id}`,a=>{$i(a)?n(a.error):i(a.result)});try{await this.connection.send(t,r)}catch(a){n(a)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),th(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const jg="error",PP="wss://relay.walletconnect.com",xP="wc",BP="universal_provider",Kg=`${xP}@2:${BP}:`,TP="https://rpc.walletconnect.com/v1/",ls={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D0={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",n=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",v="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",A=500,_="__lodash_placeholder__",S=1,C=2,P=4,O=1,H=2,k=1,W=2,ht=4,ut=8,nt=16,et=32,rt=64,ft=128,tt=256,Gt=512,V=30,j="...",Z=800,s=16,c=1,d=2,g=3,w=1/0,E=9007199254740991,I=17976931348623157e292,y=0/0,h=4294967295,m=h-1,Y=h>>>1,Q=[["ary",ft],["bind",k],["bindKey",W],["curry",ut],["curryRight",nt],["flip",Gt],["partial",et],["partialRight",rt],["rearg",tt]],l="[object Arguments]",x="[object Array]",R="[object AsyncFunction]",T="[object Boolean]",$="[object Date]",U="[object DOMException]",z="[object Error]",J="[object Function]",it="[object GeneratorFunction]",q="[object Map]",pt="[object Number]",Pt="[object Null]",lt="[object Object]",ke="[object Promise]",xt="[object Proxy]",gt="[object RegExp]",Ae="[object Set]",mt="[object String]",yt="[object Symbol]",je="[object Undefined]",vt="[object WeakMap]",Bt="[object WeakSet]",Ie="[object ArrayBuffer]",dt="[object DataView]",wt="[object Float32Array]",Be="[object Float64Array]",At="[object Int8Array]",bt="[object Int16Array]",Te="[object Int32Array]",Et="[object Uint8Array]",Mt="[object Uint8ClampedArray]",Oe="[object Uint16Array]",It="[object Uint32Array]",Tt=/\b__p \+= '';/g,Ke=/\b(__p \+=) '' \+/g,Ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nt=/&(?:amp|lt|gt|quot|#39);/g,Ue=/[&<>"']/g,Ft=RegExp(Nt.source),Dt=RegExp(Ue.source),Qe=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,Ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ut=/^\w*$/,qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Fe.source),_t=/^\s+/,Je=/\s/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ht=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,$t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jt=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,Kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rt=/\w*$/,Se=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Ce=/^\[object .+?Constructor\]$/,Re=/^0o[0-7]+$/i,Pe=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mr=/($^)/,ri=/['\n\r\u2028\u2029\\]/g,Ir="\\ud800-\\udfff",ii="\\u0300-\\u036f",ni="\\ufe20-\\ufe2f",si="\\u20d0-\\u20ff",Lr=ii+ni+si,Hr="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",oi="\\xac\\xb1\\xd7\\xf7",ai="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hi="\\u2000-\\u206f",ui=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fl="A-Z\\xc0-\\xd6\\xd8-\\xde",ll="\\ufe0e\\ufe0f",dl=oi+ai+hi+ui,Zu="['\u2019]",Uv="["+Ir+"]",pl="["+dl+"]",fh="["+Lr+"]",gl="\\d+",qv="["+Hr+"]",ml="["+$r+"]",vl="[^"+Ir+dl+gl+Hr+$r+fl+"]",tc="\\ud83c[\\udffb-\\udfff]",zv="(?:"+fh+"|"+tc+")",yl="[^"+Ir+"]",ec="(?:\\ud83c[\\udde6-\\uddff]){2}",rc="[\\ud800-\\udbff][\\udc00-\\udfff]",co="["+fl+"]",wl="\\u200d",Al="(?:"+ml+"|"+vl+")",Lv="(?:"+co+"|"+vl+")",bl="(?:"+Zu+"(?:d|ll|m|re|s|t|ve))?",El="(?:"+Zu+"(?:D|LL|M|RE|S|T|VE))?",Ml=zv+"?",Il="["+ll+"]?",Hv="(?:"+wl+"(?:"+[yl,ec,rc].join("|")+")"+Il+Ml+")*",$v="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_l=Il+Ml+Hv,Kv="(?:"+[qv,ec,rc].join("|")+")"+_l,Qv="(?:"+[yl+fh+"?",fh,ec,rc,Uv].join("|")+")",Gv=RegExp(Zu,"g"),Jv=RegExp(fh,"g"),ic=RegExp(tc+"(?="+tc+")|"+Qv+_l,"g"),Yv=RegExp([co+"?"+ml+"+"+bl+"(?="+[pl,co,"$"].join("|")+")",Lv+"+"+El+"(?="+[pl,co+Al,"$"].join("|")+")",co+"?"+Al+"+"+bl,co+"+"+El,jv,$v,gl,Kv].join("|"),"g"),Vv=RegExp("["+wl+Ir+Lr+ll+"]"),Wv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zv=-1,We={};We[wt]=We[Be]=We[At]=We[bt]=We[Te]=We[Et]=We[Mt]=We[Oe]=We[It]=!0,We[l]=We[x]=We[Ie]=We[T]=We[dt]=We[$]=We[z]=We[J]=We[q]=We[pt]=We[lt]=We[gt]=We[Ae]=We[mt]=We[vt]=!1;var qe={};qe[l]=qe[x]=qe[Ie]=qe[dt]=qe[T]=qe[$]=qe[wt]=qe[Be]=qe[At]=qe[bt]=qe[Te]=qe[q]=qe[pt]=qe[lt]=qe[gt]=qe[Ae]=qe[mt]=qe[yt]=qe[Et]=qe[Mt]=qe[Oe]=qe[It]=!0,qe[z]=qe[J]=qe[vt]=!1;var t3={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},e3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},i3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},n3=parseFloat,s3=parseInt,Sl=typeof qa=="object"&&qa&&qa.Object===Object&&qa,o3=typeof self=="object"&&self&&self.Object===Object&&self,pr=Sl||o3||Function("return this")(),nc=t&&!t.nodeType&&t,zs=nc&&!0&&e&&!e.nodeType&&e,Nl=zs&&zs.exports===nc,sc=Nl&&Sl.process,Mi=function(){try{var K=zs&&zs.require&&zs.require("util").types;return K||sc&&sc.binding&&sc.binding("util")}catch{}}(),Cl=Mi&&Mi.isArrayBuffer,Rl=Mi&&Mi.isDate,Pl=Mi&&Mi.isMap,xl=Mi&&Mi.isRegExp,Bl=Mi&&Mi.isSet,Tl=Mi&&Mi.isTypedArray;function ci(K,st,X){switch(X.length){case 0:return K.call(st);case 1:return K.call(st,X[0]);case 2:return K.call(st,X[0],X[1]);case 3:return K.call(st,X[0],X[1],X[2])}return K.apply(st,X)}function a3(K,st,X,Jt){for(var te=-1,Ee=K==null?0:K.length;++te<Ee;){var ar=K[te];st(Jt,ar,X(ar),K)}return Jt}function Ii(K,st){for(var X=-1,Jt=K==null?0:K.length;++X<Jt&&st(K[X],X,K)!==!1;);return K}function h3(K,st){for(var X=K==null?0:K.length;X--&&st(K[X],X,K)!==!1;);return K}function Ol(K,st){for(var X=-1,Jt=K==null?0:K.length;++X<Jt;)if(!st(K[X],X,K))return!1;return!0}function ds(K,st){for(var X=-1,Jt=K==null?0:K.length,te=0,Ee=[];++X<Jt;){var ar=K[X];st(ar,X,K)&&(Ee[te++]=ar)}return Ee}function lh(K,st){var X=K==null?0:K.length;return!!X&&fo(K,st,0)>-1}function oc(K,st,X){for(var Jt=-1,te=K==null?0:K.length;++Jt<te;)if(X(st,K[Jt]))return!0;return!1}function Xe(K,st){for(var X=-1,Jt=K==null?0:K.length,te=Array(Jt);++X<Jt;)te[X]=st(K[X],X,K);return te}function ps(K,st){for(var X=-1,Jt=st.length,te=K.length;++X<Jt;)K[te+X]=st[X];return K}function ac(K,st,X,Jt){var te=-1,Ee=K==null?0:K.length;for(Jt&&Ee&&(X=K[++te]);++te<Ee;)X=st(X,K[te],te,K);return X}function u3(K,st,X,Jt){var te=K==null?0:K.length;for(Jt&&te&&(X=K[--te]);te--;)X=st(X,K[te],te,K);return X}function hc(K,st){for(var X=-1,Jt=K==null?0:K.length;++X<Jt;)if(st(K[X],X,K))return!0;return!1}var c3=uc("length");function f3(K){return K.split("")}function l3(K){return K.match($t)||[]}function Fl(K,st,X){var Jt;return X(K,function(te,Ee,ar){if(st(te,Ee,ar))return Jt=Ee,!1}),Jt}function dh(K,st,X,Jt){for(var te=K.length,Ee=X+(Jt?1:-1);Jt?Ee--:++Ee<te;)if(st(K[Ee],Ee,K))return Ee;return-1}function fo(K,st,X){return st===st?I3(K,st,X):dh(K,Dl,X)}function d3(K,st,X,Jt){for(var te=X-1,Ee=K.length;++te<Ee;)if(Jt(K[te],st))return te;return-1}function Dl(K){return K!==K}function kl(K,st){var X=K==null?0:K.length;return X?fc(K,st)/X:y}function uc(K){return function(st){return st==null?r:st[K]}}function cc(K){return function(st){return K==null?r:K[st]}}function Ul(K,st,X,Jt,te){return te(K,function(Ee,ar,De){X=Jt?(Jt=!1,Ee):st(X,Ee,ar,De)}),X}function p3(K,st){var X=K.length;for(K.sort(st);X--;)K[X]=K[X].value;return K}function fc(K,st){for(var X,Jt=-1,te=K.length;++Jt<te;){var Ee=st(K[Jt]);Ee!==r&&(X=X===r?Ee:X+Ee)}return X}function lc(K,st){for(var X=-1,Jt=Array(K);++X<K;)Jt[X]=st(X);return Jt}function g3(K,st){return Xe(st,function(X){return[X,K[X]]})}function ql(K){return K&&K.slice(0,$l(K)+1).replace(_t,"")}function fi(K){return function(st){return K(st)}}function dc(K,st){return Xe(st,function(X){return K[X]})}function la(K,st){return K.has(st)}function zl(K,st){for(var X=-1,Jt=K.length;++X<Jt&&fo(st,K[X],0)>-1;);return X}function Ll(K,st){for(var X=K.length;X--&&fo(st,K[X],0)>-1;);return X}function m3(K,st){for(var X=K.length,Jt=0;X--;)K[X]===st&&++Jt;return Jt}var v3=cc(t3),y3=cc(e3);function w3(K){return"\\"+i3[K]}function A3(K,st){return K==null?r:K[st]}function lo(K){return Vv.test(K)}function b3(K){return Wv.test(K)}function E3(K){for(var st,X=[];!(st=K.next()).done;)X.push(st.value);return X}function pc(K){var st=-1,X=Array(K.size);return K.forEach(function(Jt,te){X[++st]=[te,Jt]}),X}function Hl(K,st){return function(X){return K(st(X))}}function gs(K,st){for(var X=-1,Jt=K.length,te=0,Ee=[];++X<Jt;){var ar=K[X];(ar===st||ar===_)&&(K[X]=_,Ee[te++]=X)}return Ee}function ph(K){var st=-1,X=Array(K.size);return K.forEach(function(Jt){X[++st]=Jt}),X}function M3(K){var st=-1,X=Array(K.size);return K.forEach(function(Jt){X[++st]=[Jt,Jt]}),X}function I3(K,st,X){for(var Jt=X-1,te=K.length;++Jt<te;)if(K[Jt]===st)return Jt;return-1}function _3(K,st,X){for(var Jt=X+1;Jt--;)if(K[Jt]===st)return Jt;return Jt}function po(K){return lo(K)?N3(K):c3(K)}function Ji(K){return lo(K)?C3(K):f3(K)}function $l(K){for(var st=K.length;st--&&Je.test(K.charAt(st)););return st}var S3=cc(r3);function N3(K){for(var st=ic.lastIndex=0;ic.test(K);)++st;return st}function C3(K){return K.match(ic)||[]}function R3(K){return K.match(Yv)||[]}var P3=function K(st){st=st==null?pr:go.defaults(pr.Object(),st,go.pick(pr,Xv));var X=st.Array,Jt=st.Date,te=st.Error,Ee=st.Function,ar=st.Math,De=st.Object,gc=st.RegExp,x3=st.String,_i=st.TypeError,gh=X.prototype,B3=Ee.prototype,mo=De.prototype,mh=st["__core-js_shared__"],vh=B3.toString,_e=mo.hasOwnProperty,T3=0,jl=function(){var o=/[^.]+$/.exec(mh&&mh.keys&&mh.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),yh=mo.toString,O3=vh.call(De),F3=pr._,D3=gc("^"+vh.call(_e).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wh=Nl?st.Buffer:r,ms=st.Symbol,Ah=st.Uint8Array,Kl=wh?wh.allocUnsafe:r,bh=Hl(De.getPrototypeOf,De),Ql=De.create,Gl=mo.propertyIsEnumerable,Eh=gh.splice,Jl=ms?ms.isConcatSpreadable:r,da=ms?ms.iterator:r,Ls=ms?ms.toStringTag:r,Mh=function(){try{var o=Qs(De,"defineProperty");return o({},"",{}),o}catch{}}(),k3=st.clearTimeout!==pr.clearTimeout&&st.clearTimeout,U3=Jt&&Jt.now!==pr.Date.now&&Jt.now,q3=st.setTimeout!==pr.setTimeout&&st.setTimeout,Ih=ar.ceil,_h=ar.floor,mc=De.getOwnPropertySymbols,z3=wh?wh.isBuffer:r,Yl=st.isFinite,L3=gh.join,H3=Hl(De.keys,De),hr=ar.max,_r=ar.min,$3=Jt.now,j3=st.parseInt,Vl=ar.random,K3=gh.reverse,vc=Qs(st,"DataView"),pa=Qs(st,"Map"),yc=Qs(st,"Promise"),vo=Qs(st,"Set"),ga=Qs(st,"WeakMap"),ma=Qs(De,"create"),Sh=ga&&new ga,yo={},Q3=Gs(vc),G3=Gs(pa),J3=Gs(yc),Y3=Gs(vo),V3=Gs(ga),Nh=ms?ms.prototype:r,va=Nh?Nh.valueOf:r,Wl=Nh?Nh.toString:r;function B(o){if(er(o)&&!ee(o)&&!(o instanceof de)){if(o instanceof Si)return o;if(_e.call(o,"__wrapped__"))return Xd(o)}return new Si(o)}var wo=function(){function o(){}return function(u){if(!tr(u))return{};if(Ql)return Ql(u);o.prototype=u;var p=new o;return o.prototype=r,p}}();function Ch(){}function Si(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=r}B.templateSettings={escape:Qe,evaluate:kt,interpolate:Ct,variable:"",imports:{_:B}},B.prototype=Ch.prototype,B.prototype.constructor=B,Si.prototype=wo(Ch.prototype),Si.prototype.constructor=Si;function de(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function W3(){var o=new de(this.__wrapped__);return o.__actions__=jr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=jr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=jr(this.__views__),o}function X3(){if(this.__filtered__){var o=new de(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Z3(){var o=this.__wrapped__.value(),u=this.__dir__,p=ee(o),M=u<0,N=p?o.length:0,F=fw(0,N,this.__views__),D=F.start,L=F.end,G=L-D,ot=M?L:D-1,at=this.__iteratees__,ct=at.length,Qt=0,Vt=_r(G,this.__takeCount__);if(!p||!M&&N==G&&Vt==G)return bd(o,this.__actions__);var Xt=[];t:for(;G--&&Qt<Vt;){ot+=u;for(var ue=-1,Zt=o[ot];++ue<ct;){var fe=at[ue],be=fe.iteratee,pi=fe.type,Tr=be(Zt);if(pi==d)Zt=Tr;else if(!Tr){if(pi==c)continue t;break t}}Xt[Qt++]=Zt}return Xt}de.prototype=wo(Ch.prototype),de.prototype.constructor=de;function Hs(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var M=o[u];this.set(M[0],M[1])}}function ty(){this.__data__=ma?ma(null):{},this.size=0}function ey(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function ry(o){var u=this.__data__;if(ma){var p=u[o];return p===b?r:p}return _e.call(u,o)?u[o]:r}function iy(o){var u=this.__data__;return ma?u[o]!==r:_e.call(u,o)}function ny(o,u){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=ma&&u===r?b:u,this}Hs.prototype.clear=ty,Hs.prototype.delete=ey,Hs.prototype.get=ry,Hs.prototype.has=iy,Hs.prototype.set=ny;function $n(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var M=o[u];this.set(M[0],M[1])}}function sy(){this.__data__=[],this.size=0}function oy(o){var u=this.__data__,p=Rh(u,o);if(p<0)return!1;var M=u.length-1;return p==M?u.pop():Eh.call(u,p,1),--this.size,!0}function ay(o){var u=this.__data__,p=Rh(u,o);return p<0?r:u[p][1]}function hy(o){return Rh(this.__data__,o)>-1}function uy(o,u){var p=this.__data__,M=Rh(p,o);return M<0?(++this.size,p.push([o,u])):p[M][1]=u,this}$n.prototype.clear=sy,$n.prototype.delete=oy,$n.prototype.get=ay,$n.prototype.has=hy,$n.prototype.set=uy;function jn(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var M=o[u];this.set(M[0],M[1])}}function cy(){this.size=0,this.__data__={hash:new Hs,map:new(pa||$n),string:new Hs}}function fy(o){var u=Lh(this,o).delete(o);return this.size-=u?1:0,u}function ly(o){return Lh(this,o).get(o)}function dy(o){return Lh(this,o).has(o)}function py(o,u){var p=Lh(this,o),M=p.size;return p.set(o,u),this.size+=p.size==M?0:1,this}jn.prototype.clear=cy,jn.prototype.delete=fy,jn.prototype.get=ly,jn.prototype.has=dy,jn.prototype.set=py;function $s(o){var u=-1,p=o==null?0:o.length;for(this.__data__=new jn;++u<p;)this.add(o[u])}function gy(o){return this.__data__.set(o,b),this}function my(o){return this.__data__.has(o)}$s.prototype.add=$s.prototype.push=gy,$s.prototype.has=my;function Yi(o){var u=this.__data__=new $n(o);this.size=u.size}function vy(){this.__data__=new $n,this.size=0}function yy(o){var u=this.__data__,p=u.delete(o);return this.size=u.size,p}function wy(o){return this.__data__.get(o)}function Ay(o){return this.__data__.has(o)}function by(o,u){var p=this.__data__;if(p instanceof $n){var M=p.__data__;if(!pa||M.length<n-1)return M.push([o,u]),this.size=++p.size,this;p=this.__data__=new jn(M)}return p.set(o,u),this.size=p.size,this}Yi.prototype.clear=vy,Yi.prototype.delete=yy,Yi.prototype.get=wy,Yi.prototype.has=Ay,Yi.prototype.set=by;function Xl(o,u){var p=ee(o),M=!p&&Js(o),N=!p&&!M&&bs(o),F=!p&&!M&&!N&&Mo(o),D=p||M||N||F,L=D?lc(o.length,x3):[],G=L.length;for(var ot in o)(u||_e.call(o,ot))&&!(D&&(ot=="length"||N&&(ot=="offset"||ot=="parent")||F&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||Jn(ot,G)))&&L.push(ot);return L}function Zl(o){var u=o.length;return u?o[Rc(0,u-1)]:r}function Ey(o,u){return Hh(jr(o),js(u,0,o.length))}function My(o){return Hh(jr(o))}function wc(o,u,p){(p!==r&&!Vi(o[u],p)||p===r&&!(u in o))&&Kn(o,u,p)}function ya(o,u,p){var M=o[u];(!(_e.call(o,u)&&Vi(M,p))||p===r&&!(u in o))&&Kn(o,u,p)}function Rh(o,u){for(var p=o.length;p--;)if(Vi(o[p][0],u))return p;return-1}function Iy(o,u,p,M){return vs(o,function(N,F,D){u(M,N,p(N),D)}),M}function td(o,u){return o&&pn(u,ur(u),o)}function _y(o,u){return o&&pn(u,Qr(u),o)}function Kn(o,u,p){u=="__proto__"&&Mh?Mh(o,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[u]=p}function Ac(o,u){for(var p=-1,M=u.length,N=X(M),F=o==null;++p<M;)N[p]=F?r:tf(o,u[p]);return N}function js(o,u,p){return o===o&&(p!==r&&(o=o<=p?o:p),u!==r&&(o=o>=u?o:u)),o}function Ni(o,u,p,M,N,F){var D,L=u&S,G=u&C,ot=u&P;if(p&&(D=N?p(o,M,N,F):p(o)),D!==r)return D;if(!tr(o))return o;var at=ee(o);if(at){if(D=dw(o),!L)return jr(o,D)}else{var ct=Sr(o),Qt=ct==J||ct==it;if(bs(o))return Id(o,L);if(ct==lt||ct==l||Qt&&!N){if(D=G||Qt?{}:$d(o),!L)return G?rw(o,_y(D,o)):ew(o,td(D,o))}else{if(!qe[ct])return N?o:{};D=pw(o,ct,L)}}F||(F=new Yi);var Vt=F.get(o);if(Vt)return Vt;F.set(o,D),y1(o)?o.forEach(function(Zt){D.add(Ni(Zt,u,p,Zt,o,F))}):m1(o)&&o.forEach(function(Zt,fe){D.set(fe,Ni(Zt,u,p,fe,o,F))});var Xt=ot?G?zc:qc:G?Qr:ur,ue=at?r:Xt(o);return Ii(ue||o,function(Zt,fe){ue&&(fe=Zt,Zt=o[fe]),ya(D,fe,Ni(Zt,u,p,fe,o,F))}),D}function Sy(o){var u=ur(o);return function(p){return ed(p,o,u)}}function ed(o,u,p){var M=p.length;if(o==null)return!M;for(o=De(o);M--;){var N=p[M],F=u[N],D=o[N];if(D===r&&!(N in o)||!F(D))return!1}return!0}function rd(o,u,p){if(typeof o!="function")throw new _i(f);return _a(function(){o.apply(r,p)},u)}function wa(o,u,p,M){var N=-1,F=lh,D=!0,L=o.length,G=[],ot=u.length;if(!L)return G;p&&(u=Xe(u,fi(p))),M?(F=oc,D=!1):u.length>=n&&(F=la,D=!1,u=new $s(u));t:for(;++N<L;){var at=o[N],ct=p==null?at:p(at);if(at=M||at!==0?at:0,D&&ct===ct){for(var Qt=ot;Qt--;)if(u[Qt]===ct)continue t;G.push(at)}else F(u,ct,M)||G.push(at)}return G}var vs=Rd(dn),id=Rd(Ec,!0);function Ny(o,u){var p=!0;return vs(o,function(M,N,F){return p=!!u(M,N,F),p}),p}function Ph(o,u,p){for(var M=-1,N=o.length;++M<N;){var F=o[M],D=u(F);if(D!=null&&(L===r?D===D&&!di(D):p(D,L)))var L=D,G=F}return G}function Cy(o,u,p,M){var N=o.length;for(p=se(p),p<0&&(p=-p>N?0:N+p),M=M===r||M>N?N:se(M),M<0&&(M+=N),M=p>M?0:A1(M);p<M;)o[p++]=u;return o}function nd(o,u){var p=[];return vs(o,function(M,N,F){u(M,N,F)&&p.push(M)}),p}function gr(o,u,p,M,N){var F=-1,D=o.length;for(p||(p=mw),N||(N=[]);++F<D;){var L=o[F];u>0&&p(L)?u>1?gr(L,u-1,p,M,N):ps(N,L):M||(N[N.length]=L)}return N}var bc=Pd(),sd=Pd(!0);function dn(o,u){return o&&bc(o,u,ur)}function Ec(o,u){return o&&sd(o,u,ur)}function xh(o,u){return ds(u,function(p){return Yn(o[p])})}function Ks(o,u){u=ws(u,o);for(var p=0,M=u.length;o!=null&&p<M;)o=o[gn(u[p++])];return p&&p==M?o:r}function od(o,u,p){var M=u(o);return ee(o)?M:ps(M,p(o))}function xr(o){return o==null?o===r?je:Pt:Ls&&Ls in De(o)?cw(o):Mw(o)}function Mc(o,u){return o>u}function Ry(o,u){return o!=null&&_e.call(o,u)}function Py(o,u){return o!=null&&u in De(o)}function xy(o,u,p){return o>=_r(u,p)&&o<hr(u,p)}function Ic(o,u,p){for(var M=p?oc:lh,N=o[0].length,F=o.length,D=F,L=X(F),G=1/0,ot=[];D--;){var at=o[D];D&&u&&(at=Xe(at,fi(u))),G=_r(at.length,G),L[D]=!p&&(u||N>=120&&at.length>=120)?new $s(D&&at):r}at=o[0];var ct=-1,Qt=L[0];t:for(;++ct<N&&ot.length<G;){var Vt=at[ct],Xt=u?u(Vt):Vt;if(Vt=p||Vt!==0?Vt:0,!(Qt?la(Qt,Xt):M(ot,Xt,p))){for(D=F;--D;){var ue=L[D];if(!(ue?la(ue,Xt):M(o[D],Xt,p)))continue t}Qt&&Qt.push(Xt),ot.push(Vt)}}return ot}function By(o,u,p,M){return dn(o,function(N,F,D){u(M,p(N),F,D)}),M}function Aa(o,u,p){u=ws(u,o),o=Gd(o,u);var M=o==null?o:o[gn(Ri(u))];return M==null?r:ci(M,o,p)}function ad(o){return er(o)&&xr(o)==l}function Ty(o){return er(o)&&xr(o)==Ie}function Oy(o){return er(o)&&xr(o)==$}function ba(o,u,p,M,N){return o===u?!0:o==null||u==null||!er(o)&&!er(u)?o!==o&&u!==u:Fy(o,u,p,M,ba,N)}function Fy(o,u,p,M,N,F){var D=ee(o),L=ee(u),G=D?x:Sr(o),ot=L?x:Sr(u);G=G==l?lt:G,ot=ot==l?lt:ot;var at=G==lt,ct=ot==lt,Qt=G==ot;if(Qt&&bs(o)){if(!bs(u))return!1;D=!0,at=!1}if(Qt&&!at)return F||(F=new Yi),D||Mo(o)?zd(o,u,p,M,N,F):hw(o,u,G,p,M,N,F);if(!(p&O)){var Vt=at&&_e.call(o,"__wrapped__"),Xt=ct&&_e.call(u,"__wrapped__");if(Vt||Xt){var ue=Vt?o.value():o,Zt=Xt?u.value():u;return F||(F=new Yi),N(ue,Zt,p,M,F)}}return Qt?(F||(F=new Yi),uw(o,u,p,M,N,F)):!1}function Dy(o){return er(o)&&Sr(o)==q}function _c(o,u,p,M){var N=p.length,F=N,D=!M;if(o==null)return!F;for(o=De(o);N--;){var L=p[N];if(D&&L[2]?L[1]!==o[L[0]]:!(L[0]in o))return!1}for(;++N<F;){L=p[N];var G=L[0],ot=o[G],at=L[1];if(D&&L[2]){if(ot===r&&!(G in o))return!1}else{var ct=new Yi;if(M)var Qt=M(ot,at,G,o,u,ct);if(!(Qt===r?ba(at,ot,O|H,M,ct):Qt))return!1}}return!0}function hd(o){if(!tr(o)||yw(o))return!1;var u=Yn(o)?D3:Ce;return u.test(Gs(o))}function ky(o){return er(o)&&xr(o)==gt}function Uy(o){return er(o)&&Sr(o)==Ae}function qy(o){return er(o)&&Jh(o.length)&&!!We[xr(o)]}function ud(o){return typeof o=="function"?o:o==null?Gr:typeof o=="object"?ee(o)?ld(o[0],o[1]):fd(o):x1(o)}function Sc(o){if(!Ia(o))return H3(o);var u=[];for(var p in De(o))_e.call(o,p)&&p!="constructor"&&u.push(p);return u}function zy(o){if(!tr(o))return Ew(o);var u=Ia(o),p=[];for(var M in o)M=="constructor"&&(u||!_e.call(o,M))||p.push(M);return p}function Nc(o,u){return o<u}function cd(o,u){var p=-1,M=Kr(o)?X(o.length):[];return vs(o,function(N,F,D){M[++p]=u(N,F,D)}),M}function fd(o){var u=Hc(o);return u.length==1&&u[0][2]?Kd(u[0][0],u[0][1]):function(p){return p===o||_c(p,o,u)}}function ld(o,u){return jc(o)&&jd(u)?Kd(gn(o),u):function(p){var M=tf(p,o);return M===r&&M===u?ef(p,o):ba(u,M,O|H)}}function Bh(o,u,p,M,N){o!==u&&bc(u,function(F,D){if(N||(N=new Yi),tr(F))Ly(o,u,D,p,Bh,M,N);else{var L=M?M(Qc(o,D),F,D+"",o,u,N):r;L===r&&(L=F),wc(o,D,L)}},Qr)}function Ly(o,u,p,M,N,F,D){var L=Qc(o,p),G=Qc(u,p),ot=D.get(G);if(ot){wc(o,p,ot);return}var at=F?F(L,G,p+"",o,u,D):r,ct=at===r;if(ct){var Qt=ee(G),Vt=!Qt&&bs(G),Xt=!Qt&&!Vt&&Mo(G);at=G,Qt||Vt||Xt?ee(L)?at=L:ir(L)?at=jr(L):Vt?(ct=!1,at=Id(G,!0)):Xt?(ct=!1,at=_d(G,!0)):at=[]:Sa(G)||Js(G)?(at=L,Js(L)?at=b1(L):(!tr(L)||Yn(L))&&(at=$d(G))):ct=!1}ct&&(D.set(G,at),N(at,G,M,F,D),D.delete(G)),wc(o,p,at)}function dd(o,u){var p=o.length;if(p)return u+=u<0?p:0,Jn(u,p)?o[u]:r}function pd(o,u,p){u.length?u=Xe(u,function(F){return ee(F)?function(D){return Ks(D,F.length===1?F[0]:F)}:F}):u=[Gr];var M=-1;u=Xe(u,fi(Wt()));var N=cd(o,function(F,D,L){var G=Xe(u,function(ot){return ot(F)});return{criteria:G,index:++M,value:F}});return p3(N,function(F,D){return tw(F,D,p)})}function Hy(o,u){return gd(o,u,function(p,M){return ef(o,M)})}function gd(o,u,p){for(var M=-1,N=u.length,F={};++M<N;){var D=u[M],L=Ks(o,D);p(L,D)&&Ea(F,ws(D,o),L)}return F}function $y(o){return function(u){return Ks(u,o)}}function Cc(o,u,p,M){var N=M?d3:fo,F=-1,D=u.length,L=o;for(o===u&&(u=jr(u)),p&&(L=Xe(o,fi(p)));++F<D;)for(var G=0,ot=u[F],at=p?p(ot):ot;(G=N(L,at,G,M))>-1;)L!==o&&Eh.call(L,G,1),Eh.call(o,G,1);return o}function md(o,u){for(var p=o?u.length:0,M=p-1;p--;){var N=u[p];if(p==M||N!==F){var F=N;Jn(N)?Eh.call(o,N,1):Bc(o,N)}}return o}function Rc(o,u){return o+_h(Vl()*(u-o+1))}function jy(o,u,p,M){for(var N=-1,F=hr(Ih((u-o)/(p||1)),0),D=X(F);F--;)D[M?F:++N]=o,o+=p;return D}function Pc(o,u){var p="";if(!o||u<1||u>E)return p;do u%2&&(p+=o),u=_h(u/2),u&&(o+=o);while(u);return p}function ce(o,u){return Gc(Qd(o,u,Gr),o+"")}function Ky(o){return Zl(Io(o))}function Qy(o,u){var p=Io(o);return Hh(p,js(u,0,p.length))}function Ea(o,u,p,M){if(!tr(o))return o;u=ws(u,o);for(var N=-1,F=u.length,D=F-1,L=o;L!=null&&++N<F;){var G=gn(u[N]),ot=p;if(G==="__proto__"||G==="constructor"||G==="prototype")return o;if(N!=D){var at=L[G];ot=M?M(at,G,L):r,ot===r&&(ot=tr(at)?at:Jn(u[N+1])?[]:{})}ya(L,G,ot),L=L[G]}return o}var vd=Sh?function(o,u){return Sh.set(o,u),o}:Gr,Gy=Mh?function(o,u){return Mh(o,"toString",{configurable:!0,enumerable:!1,value:nf(u),writable:!0})}:Gr;function Jy(o){return Hh(Io(o))}function Ci(o,u,p){var M=-1,N=o.length;u<0&&(u=-u>N?0:N+u),p=p>N?N:p,p<0&&(p+=N),N=u>p?0:p-u>>>0,u>>>=0;for(var F=X(N);++M<N;)F[M]=o[M+u];return F}function Yy(o,u){var p;return vs(o,function(M,N,F){return p=u(M,N,F),!p}),!!p}function Th(o,u,p){var M=0,N=o==null?M:o.length;if(typeof u=="number"&&u===u&&N<=Y){for(;M<N;){var F=M+N>>>1,D=o[F];D!==null&&!di(D)&&(p?D<=u:D<u)?M=F+1:N=F}return N}return xc(o,u,Gr,p)}function xc(o,u,p,M){var N=0,F=o==null?0:o.length;if(F===0)return 0;u=p(u);for(var D=u!==u,L=u===null,G=di(u),ot=u===r;N<F;){var at=_h((N+F)/2),ct=p(o[at]),Qt=ct!==r,Vt=ct===null,Xt=ct===ct,ue=di(ct);if(D)var Zt=M||Xt;else ot?Zt=Xt&&(M||Qt):L?Zt=Xt&&Qt&&(M||!Vt):G?Zt=Xt&&Qt&&!Vt&&(M||!ue):Vt||ue?Zt=!1:Zt=M?ct<=u:ct<u;Zt?N=at+1:F=at}return _r(F,m)}function yd(o,u){for(var p=-1,M=o.length,N=0,F=[];++p<M;){var D=o[p],L=u?u(D):D;if(!p||!Vi(L,G)){var G=L;F[N++]=D===0?0:D}}return F}function wd(o){return typeof o=="number"?o:di(o)?y:+o}function li(o){if(typeof o=="string")return o;if(ee(o))return Xe(o,li)+"";if(di(o))return Wl?Wl.call(o):"";var u=o+"";return u=="0"&&1/o==-w?"-0":u}function ys(o,u,p){var M=-1,N=lh,F=o.length,D=!0,L=[],G=L;if(p)D=!1,N=oc;else if(F>=n){var ot=u?null:ow(o);if(ot)return ph(ot);D=!1,N=la,G=new $s}else G=u?[]:L;t:for(;++M<F;){var at=o[M],ct=u?u(at):at;if(at=p||at!==0?at:0,D&&ct===ct){for(var Qt=G.length;Qt--;)if(G[Qt]===ct)continue t;u&&G.push(ct),L.push(at)}else N(G,ct,p)||(G!==L&&G.push(ct),L.push(at))}return L}function Bc(o,u){return u=ws(u,o),o=Gd(o,u),o==null||delete o[gn(Ri(u))]}function Ad(o,u,p,M){return Ea(o,u,p(Ks(o,u)),M)}function Oh(o,u,p,M){for(var N=o.length,F=M?N:-1;(M?F--:++F<N)&&u(o[F],F,o););return p?Ci(o,M?0:F,M?F+1:N):Ci(o,M?F+1:0,M?N:F)}function bd(o,u){var p=o;return p instanceof de&&(p=p.value()),ac(u,function(M,N){return N.func.apply(N.thisArg,ps([M],N.args))},p)}function Tc(o,u,p){var M=o.length;if(M<2)return M?ys(o[0]):[];for(var N=-1,F=X(M);++N<M;)for(var D=o[N],L=-1;++L<M;)L!=N&&(F[N]=wa(F[N]||D,o[L],u,p));return ys(gr(F,1),u,p)}function Ed(o,u,p){for(var M=-1,N=o.length,F=u.length,D={};++M<N;){var L=M<F?u[M]:r;p(D,o[M],L)}return D}function Oc(o){return ir(o)?o:[]}function Fc(o){return typeof o=="function"?o:Gr}function ws(o,u){return ee(o)?o:jc(o,u)?[o]:Wd(Me(o))}var Vy=ce;function As(o,u,p){var M=o.length;return p=p===r?M:p,!u&&p>=M?o:Ci(o,u,p)}var Md=k3||function(o){return pr.clearTimeout(o)};function Id(o,u){if(u)return o.slice();var p=o.length,M=Kl?Kl(p):new o.constructor(p);return o.copy(M),M}function Dc(o){var u=new o.constructor(o.byteLength);return new Ah(u).set(new Ah(o)),u}function Wy(o,u){var p=u?Dc(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function Xy(o){var u=new o.constructor(o.source,Rt.exec(o));return u.lastIndex=o.lastIndex,u}function Zy(o){return va?De(va.call(o)):{}}function _d(o,u){var p=u?Dc(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function Sd(o,u){if(o!==u){var p=o!==r,M=o===null,N=o===o,F=di(o),D=u!==r,L=u===null,G=u===u,ot=di(u);if(!L&&!ot&&!F&&o>u||F&&D&&G&&!L&&!ot||M&&D&&G||!p&&G||!N)return 1;if(!M&&!F&&!ot&&o<u||ot&&p&&N&&!M&&!F||L&&p&&N||!D&&N||!G)return-1}return 0}function tw(o,u,p){for(var M=-1,N=o.criteria,F=u.criteria,D=N.length,L=p.length;++M<D;){var G=Sd(N[M],F[M]);if(G){if(M>=L)return G;var ot=p[M];return G*(ot=="desc"?-1:1)}}return o.index-u.index}function Nd(o,u,p,M){for(var N=-1,F=o.length,D=p.length,L=-1,G=u.length,ot=hr(F-D,0),at=X(G+ot),ct=!M;++L<G;)at[L]=u[L];for(;++N<D;)(ct||N<F)&&(at[p[N]]=o[N]);for(;ot--;)at[L++]=o[N++];return at}function Cd(o,u,p,M){for(var N=-1,F=o.length,D=-1,L=p.length,G=-1,ot=u.length,at=hr(F-L,0),ct=X(at+ot),Qt=!M;++N<at;)ct[N]=o[N];for(var Vt=N;++G<ot;)ct[Vt+G]=u[G];for(;++D<L;)(Qt||N<F)&&(ct[Vt+p[D]]=o[N++]);return ct}function jr(o,u){var p=-1,M=o.length;for(u||(u=X(M));++p<M;)u[p]=o[p];return u}function pn(o,u,p,M){var N=!p;p||(p={});for(var F=-1,D=u.length;++F<D;){var L=u[F],G=M?M(p[L],o[L],L,p,o):r;G===r&&(G=o[L]),N?Kn(p,L,G):ya(p,L,G)}return p}function ew(o,u){return pn(o,$c(o),u)}function rw(o,u){return pn(o,Ld(o),u)}function Fh(o,u){return function(p,M){var N=ee(p)?a3:Iy,F=u?u():{};return N(p,o,Wt(M,2),F)}}function Ao(o){return ce(function(u,p){var M=-1,N=p.length,F=N>1?p[N-1]:r,D=N>2?p[2]:r;for(F=o.length>3&&typeof F=="function"?(N--,F):r,D&&Br(p[0],p[1],D)&&(F=N<3?r:F,N=1),u=De(u);++M<N;){var L=p[M];L&&o(u,L,M,F)}return u})}function Rd(o,u){return function(p,M){if(p==null)return p;if(!Kr(p))return o(p,M);for(var N=p.length,F=u?N:-1,D=De(p);(u?F--:++F<N)&&M(D[F],F,D)!==!1;);return p}}function Pd(o){return function(u,p,M){for(var N=-1,F=De(u),D=M(u),L=D.length;L--;){var G=D[o?L:++N];if(p(F[G],G,F)===!1)break}return u}}function iw(o,u,p){var M=u&k,N=Ma(o);function F(){var D=this&&this!==pr&&this instanceof F?N:o;return D.apply(M?p:this,arguments)}return F}function xd(o){return function(u){u=Me(u);var p=lo(u)?Ji(u):r,M=p?p[0]:u.charAt(0),N=p?As(p,1).join(""):u.slice(1);return M[o]()+N}}function bo(o){return function(u){return ac(R1(C1(u).replace(Gv,"")),o,"")}}function Ma(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=wo(o.prototype),M=o.apply(p,u);return tr(M)?M:p}}function nw(o,u,p){var M=Ma(o);function N(){for(var F=arguments.length,D=X(F),L=F,G=Eo(N);L--;)D[L]=arguments[L];var ot=F<3&&D[0]!==G&&D[F-1]!==G?[]:gs(D,G);if(F-=ot.length,F<p)return Dd(o,u,Dh,N.placeholder,r,D,ot,r,r,p-F);var at=this&&this!==pr&&this instanceof N?M:o;return ci(at,this,D)}return N}function Bd(o){return function(u,p,M){var N=De(u);if(!Kr(u)){var F=Wt(p,3);u=ur(u),p=function(L){return F(N[L],L,N)}}var D=o(u,p,M);return D>-1?N[F?u[D]:D]:r}}function Td(o){return Gn(function(u){var p=u.length,M=p,N=Si.prototype.thru;for(o&&u.reverse();M--;){var F=u[M];if(typeof F!="function")throw new _i(f);if(N&&!D&&zh(F)=="wrapper")var D=new Si([],!0)}for(M=D?M:p;++M<p;){F=u[M];var L=zh(F),G=L=="wrapper"?Lc(F):r;G&&Kc(G[0])&&G[1]==(ft|ut|et|tt)&&!G[4].length&&G[9]==1?D=D[zh(G[0])].apply(D,G[3]):D=F.length==1&&Kc(F)?D[L]():D.thru(F)}return function(){var ot=arguments,at=ot[0];if(D&&ot.length==1&&ee(at))return D.plant(at).value();for(var ct=0,Qt=p?u[ct].apply(this,ot):at;++ct<p;)Qt=u[ct].call(this,Qt);return Qt}})}function Dh(o,u,p,M,N,F,D,L,G,ot){var at=u&ft,ct=u&k,Qt=u&W,Vt=u&(ut|nt),Xt=u&Gt,ue=Qt?r:Ma(o);function Zt(){for(var fe=arguments.length,be=X(fe),pi=fe;pi--;)be[pi]=arguments[pi];if(Vt)var Tr=Eo(Zt),gi=m3(be,Tr);if(M&&(be=Nd(be,M,N,Vt)),F&&(be=Cd(be,F,D,Vt)),fe-=gi,Vt&&fe<ot){var nr=gs(be,Tr);return Dd(o,u,Dh,Zt.placeholder,p,be,nr,L,G,ot-fe)}var Wi=ct?p:this,Wn=Qt?Wi[o]:o;return fe=be.length,L?be=Iw(be,L):Xt&&fe>1&&be.reverse(),at&&G<fe&&(be.length=G),this&&this!==pr&&this instanceof Zt&&(Wn=ue||Ma(Wn)),Wn.apply(Wi,be)}return Zt}function Od(o,u){return function(p,M){return By(p,o,u(M),{})}}function kh(o,u){return function(p,M){var N;if(p===r&&M===r)return u;if(p!==r&&(N=p),M!==r){if(N===r)return M;typeof p=="string"||typeof M=="string"?(p=li(p),M=li(M)):(p=wd(p),M=wd(M)),N=o(p,M)}return N}}function kc(o){return Gn(function(u){return u=Xe(u,fi(Wt())),ce(function(p){var M=this;return o(u,function(N){return ci(N,M,p)})})})}function Uh(o,u){u=u===r?" ":li(u);var p=u.length;if(p<2)return p?Pc(u,o):u;var M=Pc(u,Ih(o/po(u)));return lo(u)?As(Ji(M),0,o).join(""):M.slice(0,o)}function sw(o,u,p,M){var N=u&k,F=Ma(o);function D(){for(var L=-1,G=arguments.length,ot=-1,at=M.length,ct=X(at+G),Qt=this&&this!==pr&&this instanceof D?F:o;++ot<at;)ct[ot]=M[ot];for(;G--;)ct[ot++]=arguments[++L];return ci(Qt,N?p:this,ct)}return D}function Fd(o){return function(u,p,M){return M&&typeof M!="number"&&Br(u,p,M)&&(p=M=r),u=Vn(u),p===r?(p=u,u=0):p=Vn(p),M=M===r?u<p?1:-1:Vn(M),jy(u,p,M,o)}}function qh(o){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=Pi(u),p=Pi(p)),o(u,p)}}function Dd(o,u,p,M,N,F,D,L,G,ot){var at=u&ut,ct=at?D:r,Qt=at?r:D,Vt=at?F:r,Xt=at?r:F;u|=at?et:rt,u&=~(at?rt:et),u&ht||(u&=~(k|W));var ue=[o,u,N,Vt,ct,Xt,Qt,L,G,ot],Zt=p.apply(r,ue);return Kc(o)&&Jd(Zt,ue),Zt.placeholder=M,Yd(Zt,o,u)}function Uc(o){var u=ar[o];return function(p,M){if(p=Pi(p),M=M==null?0:_r(se(M),292),M&&Yl(p)){var N=(Me(p)+"e").split("e"),F=u(N[0]+"e"+(+N[1]+M));return N=(Me(F)+"e").split("e"),+(N[0]+"e"+(+N[1]-M))}return u(p)}}var ow=vo&&1/ph(new vo([,-0]))[1]==w?function(o){return new vo(o)}:af;function kd(o){return function(u){var p=Sr(u);return p==q?pc(u):p==Ae?M3(u):g3(u,o(u))}}function Qn(o,u,p,M,N,F,D,L){var G=u&W;if(!G&&typeof o!="function")throw new _i(f);var ot=M?M.length:0;if(ot||(u&=~(et|rt),M=N=r),D=D===r?D:hr(se(D),0),L=L===r?L:se(L),ot-=N?N.length:0,u&rt){var at=M,ct=N;M=N=r}var Qt=G?r:Lc(o),Vt=[o,u,p,M,N,at,ct,F,D,L];if(Qt&&bw(Vt,Qt),o=Vt[0],u=Vt[1],p=Vt[2],M=Vt[3],N=Vt[4],L=Vt[9]=Vt[9]===r?G?0:o.length:hr(Vt[9]-ot,0),!L&&u&(ut|nt)&&(u&=~(ut|nt)),!u||u==k)var Xt=iw(o,u,p);else u==ut||u==nt?Xt=nw(o,u,L):(u==et||u==(k|et))&&!N.length?Xt=sw(o,u,p,M):Xt=Dh.apply(r,Vt);var ue=Qt?vd:Jd;return Yd(ue(Xt,Vt),o,u)}function Ud(o,u,p,M){return o===r||Vi(o,mo[p])&&!_e.call(M,p)?u:o}function qd(o,u,p,M,N,F){return tr(o)&&tr(u)&&(F.set(u,o),Bh(o,u,r,qd,F),F.delete(u)),o}function aw(o){return Sa(o)?r:o}function zd(o,u,p,M,N,F){var D=p&O,L=o.length,G=u.length;if(L!=G&&!(D&&G>L))return!1;var ot=F.get(o),at=F.get(u);if(ot&&at)return ot==u&&at==o;var ct=-1,Qt=!0,Vt=p&H?new $s:r;for(F.set(o,u),F.set(u,o);++ct<L;){var Xt=o[ct],ue=u[ct];if(M)var Zt=D?M(ue,Xt,ct,u,o,F):M(Xt,ue,ct,o,u,F);if(Zt!==r){if(Zt)continue;Qt=!1;break}if(Vt){if(!hc(u,function(fe,be){if(!la(Vt,be)&&(Xt===fe||N(Xt,fe,p,M,F)))return Vt.push(be)})){Qt=!1;break}}else if(!(Xt===ue||N(Xt,ue,p,M,F))){Qt=!1;break}}return F.delete(o),F.delete(u),Qt}function hw(o,u,p,M,N,F,D){switch(p){case dt:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case Ie:return!(o.byteLength!=u.byteLength||!F(new Ah(o),new Ah(u)));case T:case $:case pt:return Vi(+o,+u);case z:return o.name==u.name&&o.message==u.message;case gt:case mt:return o==u+"";case q:var L=pc;case Ae:var G=M&O;if(L||(L=ph),o.size!=u.size&&!G)return!1;var ot=D.get(o);if(ot)return ot==u;M|=H,D.set(o,u);var at=zd(L(o),L(u),M,N,F,D);return D.delete(o),at;case yt:if(va)return va.call(o)==va.call(u)}return!1}function uw(o,u,p,M,N,F){var D=p&O,L=qc(o),G=L.length,ot=qc(u),at=ot.length;if(G!=at&&!D)return!1;for(var ct=G;ct--;){var Qt=L[ct];if(!(D?Qt in u:_e.call(u,Qt)))return!1}var Vt=F.get(o),Xt=F.get(u);if(Vt&&Xt)return Vt==u&&Xt==o;var ue=!0;F.set(o,u),F.set(u,o);for(var Zt=D;++ct<G;){Qt=L[ct];var fe=o[Qt],be=u[Qt];if(M)var pi=D?M(be,fe,Qt,u,o,F):M(fe,be,Qt,o,u,F);if(!(pi===r?fe===be||N(fe,be,p,M,F):pi)){ue=!1;break}Zt||(Zt=Qt=="constructor")}if(ue&&!Zt){var Tr=o.constructor,gi=u.constructor;Tr!=gi&&"constructor"in o&&"constructor"in u&&!(typeof Tr=="function"&&Tr instanceof Tr&&typeof gi=="function"&&gi instanceof gi)&&(ue=!1)}return F.delete(o),F.delete(u),ue}function Gn(o){return Gc(Qd(o,r,e1),o+"")}function qc(o){return od(o,ur,$c)}function zc(o){return od(o,Qr,Ld)}var Lc=Sh?function(o){return Sh.get(o)}:af;function zh(o){for(var u=o.name+"",p=yo[u],M=_e.call(yo,u)?p.length:0;M--;){var N=p[M],F=N.func;if(F==null||F==o)return N.name}return u}function Eo(o){var u=_e.call(B,"placeholder")?B:o;return u.placeholder}function Wt(){var o=B.iteratee||sf;return o=o===sf?ud:o,arguments.length?o(arguments[0],arguments[1]):o}function Lh(o,u){var p=o.__data__;return vw(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Hc(o){for(var u=ur(o),p=u.length;p--;){var M=u[p],N=o[M];u[p]=[M,N,jd(N)]}return u}function Qs(o,u){var p=A3(o,u);return hd(p)?p:r}function cw(o){var u=_e.call(o,Ls),p=o[Ls];try{o[Ls]=r;var M=!0}catch{}var N=yh.call(o);return M&&(u?o[Ls]=p:delete o[Ls]),N}var $c=mc?function(o){return o==null?[]:(o=De(o),ds(mc(o),function(u){return Gl.call(o,u)}))}:hf,Ld=mc?function(o){for(var u=[];o;)ps(u,$c(o)),o=bh(o);return u}:hf,Sr=xr;(vc&&Sr(new vc(new ArrayBuffer(1)))!=dt||pa&&Sr(new pa)!=q||yc&&Sr(yc.resolve())!=ke||vo&&Sr(new vo)!=Ae||ga&&Sr(new ga)!=vt)&&(Sr=function(o){var u=xr(o),p=u==lt?o.constructor:r,M=p?Gs(p):"";if(M)switch(M){case Q3:return dt;case G3:return q;case J3:return ke;case Y3:return Ae;case V3:return vt}return u});function fw(o,u,p){for(var M=-1,N=p.length;++M<N;){var F=p[M],D=F.size;switch(F.type){case"drop":o+=D;break;case"dropRight":u-=D;break;case"take":u=_r(u,o+D);break;case"takeRight":o=hr(o,u-D);break}}return{start:o,end:u}}function lw(o){var u=o.match(Ht);return u?u[1].split(Ye):[]}function Hd(o,u,p){u=ws(u,o);for(var M=-1,N=u.length,F=!1;++M<N;){var D=gn(u[M]);if(!(F=o!=null&&p(o,D)))break;o=o[D]}return F||++M!=N?F:(N=o==null?0:o.length,!!N&&Jh(N)&&Jn(D,N)&&(ee(o)||Js(o)))}function dw(o){var u=o.length,p=new o.constructor(u);return u&&typeof o[0]=="string"&&_e.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function $d(o){return typeof o.constructor=="function"&&!Ia(o)?wo(bh(o)):{}}function pw(o,u,p){var M=o.constructor;switch(u){case Ie:return Dc(o);case T:case $:return new M(+o);case dt:return Wy(o,p);case wt:case Be:case At:case bt:case Te:case Et:case Mt:case Oe:case It:return _d(o,p);case q:return new M;case pt:case mt:return new M(o);case gt:return Xy(o);case Ae:return new M;case yt:return Zy(o)}}function gw(o,u){var p=u.length;if(!p)return o;var M=p-1;return u[M]=(p>1?"& ":"")+u[M],u=u.join(p>2?", ":" "),o.replace(Lt,`{
/* [wrapped with `+u+`] */
`)}function mw(o){return ee(o)||Js(o)||!!(Jl&&o&&o[Jl])}function Jn(o,u){var p=typeof o;return u=u??E,!!u&&(p=="number"||p!="symbol"&&Pe.test(o))&&o>-1&&o%1==0&&o<u}function Br(o,u,p){if(!tr(p))return!1;var M=typeof u;return(M=="number"?Kr(p)&&Jn(u,p.length):M=="string"&&u in p)?Vi(p[u],o):!1}function jc(o,u){if(ee(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||di(o)?!0:Ut.test(o)||!Ge.test(o)||u!=null&&o in De(u)}function vw(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function Kc(o){var u=zh(o),p=B[u];if(typeof p!="function"||!(u in de.prototype))return!1;if(o===p)return!0;var M=Lc(p);return!!M&&o===M[0]}function yw(o){return!!jl&&jl in o}var ww=mh?Yn:uf;function Ia(o){var u=o&&o.constructor,p=typeof u=="function"&&u.prototype||mo;return o===p}function jd(o){return o===o&&!tr(o)}function Kd(o,u){return function(p){return p==null?!1:p[o]===u&&(u!==r||o in De(p))}}function Aw(o){var u=Qh(o,function(M){return p.size===A&&p.clear(),M}),p=u.cache;return u}function bw(o,u){var p=o[1],M=u[1],N=p|M,F=N<(k|W|ft),D=M==ft&&p==ut||M==ft&&p==tt&&o[7].length<=u[8]||M==(ft|tt)&&u[7].length<=u[8]&&p==ut;if(!(F||D))return o;M&k&&(o[2]=u[2],N|=p&k?0:ht);var L=u[3];if(L){var G=o[3];o[3]=G?Nd(G,L,u[4]):L,o[4]=G?gs(o[3],_):u[4]}return L=u[5],L&&(G=o[5],o[5]=G?Cd(G,L,u[6]):L,o[6]=G?gs(o[5],_):u[6]),L=u[7],L&&(o[7]=L),M&ft&&(o[8]=o[8]==null?u[8]:_r(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=N,o}function Ew(o){var u=[];if(o!=null)for(var p in De(o))u.push(p);return u}function Mw(o){return yh.call(o)}function Qd(o,u,p){return u=hr(u===r?o.length-1:u,0),function(){for(var M=arguments,N=-1,F=hr(M.length-u,0),D=X(F);++N<F;)D[N]=M[u+N];N=-1;for(var L=X(u+1);++N<u;)L[N]=M[N];return L[u]=p(D),ci(o,this,L)}}function Gd(o,u){return u.length<2?o:Ks(o,Ci(u,0,-1))}function Iw(o,u){for(var p=o.length,M=_r(u.length,p),N=jr(o);M--;){var F=u[M];o[M]=Jn(F,p)?N[F]:r}return o}function Qc(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var Jd=Vd(vd),_a=q3||function(o,u){return pr.setTimeout(o,u)},Gc=Vd(Gy);function Yd(o,u,p){var M=u+"";return Gc(o,gw(M,_w(lw(M),p)))}function Vd(o){var u=0,p=0;return function(){var M=$3(),N=s-(M-p);if(p=M,N>0){if(++u>=Z)return arguments[0]}else u=0;return o.apply(r,arguments)}}function Hh(o,u){var p=-1,M=o.length,N=M-1;for(u=u===r?M:u;++p<u;){var F=Rc(p,N),D=o[F];o[F]=o[p],o[p]=D}return o.length=u,o}var Wd=Aw(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(qt,function(p,M,N,F){u.push(N?F.replace(Ve,"$1"):M||p)}),u});function gn(o){if(typeof o=="string"||di(o))return o;var u=o+"";return u=="0"&&1/o==-w?"-0":u}function Gs(o){if(o!=null){try{return vh.call(o)}catch{}try{return o+""}catch{}}return""}function _w(o,u){return Ii(Q,function(p){var M="_."+p[0];u&p[1]&&!lh(o,M)&&o.push(M)}),o.sort()}function Xd(o){if(o instanceof de)return o.clone();var u=new Si(o.__wrapped__,o.__chain__);return u.__actions__=jr(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function Sw(o,u,p){(p?Br(o,u,p):u===r)?u=1:u=hr(se(u),0);var M=o==null?0:o.length;if(!M||u<1)return[];for(var N=0,F=0,D=X(Ih(M/u));N<M;)D[F++]=Ci(o,N,N+=u);return D}function Nw(o){for(var u=-1,p=o==null?0:o.length,M=0,N=[];++u<p;){var F=o[u];F&&(N[M++]=F)}return N}function Cw(){var o=arguments.length;if(!o)return[];for(var u=X(o-1),p=arguments[0],M=o;M--;)u[M-1]=arguments[M];return ps(ee(p)?jr(p):[p],gr(u,1))}var Rw=ce(function(o,u){return ir(o)?wa(o,gr(u,1,ir,!0)):[]}),Pw=ce(function(o,u){var p=Ri(u);return ir(p)&&(p=r),ir(o)?wa(o,gr(u,1,ir,!0),Wt(p,2)):[]}),xw=ce(function(o,u){var p=Ri(u);return ir(p)&&(p=r),ir(o)?wa(o,gr(u,1,ir,!0),r,p):[]});function Bw(o,u,p){var M=o==null?0:o.length;return M?(u=p||u===r?1:se(u),Ci(o,u<0?0:u,M)):[]}function Tw(o,u,p){var M=o==null?0:o.length;return M?(u=p||u===r?1:se(u),u=M-u,Ci(o,0,u<0?0:u)):[]}function Ow(o,u){return o&&o.length?Oh(o,Wt(u,3),!0,!0):[]}function Fw(o,u){return o&&o.length?Oh(o,Wt(u,3),!0):[]}function Dw(o,u,p,M){var N=o==null?0:o.length;return N?(p&&typeof p!="number"&&Br(o,u,p)&&(p=0,M=N),Cy(o,u,p,M)):[]}function Zd(o,u,p){var M=o==null?0:o.length;if(!M)return-1;var N=p==null?0:se(p);return N<0&&(N=hr(M+N,0)),dh(o,Wt(u,3),N)}function t1(o,u,p){var M=o==null?0:o.length;if(!M)return-1;var N=M-1;return p!==r&&(N=se(p),N=p<0?hr(M+N,0):_r(N,M-1)),dh(o,Wt(u,3),N,!0)}function e1(o){var u=o==null?0:o.length;return u?gr(o,1):[]}function kw(o){var u=o==null?0:o.length;return u?gr(o,w):[]}function Uw(o,u){var p=o==null?0:o.length;return p?(u=u===r?1:se(u),gr(o,u)):[]}function qw(o){for(var u=-1,p=o==null?0:o.length,M={};++u<p;){var N=o[u];M[N[0]]=N[1]}return M}function r1(o){return o&&o.length?o[0]:r}function zw(o,u,p){var M=o==null?0:o.length;if(!M)return-1;var N=p==null?0:se(p);return N<0&&(N=hr(M+N,0)),fo(o,u,N)}function Lw(o){var u=o==null?0:o.length;return u?Ci(o,0,-1):[]}var Hw=ce(function(o){var u=Xe(o,Oc);return u.length&&u[0]===o[0]?Ic(u):[]}),$w=ce(function(o){var u=Ri(o),p=Xe(o,Oc);return u===Ri(p)?u=r:p.pop(),p.length&&p[0]===o[0]?Ic(p,Wt(u,2)):[]}),jw=ce(function(o){var u=Ri(o),p=Xe(o,Oc);return u=typeof u=="function"?u:r,u&&p.pop(),p.length&&p[0]===o[0]?Ic(p,r,u):[]});function Kw(o,u){return o==null?"":L3.call(o,u)}function Ri(o){var u=o==null?0:o.length;return u?o[u-1]:r}function Qw(o,u,p){var M=o==null?0:o.length;if(!M)return-1;var N=M;return p!==r&&(N=se(p),N=N<0?hr(M+N,0):_r(N,M-1)),u===u?_3(o,u,N):dh(o,Dl,N,!0)}function Gw(o,u){return o&&o.length?dd(o,se(u)):r}var Jw=ce(i1);function i1(o,u){return o&&o.length&&u&&u.length?Cc(o,u):o}function Yw(o,u,p){return o&&o.length&&u&&u.length?Cc(o,u,Wt(p,2)):o}function Vw(o,u,p){return o&&o.length&&u&&u.length?Cc(o,u,r,p):o}var Ww=Gn(function(o,u){var p=o==null?0:o.length,M=Ac(o,u);return md(o,Xe(u,function(N){return Jn(N,p)?+N:N}).sort(Sd)),M});function Xw(o,u){var p=[];if(!(o&&o.length))return p;var M=-1,N=[],F=o.length;for(u=Wt(u,3);++M<F;){var D=o[M];u(D,M,o)&&(p.push(D),N.push(M))}return md(o,N),p}function Jc(o){return o==null?o:K3.call(o)}function Zw(o,u,p){var M=o==null?0:o.length;return M?(p&&typeof p!="number"&&Br(o,u,p)?(u=0,p=M):(u=u==null?0:se(u),p=p===r?M:se(p)),Ci(o,u,p)):[]}function t6(o,u){return Th(o,u)}function e6(o,u,p){return xc(o,u,Wt(p,2))}function r6(o,u){var p=o==null?0:o.length;if(p){var M=Th(o,u);if(M<p&&Vi(o[M],u))return M}return-1}function i6(o,u){return Th(o,u,!0)}function n6(o,u,p){return xc(o,u,Wt(p,2),!0)}function s6(o,u){var p=o==null?0:o.length;if(p){var M=Th(o,u,!0)-1;if(Vi(o[M],u))return M}return-1}function o6(o){return o&&o.length?yd(o):[]}function a6(o,u){return o&&o.length?yd(o,Wt(u,2)):[]}function h6(o){var u=o==null?0:o.length;return u?Ci(o,1,u):[]}function u6(o,u,p){return o&&o.length?(u=p||u===r?1:se(u),Ci(o,0,u<0?0:u)):[]}function c6(o,u,p){var M=o==null?0:o.length;return M?(u=p||u===r?1:se(u),u=M-u,Ci(o,u<0?0:u,M)):[]}function f6(o,u){return o&&o.length?Oh(o,Wt(u,3),!1,!0):[]}function l6(o,u){return o&&o.length?Oh(o,Wt(u,3)):[]}var d6=ce(function(o){return ys(gr(o,1,ir,!0))}),p6=ce(function(o){var u=Ri(o);return ir(u)&&(u=r),ys(gr(o,1,ir,!0),Wt(u,2))}),g6=ce(function(o){var u=Ri(o);return u=typeof u=="function"?u:r,ys(gr(o,1,ir,!0),r,u)});function m6(o){return o&&o.length?ys(o):[]}function v6(o,u){return o&&o.length?ys(o,Wt(u,2)):[]}function y6(o,u){return u=typeof u=="function"?u:r,o&&o.length?ys(o,r,u):[]}function Yc(o){if(!(o&&o.length))return[];var u=0;return o=ds(o,function(p){if(ir(p))return u=hr(p.length,u),!0}),lc(u,function(p){return Xe(o,uc(p))})}function n1(o,u){if(!(o&&o.length))return[];var p=Yc(o);return u==null?p:Xe(p,function(M){return ci(u,r,M)})}var w6=ce(function(o,u){return ir(o)?wa(o,u):[]}),A6=ce(function(o){return Tc(ds(o,ir))}),b6=ce(function(o){var u=Ri(o);return ir(u)&&(u=r),Tc(ds(o,ir),Wt(u,2))}),E6=ce(function(o){var u=Ri(o);return u=typeof u=="function"?u:r,Tc(ds(o,ir),r,u)}),M6=ce(Yc);function I6(o,u){return Ed(o||[],u||[],ya)}function _6(o,u){return Ed(o||[],u||[],Ea)}var S6=ce(function(o){var u=o.length,p=u>1?o[u-1]:r;return p=typeof p=="function"?(o.pop(),p):r,n1(o,p)});function s1(o){var u=B(o);return u.__chain__=!0,u}function N6(o,u){return u(o),o}function $h(o,u){return u(o)}var C6=Gn(function(o){var u=o.length,p=u?o[0]:0,M=this.__wrapped__,N=function(F){return Ac(F,o)};return u>1||this.__actions__.length||!(M instanceof de)||!Jn(p)?this.thru(N):(M=M.slice(p,+p+(u?1:0)),M.__actions__.push({func:$h,args:[N],thisArg:r}),new Si(M,this.__chain__).thru(function(F){return u&&!F.length&&F.push(r),F}))});function R6(){return s1(this)}function P6(){return new Si(this.value(),this.__chain__)}function x6(){this.__values__===r&&(this.__values__=w1(this.value()));var o=this.__index__>=this.__values__.length,u=o?r:this.__values__[this.__index__++];return{done:o,value:u}}function B6(){return this}function T6(o){for(var u,p=this;p instanceof Ch;){var M=Xd(p);M.__index__=0,M.__values__=r,u?N.__wrapped__=M:u=M;var N=M;p=p.__wrapped__}return N.__wrapped__=o,u}function O6(){var o=this.__wrapped__;if(o instanceof de){var u=o;return this.__actions__.length&&(u=new de(this)),u=u.reverse(),u.__actions__.push({func:$h,args:[Jc],thisArg:r}),new Si(u,this.__chain__)}return this.thru(Jc)}function F6(){return bd(this.__wrapped__,this.__actions__)}var D6=Fh(function(o,u,p){_e.call(o,p)?++o[p]:Kn(o,p,1)});function k6(o,u,p){var M=ee(o)?Ol:Ny;return p&&Br(o,u,p)&&(u=r),M(o,Wt(u,3))}function U6(o,u){var p=ee(o)?ds:nd;return p(o,Wt(u,3))}var q6=Bd(Zd),z6=Bd(t1);function L6(o,u){return gr(jh(o,u),1)}function H6(o,u){return gr(jh(o,u),w)}function $6(o,u,p){return p=p===r?1:se(p),gr(jh(o,u),p)}function o1(o,u){var p=ee(o)?Ii:vs;return p(o,Wt(u,3))}function a1(o,u){var p=ee(o)?h3:id;return p(o,Wt(u,3))}var j6=Fh(function(o,u,p){_e.call(o,p)?o[p].push(u):Kn(o,p,[u])});function K6(o,u,p,M){o=Kr(o)?o:Io(o),p=p&&!M?se(p):0;var N=o.length;return p<0&&(p=hr(N+p,0)),Yh(o)?p<=N&&o.indexOf(u,p)>-1:!!N&&fo(o,u,p)>-1}var Q6=ce(function(o,u,p){var M=-1,N=typeof u=="function",F=Kr(o)?X(o.length):[];return vs(o,function(D){F[++M]=N?ci(u,D,p):Aa(D,u,p)}),F}),G6=Fh(function(o,u,p){Kn(o,p,u)});function jh(o,u){var p=ee(o)?Xe:cd;return p(o,Wt(u,3))}function J6(o,u,p,M){return o==null?[]:(ee(u)||(u=u==null?[]:[u]),p=M?r:p,ee(p)||(p=p==null?[]:[p]),pd(o,u,p))}var Y6=Fh(function(o,u,p){o[p?0:1].push(u)},function(){return[[],[]]});function V6(o,u,p){var M=ee(o)?ac:Ul,N=arguments.length<3;return M(o,Wt(u,4),p,N,vs)}function W6(o,u,p){var M=ee(o)?u3:Ul,N=arguments.length<3;return M(o,Wt(u,4),p,N,id)}function X6(o,u){var p=ee(o)?ds:nd;return p(o,Gh(Wt(u,3)))}function Z6(o){var u=ee(o)?Zl:Ky;return u(o)}function tA(o,u,p){(p?Br(o,u,p):u===r)?u=1:u=se(u);var M=ee(o)?Ey:Qy;return M(o,u)}function eA(o){var u=ee(o)?My:Jy;return u(o)}function rA(o){if(o==null)return 0;if(Kr(o))return Yh(o)?po(o):o.length;var u=Sr(o);return u==q||u==Ae?o.size:Sc(o).length}function iA(o,u,p){var M=ee(o)?hc:Yy;return p&&Br(o,u,p)&&(u=r),M(o,Wt(u,3))}var nA=ce(function(o,u){if(o==null)return[];var p=u.length;return p>1&&Br(o,u[0],u[1])?u=[]:p>2&&Br(u[0],u[1],u[2])&&(u=[u[0]]),pd(o,gr(u,1),[])}),Kh=U3||function(){return pr.Date.now()};function sA(o,u){if(typeof u!="function")throw new _i(f);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}}function h1(o,u,p){return u=p?r:u,u=o&&u==null?o.length:u,Qn(o,ft,r,r,r,r,u)}function u1(o,u){var p;if(typeof u!="function")throw new _i(f);return o=se(o),function(){return--o>0&&(p=u.apply(this,arguments)),o<=1&&(u=r),p}}var Vc=ce(function(o,u,p){var M=k;if(p.length){var N=gs(p,Eo(Vc));M|=et}return Qn(o,M,u,p,N)}),c1=ce(function(o,u,p){var M=k|W;if(p.length){var N=gs(p,Eo(c1));M|=et}return Qn(u,M,o,p,N)});function f1(o,u,p){u=p?r:u;var M=Qn(o,ut,r,r,r,r,r,u);return M.placeholder=f1.placeholder,M}function l1(o,u,p){u=p?r:u;var M=Qn(o,nt,r,r,r,r,r,u);return M.placeholder=l1.placeholder,M}function d1(o,u,p){var M,N,F,D,L,G,ot=0,at=!1,ct=!1,Qt=!0;if(typeof o!="function")throw new _i(f);u=Pi(u)||0,tr(p)&&(at=!!p.leading,ct="maxWait"in p,F=ct?hr(Pi(p.maxWait)||0,u):F,Qt="trailing"in p?!!p.trailing:Qt);function Vt(nr){var Wi=M,Wn=N;return M=N=r,ot=nr,D=o.apply(Wn,Wi),D}function Xt(nr){return ot=nr,L=_a(fe,u),at?Vt(nr):D}function ue(nr){var Wi=nr-G,Wn=nr-ot,B1=u-Wi;return ct?_r(B1,F-Wn):B1}function Zt(nr){var Wi=nr-G,Wn=nr-ot;return G===r||Wi>=u||Wi<0||ct&&Wn>=F}function fe(){var nr=Kh();if(Zt(nr))return be(nr);L=_a(fe,ue(nr))}function be(nr){return L=r,Qt&&M?Vt(nr):(M=N=r,D)}function pi(){L!==r&&Md(L),ot=0,M=G=N=L=r}function Tr(){return L===r?D:be(Kh())}function gi(){var nr=Kh(),Wi=Zt(nr);if(M=arguments,N=this,G=nr,Wi){if(L===r)return Xt(G);if(ct)return Md(L),L=_a(fe,u),Vt(G)}return L===r&&(L=_a(fe,u)),D}return gi.cancel=pi,gi.flush=Tr,gi}var oA=ce(function(o,u){return rd(o,1,u)}),aA=ce(function(o,u,p){return rd(o,Pi(u)||0,p)});function hA(o){return Qn(o,Gt)}function Qh(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new _i(f);var p=function(){var M=arguments,N=u?u.apply(this,M):M[0],F=p.cache;if(F.has(N))return F.get(N);var D=o.apply(this,M);return p.cache=F.set(N,D)||F,D};return p.cache=new(Qh.Cache||jn),p}Qh.Cache=jn;function Gh(o){if(typeof o!="function")throw new _i(f);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function uA(o){return u1(2,o)}var cA=Vy(function(o,u){u=u.length==1&&ee(u[0])?Xe(u[0],fi(Wt())):Xe(gr(u,1),fi(Wt()));var p=u.length;return ce(function(M){for(var N=-1,F=_r(M.length,p);++N<F;)M[N]=u[N].call(this,M[N]);return ci(o,this,M)})}),Wc=ce(function(o,u){var p=gs(u,Eo(Wc));return Qn(o,et,r,u,p)}),p1=ce(function(o,u){var p=gs(u,Eo(p1));return Qn(o,rt,r,u,p)}),fA=Gn(function(o,u){return Qn(o,tt,r,r,r,u)});function lA(o,u){if(typeof o!="function")throw new _i(f);return u=u===r?u:se(u),ce(o,u)}function dA(o,u){if(typeof o!="function")throw new _i(f);return u=u==null?0:hr(se(u),0),ce(function(p){var M=p[u],N=As(p,0,u);return M&&ps(N,M),ci(o,this,N)})}function pA(o,u,p){var M=!0,N=!0;if(typeof o!="function")throw new _i(f);return tr(p)&&(M="leading"in p?!!p.leading:M,N="trailing"in p?!!p.trailing:N),d1(o,u,{leading:M,maxWait:u,trailing:N})}function gA(o){return h1(o,1)}function mA(o,u){return Wc(Fc(u),o)}function vA(){if(!arguments.length)return[];var o=arguments[0];return ee(o)?o:[o]}function yA(o){return Ni(o,P)}function wA(o,u){return u=typeof u=="function"?u:r,Ni(o,P,u)}function AA(o){return Ni(o,S|P)}function bA(o,u){return u=typeof u=="function"?u:r,Ni(o,S|P,u)}function EA(o,u){return u==null||ed(o,u,ur(u))}function Vi(o,u){return o===u||o!==o&&u!==u}var MA=qh(Mc),IA=qh(function(o,u){return o>=u}),Js=ad(function(){return arguments}())?ad:function(o){return er(o)&&_e.call(o,"callee")&&!Gl.call(o,"callee")},ee=X.isArray,_A=Cl?fi(Cl):Ty;function Kr(o){return o!=null&&Jh(o.length)&&!Yn(o)}function ir(o){return er(o)&&Kr(o)}function SA(o){return o===!0||o===!1||er(o)&&xr(o)==T}var bs=z3||uf,NA=Rl?fi(Rl):Oy;function CA(o){return er(o)&&o.nodeType===1&&!Sa(o)}function RA(o){if(o==null)return!0;if(Kr(o)&&(ee(o)||typeof o=="string"||typeof o.splice=="function"||bs(o)||Mo(o)||Js(o)))return!o.length;var u=Sr(o);if(u==q||u==Ae)return!o.size;if(Ia(o))return!Sc(o).length;for(var p in o)if(_e.call(o,p))return!1;return!0}function PA(o,u){return ba(o,u)}function xA(o,u,p){p=typeof p=="function"?p:r;var M=p?p(o,u):r;return M===r?ba(o,u,r,p):!!M}function Xc(o){if(!er(o))return!1;var u=xr(o);return u==z||u==U||typeof o.message=="string"&&typeof o.name=="string"&&!Sa(o)}function BA(o){return typeof o=="number"&&Yl(o)}function Yn(o){if(!tr(o))return!1;var u=xr(o);return u==J||u==it||u==R||u==xt}function g1(o){return typeof o=="number"&&o==se(o)}function Jh(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=E}function tr(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function er(o){return o!=null&&typeof o=="object"}var m1=Pl?fi(Pl):Dy;function TA(o,u){return o===u||_c(o,u,Hc(u))}function OA(o,u,p){return p=typeof p=="function"?p:r,_c(o,u,Hc(u),p)}function FA(o){return v1(o)&&o!=+o}function DA(o){if(ww(o))throw new te(a);return hd(o)}function kA(o){return o===null}function UA(o){return o==null}function v1(o){return typeof o=="number"||er(o)&&xr(o)==pt}function Sa(o){if(!er(o)||xr(o)!=lt)return!1;var u=bh(o);if(u===null)return!0;var p=_e.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&vh.call(p)==O3}var Zc=xl?fi(xl):ky;function qA(o){return g1(o)&&o>=-E&&o<=E}var y1=Bl?fi(Bl):Uy;function Yh(o){return typeof o=="string"||!ee(o)&&er(o)&&xr(o)==mt}function di(o){return typeof o=="symbol"||er(o)&&xr(o)==yt}var Mo=Tl?fi(Tl):qy;function zA(o){return o===r}function LA(o){return er(o)&&Sr(o)==vt}function HA(o){return er(o)&&xr(o)==Bt}var $A=qh(Nc),jA=qh(function(o,u){return o<=u});function w1(o){if(!o)return[];if(Kr(o))return Yh(o)?Ji(o):jr(o);if(da&&o[da])return E3(o[da]());var u=Sr(o),p=u==q?pc:u==Ae?ph:Io;return p(o)}function Vn(o){if(!o)return o===0?o:0;if(o=Pi(o),o===w||o===-w){var u=o<0?-1:1;return u*I}return o===o?o:0}function se(o){var u=Vn(o),p=u%1;return u===u?p?u-p:u:0}function A1(o){return o?js(se(o),0,h):0}function Pi(o){if(typeof o=="number")return o;if(di(o))return y;if(tr(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=tr(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=ql(o);var p=Ne.test(o);return p||Re.test(o)?s3(o.slice(2),p?2:8):Se.test(o)?y:+o}function b1(o){return pn(o,Qr(o))}function KA(o){return o?js(se(o),-E,E):o===0?o:0}function Me(o){return o==null?"":li(o)}var QA=Ao(function(o,u){if(Ia(u)||Kr(u)){pn(u,ur(u),o);return}for(var p in u)_e.call(u,p)&&ya(o,p,u[p])}),E1=Ao(function(o,u){pn(u,Qr(u),o)}),Vh=Ao(function(o,u,p,M){pn(u,Qr(u),o,M)}),GA=Ao(function(o,u,p,M){pn(u,ur(u),o,M)}),JA=Gn(Ac);function YA(o,u){var p=wo(o);return u==null?p:td(p,u)}var VA=ce(function(o,u){o=De(o);var p=-1,M=u.length,N=M>2?u[2]:r;for(N&&Br(u[0],u[1],N)&&(M=1);++p<M;)for(var F=u[p],D=Qr(F),L=-1,G=D.length;++L<G;){var ot=D[L],at=o[ot];(at===r||Vi(at,mo[ot])&&!_e.call(o,ot))&&(o[ot]=F[ot])}return o}),WA=ce(function(o){return o.push(r,qd),ci(M1,r,o)});function XA(o,u){return Fl(o,Wt(u,3),dn)}function ZA(o,u){return Fl(o,Wt(u,3),Ec)}function tb(o,u){return o==null?o:bc(o,Wt(u,3),Qr)}function eb(o,u){return o==null?o:sd(o,Wt(u,3),Qr)}function rb(o,u){return o&&dn(o,Wt(u,3))}function ib(o,u){return o&&Ec(o,Wt(u,3))}function nb(o){return o==null?[]:xh(o,ur(o))}function sb(o){return o==null?[]:xh(o,Qr(o))}function tf(o,u,p){var M=o==null?r:Ks(o,u);return M===r?p:M}function ob(o,u){return o!=null&&Hd(o,u,Ry)}function ef(o,u){return o!=null&&Hd(o,u,Py)}var ab=Od(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=yh.call(u)),o[u]=p},nf(Gr)),hb=Od(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=yh.call(u)),_e.call(o,u)?o[u].push(p):o[u]=[p]},Wt),ub=ce(Aa);function ur(o){return Kr(o)?Xl(o):Sc(o)}function Qr(o){return Kr(o)?Xl(o,!0):zy(o)}function cb(o,u){var p={};return u=Wt(u,3),dn(o,function(M,N,F){Kn(p,u(M,N,F),M)}),p}function fb(o,u){var p={};return u=Wt(u,3),dn(o,function(M,N,F){Kn(p,N,u(M,N,F))}),p}var lb=Ao(function(o,u,p){Bh(o,u,p)}),M1=Ao(function(o,u,p,M){Bh(o,u,p,M)}),db=Gn(function(o,u){var p={};if(o==null)return p;var M=!1;u=Xe(u,function(F){return F=ws(F,o),M||(M=F.length>1),F}),pn(o,zc(o),p),M&&(p=Ni(p,S|C|P,aw));for(var N=u.length;N--;)Bc(p,u[N]);return p});function pb(o,u){return I1(o,Gh(Wt(u)))}var gb=Gn(function(o,u){return o==null?{}:Hy(o,u)});function I1(o,u){if(o==null)return{};var p=Xe(zc(o),function(M){return[M]});return u=Wt(u),gd(o,p,function(M,N){return u(M,N[0])})}function mb(o,u,p){u=ws(u,o);var M=-1,N=u.length;for(N||(N=1,o=r);++M<N;){var F=o==null?r:o[gn(u[M])];F===r&&(M=N,F=p),o=Yn(F)?F.call(o):F}return o}function vb(o,u,p){return o==null?o:Ea(o,u,p)}function yb(o,u,p,M){return M=typeof M=="function"?M:r,o==null?o:Ea(o,u,p,M)}var _1=kd(ur),S1=kd(Qr);function wb(o,u,p){var M=ee(o),N=M||bs(o)||Mo(o);if(u=Wt(u,4),p==null){var F=o&&o.constructor;N?p=M?new F:[]:tr(o)?p=Yn(F)?wo(bh(o)):{}:p={}}return(N?Ii:dn)(o,function(D,L,G){return u(p,D,L,G)}),p}function Ab(o,u){return o==null?!0:Bc(o,u)}function bb(o,u,p){return o==null?o:Ad(o,u,Fc(p))}function Eb(o,u,p,M){return M=typeof M=="function"?M:r,o==null?o:Ad(o,u,Fc(p),M)}function Io(o){return o==null?[]:dc(o,ur(o))}function Mb(o){return o==null?[]:dc(o,Qr(o))}function Ib(o,u,p){return p===r&&(p=u,u=r),p!==r&&(p=Pi(p),p=p===p?p:0),u!==r&&(u=Pi(u),u=u===u?u:0),js(Pi(o),u,p)}function _b(o,u,p){return u=Vn(u),p===r?(p=u,u=0):p=Vn(p),o=Pi(o),xy(o,u,p)}function Sb(o,u,p){if(p&&typeof p!="boolean"&&Br(o,u,p)&&(u=p=r),p===r&&(typeof u=="boolean"?(p=u,u=r):typeof o=="boolean"&&(p=o,o=r)),o===r&&u===r?(o=0,u=1):(o=Vn(o),u===r?(u=o,o=0):u=Vn(u)),o>u){var M=o;o=u,u=M}if(p||o%1||u%1){var N=Vl();return _r(o+N*(u-o+n3("1e-"+((N+"").length-1))),u)}return Rc(o,u)}var Nb=bo(function(o,u,p){return u=u.toLowerCase(),o+(p?N1(u):u)});function N1(o){return rf(Me(o).toLowerCase())}function C1(o){return o=Me(o),o&&o.replace(xe,v3).replace(Jv,"")}function Cb(o,u,p){o=Me(o),u=li(u);var M=o.length;p=p===r?M:js(se(p),0,M);var N=p;return p-=u.length,p>=0&&o.slice(p,N)==u}function Rb(o){return o=Me(o),o&&Dt.test(o)?o.replace(Ue,y3):o}function Pb(o){return o=Me(o),o&&zt.test(o)?o.replace(Fe,"\\$&"):o}var xb=bo(function(o,u,p){return o+(p?"-":"")+u.toLowerCase()}),Bb=bo(function(o,u,p){return o+(p?" ":"")+u.toLowerCase()}),Tb=xd("toLowerCase");function Ob(o,u,p){o=Me(o),u=se(u);var M=u?po(o):0;if(!u||M>=u)return o;var N=(u-M)/2;return Uh(_h(N),p)+o+Uh(Ih(N),p)}function Fb(o,u,p){o=Me(o),u=se(u);var M=u?po(o):0;return u&&M<u?o+Uh(u-M,p):o}function Db(o,u,p){o=Me(o),u=se(u);var M=u?po(o):0;return u&&M<u?Uh(u-M,p)+o:o}function kb(o,u,p){return p||u==null?u=0:u&&(u=+u),j3(Me(o).replace(_t,""),u||0)}function Ub(o,u,p){return(p?Br(o,u,p):u===r)?u=1:u=se(u),Pc(Me(o),u)}function qb(){var o=arguments,u=Me(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var zb=bo(function(o,u,p){return o+(p?"_":"")+u.toLowerCase()});function Lb(o,u,p){return p&&typeof p!="number"&&Br(o,u,p)&&(u=p=r),p=p===r?h:p>>>0,p?(o=Me(o),o&&(typeof u=="string"||u!=null&&!Zc(u))&&(u=li(u),!u&&lo(o))?As(Ji(o),0,p):o.split(u,p)):[]}var Hb=bo(function(o,u,p){return o+(p?" ":"")+rf(u)});function $b(o,u,p){return o=Me(o),p=p==null?0:js(se(p),0,o.length),u=li(u),o.slice(p,p+u.length)==u}function jb(o,u,p){var M=B.templateSettings;p&&Br(o,u,p)&&(u=r),o=Me(o),u=Vh({},u,M,Ud);var N=Vh({},u.imports,M.imports,Ud),F=ur(N),D=dc(N,F),L,G,ot=0,at=u.interpolate||Mr,ct="__p += '",Qt=gc((u.escape||Mr).source+"|"+at.source+"|"+(at===Ct?Kt:Mr).source+"|"+(u.evaluate||Mr).source+"|$","g"),Vt="//# sourceURL="+(_e.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zv+"]")+`
`;o.replace(Qt,function(Zt,fe,be,pi,Tr,gi){return be||(be=pi),ct+=o.slice(ot,gi).replace(ri,w3),fe&&(L=!0,ct+=`' +
__e(`+fe+`) +
'`),Tr&&(G=!0,ct+=`';
`+Tr+`;
__p += '`),be&&(ct+=`' +
((__t = (`+be+`)) == null ? '' : __t) +
'`),ot=gi+Zt.length,Zt}),ct+=`';
`;var Xt=_e.call(u,"variable")&&u.variable;if(!Xt)ct=`with (obj) {
`+ct+`
}
`;else if(jt.test(Xt))throw new te(v);ct=(G?ct.replace(Tt,""):ct).replace(Ke,"$1").replace(Ot,"$1;"),ct="function("+(Xt||"obj")+`) {
`+(Xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var ue=P1(function(){return Ee(F,Vt+"return "+ct).apply(r,D)});if(ue.source=ct,Xc(ue))throw ue;return ue}function Kb(o){return Me(o).toLowerCase()}function Qb(o){return Me(o).toUpperCase()}function Gb(o,u,p){if(o=Me(o),o&&(p||u===r))return ql(o);if(!o||!(u=li(u)))return o;var M=Ji(o),N=Ji(u),F=zl(M,N),D=Ll(M,N)+1;return As(M,F,D).join("")}function Jb(o,u,p){if(o=Me(o),o&&(p||u===r))return o.slice(0,$l(o)+1);if(!o||!(u=li(u)))return o;var M=Ji(o),N=Ll(M,Ji(u))+1;return As(M,0,N).join("")}function Yb(o,u,p){if(o=Me(o),o&&(p||u===r))return o.replace(_t,"");if(!o||!(u=li(u)))return o;var M=Ji(o),N=zl(M,Ji(u));return As(M,N).join("")}function Vb(o,u){var p=V,M=j;if(tr(u)){var N="separator"in u?u.separator:N;p="length"in u?se(u.length):p,M="omission"in u?li(u.omission):M}o=Me(o);var F=o.length;if(lo(o)){var D=Ji(o);F=D.length}if(p>=F)return o;var L=p-po(M);if(L<1)return M;var G=D?As(D,0,L).join(""):o.slice(0,L);if(N===r)return G+M;if(D&&(L+=G.length-L),Zc(N)){if(o.slice(L).search(N)){var ot,at=G;for(N.global||(N=gc(N.source,Me(Rt.exec(N))+"g")),N.lastIndex=0;ot=N.exec(at);)var ct=ot.index;G=G.slice(0,ct===r?L:ct)}}else if(o.indexOf(li(N),L)!=L){var Qt=G.lastIndexOf(N);Qt>-1&&(G=G.slice(0,Qt))}return G+M}function Wb(o){return o=Me(o),o&&Ft.test(o)?o.replace(Nt,S3):o}var Xb=bo(function(o,u,p){return o+(p?" ":"")+u.toUpperCase()}),rf=xd("toUpperCase");function R1(o,u,p){return o=Me(o),u=p?r:u,u===r?b3(o)?R3(o):l3(o):o.match(u)||[]}var P1=ce(function(o,u){try{return ci(o,r,u)}catch(p){return Xc(p)?p:new te(p)}}),Zb=Gn(function(o,u){return Ii(u,function(p){p=gn(p),Kn(o,p,Vc(o[p],o))}),o});function t8(o){var u=o==null?0:o.length,p=Wt();return o=u?Xe(o,function(M){if(typeof M[1]!="function")throw new _i(f);return[p(M[0]),M[1]]}):[],ce(function(M){for(var N=-1;++N<u;){var F=o[N];if(ci(F[0],this,M))return ci(F[1],this,M)}})}function e8(o){return Sy(Ni(o,S))}function nf(o){return function(){return o}}function r8(o,u){return o==null||o!==o?u:o}var i8=Td(),n8=Td(!0);function Gr(o){return o}function sf(o){return ud(typeof o=="function"?o:Ni(o,S))}function s8(o){return fd(Ni(o,S))}function o8(o,u){return ld(o,Ni(u,S))}var a8=ce(function(o,u){return function(p){return Aa(p,o,u)}}),h8=ce(function(o,u){return function(p){return Aa(o,p,u)}});function of(o,u,p){var M=ur(u),N=xh(u,M);p==null&&!(tr(u)&&(N.length||!M.length))&&(p=u,u=o,o=this,N=xh(u,ur(u)));var F=!(tr(p)&&"chain"in p)||!!p.chain,D=Yn(o);return Ii(N,function(L){var G=u[L];o[L]=G,D&&(o.prototype[L]=function(){var ot=this.__chain__;if(F||ot){var at=o(this.__wrapped__),ct=at.__actions__=jr(this.__actions__);return ct.push({func:G,args:arguments,thisArg:o}),at.__chain__=ot,at}return G.apply(o,ps([this.value()],arguments))})}),o}function u8(){return pr._===this&&(pr._=F3),this}function af(){}function c8(o){return o=se(o),ce(function(u){return dd(u,o)})}var f8=kc(Xe),l8=kc(Ol),d8=kc(hc);function x1(o){return jc(o)?uc(gn(o)):$y(o)}function p8(o){return function(u){return o==null?r:Ks(o,u)}}var g8=Fd(),m8=Fd(!0);function hf(){return[]}function uf(){return!1}function v8(){return{}}function y8(){return""}function w8(){return!0}function A8(o,u){if(o=se(o),o<1||o>E)return[];var p=h,M=_r(o,h);u=Wt(u),o-=h;for(var N=lc(M,u);++p<o;)u(p);return N}function b8(o){return ee(o)?Xe(o,gn):di(o)?[o]:jr(Wd(Me(o)))}function E8(o){var u=++T3;return Me(o)+u}var M8=kh(function(o,u){return o+u},0),I8=Uc("ceil"),_8=kh(function(o,u){return o/u},1),S8=Uc("floor");function N8(o){return o&&o.length?Ph(o,Gr,Mc):r}function C8(o,u){return o&&o.length?Ph(o,Wt(u,2),Mc):r}function R8(o){return kl(o,Gr)}function P8(o,u){return kl(o,Wt(u,2))}function x8(o){return o&&o.length?Ph(o,Gr,Nc):r}function B8(o,u){return o&&o.length?Ph(o,Wt(u,2),Nc):r}var T8=kh(function(o,u){return o*u},1),O8=Uc("round"),F8=kh(function(o,u){return o-u},0);function D8(o){return o&&o.length?fc(o,Gr):0}function k8(o,u){return o&&o.length?fc(o,Wt(u,2)):0}return B.after=sA,B.ary=h1,B.assign=QA,B.assignIn=E1,B.assignInWith=Vh,B.assignWith=GA,B.at=JA,B.before=u1,B.bind=Vc,B.bindAll=Zb,B.bindKey=c1,B.castArray=vA,B.chain=s1,B.chunk=Sw,B.compact=Nw,B.concat=Cw,B.cond=t8,B.conforms=e8,B.constant=nf,B.countBy=D6,B.create=YA,B.curry=f1,B.curryRight=l1,B.debounce=d1,B.defaults=VA,B.defaultsDeep=WA,B.defer=oA,B.delay=aA,B.difference=Rw,B.differenceBy=Pw,B.differenceWith=xw,B.drop=Bw,B.dropRight=Tw,B.dropRightWhile=Ow,B.dropWhile=Fw,B.fill=Dw,B.filter=U6,B.flatMap=L6,B.flatMapDeep=H6,B.flatMapDepth=$6,B.flatten=e1,B.flattenDeep=kw,B.flattenDepth=Uw,B.flip=hA,B.flow=i8,B.flowRight=n8,B.fromPairs=qw,B.functions=nb,B.functionsIn=sb,B.groupBy=j6,B.initial=Lw,B.intersection=Hw,B.intersectionBy=$w,B.intersectionWith=jw,B.invert=ab,B.invertBy=hb,B.invokeMap=Q6,B.iteratee=sf,B.keyBy=G6,B.keys=ur,B.keysIn=Qr,B.map=jh,B.mapKeys=cb,B.mapValues=fb,B.matches=s8,B.matchesProperty=o8,B.memoize=Qh,B.merge=lb,B.mergeWith=M1,B.method=a8,B.methodOf=h8,B.mixin=of,B.negate=Gh,B.nthArg=c8,B.omit=db,B.omitBy=pb,B.once=uA,B.orderBy=J6,B.over=f8,B.overArgs=cA,B.overEvery=l8,B.overSome=d8,B.partial=Wc,B.partialRight=p1,B.partition=Y6,B.pick=gb,B.pickBy=I1,B.property=x1,B.propertyOf=p8,B.pull=Jw,B.pullAll=i1,B.pullAllBy=Yw,B.pullAllWith=Vw,B.pullAt=Ww,B.range=g8,B.rangeRight=m8,B.rearg=fA,B.reject=X6,B.remove=Xw,B.rest=lA,B.reverse=Jc,B.sampleSize=tA,B.set=vb,B.setWith=yb,B.shuffle=eA,B.slice=Zw,B.sortBy=nA,B.sortedUniq=o6,B.sortedUniqBy=a6,B.split=Lb,B.spread=dA,B.tail=h6,B.take=u6,B.takeRight=c6,B.takeRightWhile=f6,B.takeWhile=l6,B.tap=N6,B.throttle=pA,B.thru=$h,B.toArray=w1,B.toPairs=_1,B.toPairsIn=S1,B.toPath=b8,B.toPlainObject=b1,B.transform=wb,B.unary=gA,B.union=d6,B.unionBy=p6,B.unionWith=g6,B.uniq=m6,B.uniqBy=v6,B.uniqWith=y6,B.unset=Ab,B.unzip=Yc,B.unzipWith=n1,B.update=bb,B.updateWith=Eb,B.values=Io,B.valuesIn=Mb,B.without=w6,B.words=R1,B.wrap=mA,B.xor=A6,B.xorBy=b6,B.xorWith=E6,B.zip=M6,B.zipObject=I6,B.zipObjectDeep=_6,B.zipWith=S6,B.entries=_1,B.entriesIn=S1,B.extend=E1,B.extendWith=Vh,of(B,B),B.add=M8,B.attempt=P1,B.camelCase=Nb,B.capitalize=N1,B.ceil=I8,B.clamp=Ib,B.clone=yA,B.cloneDeep=AA,B.cloneDeepWith=bA,B.cloneWith=wA,B.conformsTo=EA,B.deburr=C1,B.defaultTo=r8,B.divide=_8,B.endsWith=Cb,B.eq=Vi,B.escape=Rb,B.escapeRegExp=Pb,B.every=k6,B.find=q6,B.findIndex=Zd,B.findKey=XA,B.findLast=z6,B.findLastIndex=t1,B.findLastKey=ZA,B.floor=S8,B.forEach=o1,B.forEachRight=a1,B.forIn=tb,B.forInRight=eb,B.forOwn=rb,B.forOwnRight=ib,B.get=tf,B.gt=MA,B.gte=IA,B.has=ob,B.hasIn=ef,B.head=r1,B.identity=Gr,B.includes=K6,B.indexOf=zw,B.inRange=_b,B.invoke=ub,B.isArguments=Js,B.isArray=ee,B.isArrayBuffer=_A,B.isArrayLike=Kr,B.isArrayLikeObject=ir,B.isBoolean=SA,B.isBuffer=bs,B.isDate=NA,B.isElement=CA,B.isEmpty=RA,B.isEqual=PA,B.isEqualWith=xA,B.isError=Xc,B.isFinite=BA,B.isFunction=Yn,B.isInteger=g1,B.isLength=Jh,B.isMap=m1,B.isMatch=TA,B.isMatchWith=OA,B.isNaN=FA,B.isNative=DA,B.isNil=UA,B.isNull=kA,B.isNumber=v1,B.isObject=tr,B.isObjectLike=er,B.isPlainObject=Sa,B.isRegExp=Zc,B.isSafeInteger=qA,B.isSet=y1,B.isString=Yh,B.isSymbol=di,B.isTypedArray=Mo,B.isUndefined=zA,B.isWeakMap=LA,B.isWeakSet=HA,B.join=Kw,B.kebabCase=xb,B.last=Ri,B.lastIndexOf=Qw,B.lowerCase=Bb,B.lowerFirst=Tb,B.lt=$A,B.lte=jA,B.max=N8,B.maxBy=C8,B.mean=R8,B.meanBy=P8,B.min=x8,B.minBy=B8,B.stubArray=hf,B.stubFalse=uf,B.stubObject=v8,B.stubString=y8,B.stubTrue=w8,B.multiply=T8,B.nth=Gw,B.noConflict=u8,B.noop=af,B.now=Kh,B.pad=Ob,B.padEnd=Fb,B.padStart=Db,B.parseInt=kb,B.random=Sb,B.reduce=V6,B.reduceRight=W6,B.repeat=Ub,B.replace=qb,B.result=mb,B.round=O8,B.runInContext=K,B.sample=Z6,B.size=rA,B.snakeCase=zb,B.some=iA,B.sortedIndex=t6,B.sortedIndexBy=e6,B.sortedIndexOf=r6,B.sortedLastIndex=i6,B.sortedLastIndexBy=n6,B.sortedLastIndexOf=s6,B.startCase=Hb,B.startsWith=$b,B.subtract=F8,B.sum=D8,B.sumBy=k8,B.template=jb,B.times=A8,B.toFinite=Vn,B.toInteger=se,B.toLength=A1,B.toLower=Kb,B.toNumber=Pi,B.toSafeInteger=KA,B.toString=Me,B.toUpper=Qb,B.trim=Gb,B.trimEnd=Jb,B.trimStart=Yb,B.truncate=Vb,B.unescape=Wb,B.uniqueId=E8,B.upperCase=Xb,B.upperFirst=rf,B.each=o1,B.eachRight=a1,B.first=r1,of(B,function(){var o={};return dn(B,function(u,p){_e.call(B.prototype,p)||(o[p]=u)}),o}(),{chain:!1}),B.VERSION=i,Ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){B[o].placeholder=B}),Ii(["drop","take"],function(o,u){de.prototype[o]=function(p){p=p===r?1:hr(se(p),0);var M=this.__filtered__&&!u?new de(this):this.clone();return M.__filtered__?M.__takeCount__=_r(p,M.__takeCount__):M.__views__.push({size:_r(p,h),type:o+(M.__dir__<0?"Right":"")}),M},de.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),Ii(["filter","map","takeWhile"],function(o,u){var p=u+1,M=p==c||p==g;de.prototype[o]=function(N){var F=this.clone();return F.__iteratees__.push({iteratee:Wt(N,3),type:p}),F.__filtered__=F.__filtered__||M,F}}),Ii(["head","last"],function(o,u){var p="take"+(u?"Right":"");de.prototype[o]=function(){return this[p](1).value()[0]}}),Ii(["initial","tail"],function(o,u){var p="drop"+(u?"":"Right");de.prototype[o]=function(){return this.__filtered__?new de(this):this[p](1)}}),de.prototype.compact=function(){return this.filter(Gr)},de.prototype.find=function(o){return this.filter(o).head()},de.prototype.findLast=function(o){return this.reverse().find(o)},de.prototype.invokeMap=ce(function(o,u){return typeof o=="function"?new de(this):this.map(function(p){return Aa(p,o,u)})}),de.prototype.reject=function(o){return this.filter(Gh(Wt(o)))},de.prototype.slice=function(o,u){o=se(o);var p=this;return p.__filtered__&&(o>0||u<0)?new de(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),u!==r&&(u=se(u),p=u<0?p.dropRight(-u):p.take(u-o)),p)},de.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},de.prototype.toArray=function(){return this.take(h)},dn(de.prototype,function(o,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),M=/^(?:head|last)$/.test(u),N=B[M?"take"+(u=="last"?"Right":""):u],F=M||/^find/.test(u);N&&(B.prototype[u]=function(){var D=this.__wrapped__,L=M?[1]:arguments,G=D instanceof de,ot=L[0],at=G||ee(D),ct=function(fe){var be=N.apply(B,ps([fe],L));return M&&Qt?be[0]:be};at&&p&&typeof ot=="function"&&ot.length!=1&&(G=at=!1);var Qt=this.__chain__,Vt=!!this.__actions__.length,Xt=F&&!Qt,ue=G&&!Vt;if(!F&&at){D=ue?D:new de(this);var Zt=o.apply(D,L);return Zt.__actions__.push({func:$h,args:[ct],thisArg:r}),new Si(Zt,Qt)}return Xt&&ue?o.apply(this,L):(Zt=this.thru(ct),Xt?M?Zt.value()[0]:Zt.value():Zt)})}),Ii(["pop","push","shift","sort","splice","unshift"],function(o){var u=gh[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",M=/^(?:pop|shift)$/.test(o);B.prototype[o]=function(){var N=arguments;if(M&&!this.__chain__){var F=this.value();return u.apply(ee(F)?F:[],N)}return this[p](function(D){return u.apply(ee(D)?D:[],N)})}}),dn(de.prototype,function(o,u){var p=B[u];if(p){var M=p.name+"";_e.call(yo,M)||(yo[M]=[]),yo[M].push({name:u,func:p})}}),yo[Dh(r,W).name]=[{name:"wrapper",func:r}],de.prototype.clone=W3,de.prototype.reverse=X3,de.prototype.value=Z3,B.prototype.at=C6,B.prototype.chain=R6,B.prototype.commit=P6,B.prototype.next=x6,B.prototype.plant=T6,B.prototype.reverse=O6,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=F6,B.prototype.first=B.prototype.head,da&&(B.prototype[da]=B6),B},go=P3();zs?((zs.exports=go)._=go,nc._=go):pr._=go}).call(qa)})(D0,D0.exports);var OP=Object.defineProperty,FP=Object.defineProperties,DP=Object.getOwnPropertyDescriptors,Qg=Object.getOwnPropertySymbols,kP=Object.prototype.hasOwnProperty,UP=Object.prototype.propertyIsEnumerable,Gg=(e,t,r)=>t in e?OP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lu=(e,t)=>{for(var r in t||(t={}))kP.call(t,r)&&Gg(e,r,t[r]);if(Qg)for(var r of Qg(t))UP.call(t,r)&&Gg(e,r,t[r]);return e},qP=(e,t)=>FP(e,DP(t));function ks(e,t,r){var i;const n=rC(e);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${TP}?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function uo(e){return e.includes(":")?e.split(":")[1]:e}function Dv(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function zP(e,t){const r=Object.keys(t.namespaces).filter(n=>n.includes(e));if(!r.length)return[];const i=[];return r.forEach(n=>{const a=t.namespaces[n].accounts;i.push(...a)}),i}function s0(e={},t={}){const r=Jg(e),i=Jg(t);return D0.exports.merge(r,i)}function Jg(e){var t,r,i,n;const a={};if(!EP(e))return a;for(const[f,v]of Object.entries(e)){const b=hl(f)?[f]:v.chains,A=v.methods||[],_=v.events||[],S=v.rpcMap||{},C=La(f);a[C]=qP(lu(lu({},a[C]),v),{chains:Qf(b,(t=a[C])==null?void 0:t.chains),methods:Qf(A,(r=a[C])==null?void 0:r.methods),events:Qf(_,(i=a[C])==null?void 0:i.events),rpcMap:lu(lu({},S),(n=a[C])==null?void 0:n.rpcMap)})}return a}function LP(e){return e.includes(":")?e.split(":")[2]:e}function Yg(e){const t={};for(const[r,i]of Object.entries(e)){const n=i.methods||[],a=i.events||[],f=i.accounts||[],v=hl(r)?[r]:i.chains?i.chains:Dv(i.accounts);t[r]={chains:v,methods:n,events:a,accounts:f}}return t}function o0(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const kv={},Ze=e=>kv[e],a0=(e,t)=>{kv[e]=t};class HP{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=uo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class $P{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||ks(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=parseInt(uo(r));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let n=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class jP{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=uo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class KP{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=uo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class QP{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),n=uo(r);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class GP{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=uo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class JP{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=uo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new qs(new Us(i,Ze("disableProviderPing")))}}class YP{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||ks(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||ks(t,this.namespace);return typeof i>"u"?void 0:new qs(new Us(i,Ze("disableProviderPing")))}}var VP=Object.defineProperty,WP=Object.defineProperties,XP=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertySymbols,ZP=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,Wg=(e,t,r)=>t in e?VP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,du=(e,t)=>{for(var r in t||(t={}))ZP.call(t,r)&&Wg(e,r,t[r]);if(Vg)for(var r of Vg(t))tx.call(t,r)&&Wg(e,r,t[r]);return e},h0=(e,t)=>WP(e,XP(t));class ul{constructor(t){this.events=new zr.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:z0(Qu({level:t?.logger||jg})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const r=new ul(t);return await r.initialize(),r}async request(t,r,i){const[n,a]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:du({},t),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,n){const a=new Date().getTime();this.request(t,i,n).then(f=>r(null,Gu(a,f))).catch(f=>r(f,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Fg("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(t);r&&(this.uri=r,this.events.emit("display_uri",r));const n=await i();if(this.session=n.session,this.session){const a=Yg(this.session.namespaces);this.namespaces=s0(this.namespaces,a),this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(a=>{this.session=a;const f=Yg(a.namespaces);this.namespaces=s0(this.namespaces,f),this.persist("namespaces",this.namespaces)}).catch(a=>{if(a.message!==ev)throw a;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,n]=this.validateChain(t);this.getProvider(i).setDefaultChain(n,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Dg(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await nl.init({logger:this.providerOpts.logger||jg,relayUrl:this.providerOpts.relayUrl||PP,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>La(r)))];a0("client",this.client),a0("events",this.events),a0("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=zP(r,this.session),n=Dv(i),a=s0(this.namespaces,this.optionalNamespaces),f=h0(du({},a[r]),{accounts:i,chains:n});switch(r){case"eip155":this.rpcProviders[r]=new $P({namespace:f});break;case"solana":this.rpcProviders[r]=new jP({namespace:f});break;case"cosmos":this.rpcProviders[r]=new KP({namespace:f});break;case"polkadot":this.rpcProviders[r]=new HP({namespace:f});break;case"cip34":this.rpcProviders[r]=new QP({namespace:f});break;case"elrond":this.rpcProviders[r]=new GP({namespace:f});break;case"multiversx":this.rpcProviders[r]=new JP({namespace:f});break;case"near":this.rpcProviders[r]=new YP({namespace:f});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const n=i.data;n&&Dg(n)&&this.events.emit("accountsChanged",n.map(LP))}else if(i.name==="chainChanged"){const n=r.chainId,a=r.event.data,f=La(n),v=o0(n)!==o0(a)?`${f}:${o0(a)}`:n;this.onChainChanged(v)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:n}=r,a=(i=this.client)==null?void 0:i.session.get(t);this.session=h0(du({},a),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",h0(du({},Fg("USER_DISCONNECTED")),{data:t.topic}))}),this.on(ls.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:n}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(f=>La(f)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const n=La(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return[n,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);n&&(r||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${Kg}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${Kg}/${t}`)}}const ex=ul,rx="wc",ix="ethereum_provider",nx=`${rx}@2:${ix}:`,sx="https://rpc.walletconnect.com/v1/",k0=["eth_sendTransaction","personal_sign"],ox=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],U0=["chainChanged","accountsChanged"],ax=["chainChanged","accountsChanged","message","disconnect","connect"];var hx=Object.defineProperty,ux=Object.defineProperties,cx=Object.getOwnPropertyDescriptors,Xg=Object.getOwnPropertySymbols,fx=Object.prototype.hasOwnProperty,lx=Object.prototype.propertyIsEnumerable,Zg=(e,t,r)=>t in e?hx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xo=(e,t)=>{for(var r in t||(t={}))fx.call(t,r)&&Zg(e,r,t[r]);if(Xg)for(var r of Xg(t))lx.call(t,r)&&Zg(e,r,t[r]);return e},u0=(e,t)=>ux(e,cx(t));function Ku(e){return Number(e[0].split(":")[1])}function pu(e){return`0x${e.toString(16)}`}function dx(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:a,optionalEvents:f,rpcMap:v}=e;if(!v0(t))throw new Error("Invalid chains");const b={chains:t,methods:i||k0,events:a||U0,rpcMap:xo({},t.length?{[Ku(t)]:v[Ku(t)]}:{})},A=a?.filter(P=>!U0.includes(P)),_=i?.filter(P=>!k0.includes(P));if(!r&&!f&&!n&&!(A!=null&&A.length)&&!(_!=null&&_.length))return{required:t.length?b:void 0};const S=A?.length&&_?.length||!r,C={chains:[...new Set(S?b.chains.concat(r||[]):r)],methods:[...new Set(b.methods.concat(n!=null&&n.length?n:ox))],events:[...new Set(b.events.concat(f!=null&&f.length?f:ax))],rpcMap:v};return{required:t.length?b:void 0,optional:r.length?C:void 0}}class cl{constructor(){this.events=new zr.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=nx,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new cl;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=dx(this.rpc);try{const n=await new Promise(async(f,v)=>{var b;this.rpc.showQrModal&&((b=this.modal)==null||b.subscribeModal(A=>{!A.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),v(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(u0(xo({namespaces:xo({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic})).then(A=>{f(A)}).catch(A=>{v(new Error(A.message))})});if(!n)return;const a=D1(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:pu(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const r=await new Promise(async(n,a)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(v=>{!v.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(u0(xo({},t),{chains:this.rpc.chains})).then(v=>{n(v)}).catch(v=>{a(new Error(v.message))})}),i=r.session;if(i){const n=D1(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:pu(this.chainId)})}return r}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",pu(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",u0(xo({},A7("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",pu(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,n]=t.split(":");return{chainId:`${r}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const n=(r=t?.chains)!=null?r:[],a=(i=t?.optionalChains)!=null?i:[],f=n.concat(a);if(!f.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const v=n.length?t?.methods||k0:[],b=n.length?t?.events||U0:[],A=t?.optionalMethods||[],_=t?.optionalEvents||[],S=t?.rpcMap||this.buildRpcMap(f,t.projectId),C=t?.qrModalOptions||void 0;return{chains:n?.map(P=>this.formatChainId(P)),optionalChains:a.map(P=>this.formatChainId(P)),methods:v,events:b,optionalMethods:A,optionalEvents:_,rpcMap:S,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:C,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(n=>{i[n]=this.getRpcUrl(n,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Ku(this.rpc.chains):Ku(this.rpc.optionalChains),this.signer=await ex.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await Z8(()=>import("./index.07d4c2f6.js").then(n=>n.i),["assets/index.07d4c2f6.js","assets/index.a890a1de.js","assets/index.999128e1.css"]);r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(xo({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:n}=t;r&&v0(r)&&(this.rpc.chains=r.map(a=>this.formatChainId(a)),r.forEach(a=>{this.rpc.rpcMap[a]=n?.[a]||this.getRpcUrl(a)})),i&&v0(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(a=>this.formatChainId(a)),i.forEach(a=>{this.rpc.rpcMap[a]=n?.[a]||this.getRpcUrl(a)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${sx}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const gx=cl;export{gx as EthereumProvider,ax as OPTIONAL_EVENTS,ox as OPTIONAL_METHODS,U0 as REQUIRED_EVENTS,k0 as REQUIRED_METHODS,cl as default};
